"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[7305],{27942:function(n,e,t){t.d(e,{Fh:function(){return m},IN:function(){return b},s7:function(){return C}});var r=t(72006),o=t(43119),i=t(71440),u=t(27081),a=t(24635),s=t(50216);function l(){var n=(0,o.Z)(["\n  fragment HostingTierReplPowerUps on Repl {\n    powerUps {\n      __typename\n      ... on ReplPowerUpTypes {\n        hostingTier {\n          __typename\n          sku\n          methodOfPayment\n        }\n      }\n    }\n  }\n"]);return l=function(){return n},n}function c(){var n=(0,o.Z)(["\n  fragment HostingTierPowerUpCostDetails on PowerUpCostsType {\n    hostingTierE2Micro {\n      cyclesCostNow\n      cyclesCostRecurring\n      methodOfPayment\n      explanation\n    }\n    hostingTierE2Small {\n      cyclesCostNow\n      cyclesCostRecurring\n      methodOfPayment\n      explanation\n    }\n    hostingTierE2Medium {\n      cyclesCostNow\n      cyclesCostRecurring\n      methodOfPayment\n      explanation\n    }\n    hostingTierN1Custom1_4 {\n      cyclesCostNow\n      cyclesCostRecurring\n      methodOfPayment\n      explanation\n    }\n    hostingTierE2Standard2 {\n      cyclesCostNow\n      cyclesCostRecurring\n      methodOfPayment\n      explanation\n    }\n    hostingTierE2Standard4 {\n      cyclesCostNow\n      cyclesCostRecurring\n      methodOfPayment\n      explanation\n    }\n  }\n"]);return c=function(){return n},n}function p(){var n=(0,o.Z)(["\n  fragment HostingTierPowerUpCosts on Repl {\n    id\n    powerUpCosts {\n      __typename\n      ... on PowerUpCostsType {\n        ...HostingTierPowerUpCostDetails\n      }\n      ... on UnauthorizedError {\n        __typename\n        message\n      }\n    }\n  }\n  ","\n"]);return p=function(){return n},n}function d(){var n=(0,o.Z)(["\n  query HostingTierPowerUp($replId: String!) {\n    currentUser {\n      id\n    }\n    repl(id: $replId) {\n      __typename\n      ... on Repl {\n        id\n        owner {\n          __typename\n        }\n        ...HostingTierReplPowerUps\n        ...HostingTierPowerUpCosts\n      }\n    }\n  }\n  ","\n  ","\n"]);return d=function(){return n},n}function f(){var n=(0,o.Z)(["\n  mutation SetHostingTier($input: SetHostingTierInput!) {\n    setHostingTier(input: $input) {\n      __typename\n      ... on UserError {\n        message\n      }\n      ... on PaymentError {\n        message\n      }\n      ... on SetHostingTierResult {\n        repl {\n          ... on Repl {\n            ...HostingTierReplPowerUps\n            ...HostingTierPowerUpCosts\n          }\n        }\n        currentUser {\n          ...PowerUpMutationReturnFields\n        }\n      }\n    }\n  }\n  ","\n  ","\n  ","\n"]);return f=function(){return n},n}var g={},m=(0,i.Ps)(l()),y=(0,i.Ps)(c()),v=(0,i.Ps)(p(),y),h=(0,i.Ps)(d(),m,v);function C(n){var e=(0,r.Z)({},g,n);return a.a(h,e)}var D=(0,i.Ps)(f(),m,v,u.E_);function b(n){var e=(0,r.Z)({},g,n);return s.D(D,e)}},47305:function(n,e,t){t.d(e,{V:function(){return f},h:function(){return g}});var r,o=t(57389),i=t(74985),u=t(39541),a=t(61284),s=t(85368),l=t(51631),c=t(32104),p=t(55523),d=t(25570),f=(r={},(0,o.Z)(r,l.Fe.Suspended,{title:"Paused",color:u.TV.greyDefault}),(0,o.Z)(r,l.Fe.UpdatingTier,{title:"Updating tier",color:u.TV.orangeStronger}),(0,o.Z)(r,l.Fe.Suspending,{title:"Pausing",color:u.TV.orangeStronger}),(0,o.Z)(r,l.Fe.Resuming,{title:"Resuming",color:u.TV.orangeStronger}),(0,o.Z)(r,l.Fe.Pending,{title:"Provisioning",color:u.TV.orangeStronger}),(0,o.Z)(r,l.Fe.Building,{title:"Building",color:u.TV.orangeStronger}),(0,o.Z)(r,l.Fe.Running,{title:"Bundling",color:u.TV.orangeStronger}),(0,o.Z)(r,l.Fe.Promoting,{title:"Promoting",color:u.TV.orangeStronger}),(0,o.Z)(r,l.Fe.Failed,{title:"Failed",color:u.TV.accentNegativeDefault}),(0,o.Z)(r,l.Fe.Success,{title:"Deployed",color:u.TV.accentPositiveDefault}),r),g=function(){var n=(0,p.kW)(),e=(0,p.$y)();if(n===d.z.Loading||!e)return(0,i.tZ)(c.Z,{size:12});var t=e.status,r=t in f?f[t]:{title:"",color:u.TV.greyDefault},o=r.title,l=r.color;return(0,i.BX)(s.G,{css:[u.l0.align.center,u.l0.rowWithGap(6),{textTransform:"capitalize"}],children:[(0,i.tZ)(s.G,{as:"span",css:[u.l0.width("8px"),u.l0.height("8px"),u.l0.borderRadius("full"),{backgroundColor:l,boxShadow:"0 0 12px ".concat(l)}]}),(0,i.tZ)("div",{className:"always-on-indicator","aria-label":o,"data-microtip-position":"bottom",role:"tooltip"}),(0,i.tZ)(a.xv,{multiline:!1,children:o})]})}},56272:function(n,e,t){t.d(e,{KB:function(){return c},P3:function(){return l},Q5:function(){return s},QO:function(){return p},ZG:function(){return a}});var r=t(66091),o=t(5683),i=t(83451),u=t(45347),a=function(n){(0,o.Z)(t,n);var e=(0,u.Z)(t);function t(){var n;return(0,r.Z)(this,t),(n=e.apply(this,arguments)).name="RunCommandNotFoundError",n.message="Could not find run command",n}return t}((0,i.Z)(Error)),s=function(n){(0,o.Z)(t,n);var e=(0,u.Z)(t);function t(){var n;return(0,r.Z)(this,t),(n=e.apply(this,arguments)).name="SubdomainNotFoundError",n.message="Could not find subdomain",n}return t}((0,i.Z)(Error)),l=function(n){(0,o.Z)(t,n);var e=(0,u.Z)(t);function t(){var n;return(0,r.Z)(this,t),(n=e.apply(this,arguments)).name="AppTypeFoundError",n.message="Could not find app type",n}return t}((0,i.Z)(Error)),c=function(n){(0,o.Z)(t,n);var e=(0,u.Z)(t);function t(){var n;return(0,r.Z)(this,t),(n=e.apply(this,arguments)).name="PublicDirFoundError",n.message="Could not find public directory",n}return t}((0,i.Z)(Error)),p=function(n){(0,o.Z)(t,n);var e=(0,u.Z)(t);function t(){var n;return(0,r.Z)(this,t),(n=e.apply(this,arguments)).name="ReplOfflineError",n.message="Repl is offline",n}return t}((0,i.Z)(Error))},55523:function(n,e,t){t.d(e,{jd:function(){return Dn},_U:function(){return mn},rm:function(){return Rn},XA:function(){return Sn},$y:function(){return on},ev:function(){return ln},Sl:function(){return tn},hn:function(){return K},pn:function(){return an},kW:function(){return j},H7:function(){return Y},gg:function(){return Fn},U:function(){return yn},m8:function(){return bn},mF:function(){return Tn}});var r=t(57135),o=t(2272),i=t(96583),u=t(94716),a=t(48330),s=t(12379),l=t(72006),c=t(43119),p=t(71440),d=t(27942),f=t(22607),g=t(9125),m=t(86615),y=t(50216);function v(){var n=(0,c.Z)(["\n  fragment DeploymentSessionHostingDeployment on HostingDeployment {\n    ...TargetHostingDeployment\n    currentBuild {\n      ...CurrentBuild2\n    }\n    inProgressBuild {\n      ...CurrentBuild2\n    }\n  }\n  ","\n  ","\n"]);return v=function(){return n},n}function h(){var n=(0,c.Z)(["\n  fragment DeploymentSessionRepl on Repl {\n    id\n    __typename\n    slug\n    lang {\n      id\n      displayName\n    }\n    config {\n      isVnc\n    }\n    source {\n      release {\n        repl {\n          title\n        }\n      }\n    }\n    owner {\n      __typename\n      ... on User {\n        id\n        username\n      }\n      ... on Team {\n        id\n        username\n      }\n    }\n    hostingDeployment {\n      ... on HostingDeployment {\n        ...DeploymentSessionHostingDeployment\n      }\n      ... on NotFoundError {\n        message\n      }\n      ... on UnauthorizedError {\n        message\n      }\n    }\n    ...HostingTierReplPowerUps\n  }\n  ","\n  ","\n"]);return h=function(){return n},n}function C(){var n=(0,c.Z)(["\n  query DeploymentSession($replId: String!) {\n    repl(id: $replId) {\n      ... on Repl {\n        id\n        ...DeploymentSessionRepl\n      }\n    }\n  }\n  ","\n"]);return C=function(){return n},n}function D(){var n=(0,c.Z)(["\n  subscription DeploymentSessionBuildDeployActionUpdates(\n    $input: HostingBuildDeployActionUpdatesInput!\n  ) {\n    hostingBuildDeployActionUpdates(input: $input) {\n      ... on HostingBuildDeployLogAction {\n        log\n      }\n      ... on HostingBuildDeployStatusAction {\n        status\n        message\n      }\n    }\n  }\n"]);return D=function(){return n},n}function b(){var n=(0,c.Z)(["\n  mutation DeploymentSessionDeployBuild($input: DeployHostingBuild2Input!) {\n    deployHostingBuild2(input: $input) {\n      ... on DeployHostingBuild2Result {\n        build {\n          ...CurrentBuild2\n        }\n        targetDeployment {\n          ...TargetHostingDeployment\n        }\n      }\n      ... on UserError {\n        message\n      }\n      ... on UnauthorizedError {\n        message\n      }\n      ... on NotFoundError {\n        message\n      }\n    }\n  }\n  ","\n  ","\n"]);return b=function(){return n},n}function w(){var n=(0,c.Z)(["\n  mutation DeploymentSessionSendDeploymentLifecycleCommand(\n    $input: SendDeploymentLifecycleCommandInput!\n  ) {\n    sendDeploymentLifecycleCommand(input: $input) {\n      ... on SendDeploymentLifecycleCommandResult {\n        repl {\n          id\n        }\n      }\n      ... on UserError {\n        message\n      }\n      ... on UnauthorizedError {\n        message\n      }\n      ... on NotFoundError {\n        message\n      }\n    }\n  }\n"]);return w=function(){return n},n}function Z(){var n=(0,c.Z)(["\n  mutation DeploymentSessionCancelInProgressDeploymentsBuild(\n    $input: FailHostingBuildInput!\n  ) {\n    failHostingBuild(input: $input) {\n      ... on FailHostingBuildResult {\n        build {\n          ...CurrentBuild2\n        }\n      }\n      ... on UserError {\n        message\n      }\n      ... on UnauthorizedError {\n        message\n      }\n      ... on NotFoundError {\n        message\n      }\n    }\n  }\n  ","\n"]);return Z=function(){return n},n}var S={},P=(0,p.Ps)(v(),f.uC,f.MX),T=(0,p.Ps)(h(),P,d.Fh),_=(0,p.Ps)(C(),T);var R=(0,p.Ps)(D());var F=(0,p.Ps)(b(),f.MX,f.uC);var H=(0,p.Ps)(w());var N=(0,p.Ps)(Z(),f.MX);function E(n){return U.apply(this,arguments)}function U(){return(U=(0,r.Z)((function(n){var e,t,r,o,u,a,l,c,p;return(0,i.__generator)(this,(function(i){switch(i.label){case 0:if(e=n.command,t=n.replId,r=n.buildId,!s.l)throw new Error("expected apolloClient to be initialized");return[4,s.l.mutate({mutation:H,variables:{input:{command:e,replId:t,buildId:r}}})];case 1:if(l=i.sent(),null===(o=l.errors)||void 0===o?void 0:o.length)throw new Error(l.errors.map((function(n){return n.message})).join(", "));if("SendDeploymentLifecycleCommandResult"!==(null===(u=l.data)||void 0===u||null===(a=u.sendDeploymentLifecycleCommand)||void 0===a?void 0:a.__typename))throw new Error((null===(c=l.data)||void 0===c||null===(p=c.sendDeploymentLifecycleCommand)||void 0===p?void 0:p.message)||"An unexpected error occurred while sending command. Please try again or contact support.");return[2]}}))}))).apply(this,arguments)}function B(n){return I.apply(this,arguments)}function I(){return(I=(0,r.Z)((function(n){var e,t,r,o,u,a,l,c;return(0,i.__generator)(this,(function(i){switch(i.label){case 0:if(e=n.buildId,t=n.targetDeploymentId,!s.l)throw new Error("expected apolloClient to be initialized");return[4,s.l.mutate({mutation:N,variables:{input:{buildId:e,targetDeploymentId:t}}})];case 1:if(a=i.sent(),null===(r=a.errors)||void 0===r?void 0:r.length)throw new Error(a.errors.map((function(n){return n.message})).join(", "));if("FailHostingBuildResult"!==(null===(o=a.data)||void 0===o||null===(u=o.failHostingBuild)||void 0===u?void 0:u.__typename))throw new Error((null===(l=a.data)||void 0===l||null===(c=l.failHostingBuild)||void 0===c?void 0:c.message)||"An unexpected error occurred while trying to cancel. Please try again or contact support.");return[2]}}))}))).apply(this,arguments)}var x=t(25570),z=t(57837),O=t(51631),V=t(92153),k=t(91398),$=t(50959),L=t(38270),A=t(88541),X=t(96742),J=t(45285),M=t(92122),Q=t(56272),G=(0,k.cn)(x.z.Loading);function j(){return(0,L.Hg)(G)}var q=(0,k.cn)(void 0);function K(){return(0,L.Hg)(q)}var W=(0,k.cn)(void 0);function Y(){return(0,L.Hg)(W)}var nn=(0,k.cn)(void 0);var en=(0,k.cn)(void 0);function tn(){return(0,L.Hg)(en)}var rn=(0,k.cn)(void 0);function on(){return(0,L.Hg)(rn)}var un=(0,k.cn)(void 0);function an(){return(0,L.Hg)(un)}var sn=(0,k.cn)(void 0);function ln(){return(0,L.Hg)(sn)}var cn=(0,k.cn)(null,(function(n,e){e(q,void 0),e(W,void 0),e(en,void 0),e(rn,void 0),e(un,void 0),e(G,x.z.Ready)})),pn=(0,k.cn)(null,(function(n,e,t){var r="Repl"===t.repl.__typename?t.repl:null;if(r){var o;e(nn,{id:r.lang.id,displayName:r.lang.displayName,isVnc:Boolean(r.config.isVnc)});var i="ReplPowerUpTypes"===r.powerUps.__typename&&null!==(o=r.powerUps.hostingTier)&&void 0!==o?o:void 0;e(en,i);var u=r.hostingDeployment;if(u)return"HostingDeployment"!==u.__typename?e(sn,"Unexpected hosting deployment typename: ".concat(u.__typename)):(e(q,u.id),e(rn,u.currentBuild),e(W,u.replitAppSubdomain||(0,z.Jw)(r)),u.inProgressBuild?(e(un,u.inProgressBuild),void e(G,x.z.Deploying)):void e(G,(0,z.Zx)(u.currentBuild.status)));e(W,(0,z.Jw)(r)),e(G,x.z.Ready)}}));function dn(){var n=(0,L.$X)(pn),e=(0,L.$X)(wn);return(0,o.Z)(function(n){var e=(0,l.Z)({},S,n);return g.t(_,e)}({fetchPolicy:"no-cache",onCompleted:n,onError:function(n){e(n.message)}}),1)[0]}var fn=(0,k.cn)(null,(function(n,e,t){if("HostingBuildDeployStatusAction"===t.__typename){var r=n(G),o=n(un),i=n(rn),u=t.status;if(r===x.z.Deploying){if(!o)return void e(wn,"No deployment in progress found");e(un,(0,V.ZP)(o,(function(n){n.status=u}))),u!==O.Fe.Success&&u!==O.Fe.Failed||(e(un,void 0),u!==O.Fe.Success&&i||e(rn,(0,V.ZP)(o,(function(n){n.status=u,n.hasImageTag=o.provider!==O.r4.Static&&u===O.Fe.Success}))))}else if(r===x.z.ProcessingLifecycleCommand){if(!i)return void e(wn,"No current build found");e(rn,(0,V.ZP)(i,(function(n){n.status=u})))}e(G,(0,z.Zx)(u)),t.message&&u===O.Fe.Failed&&e(wn,t.message)}})),gn=(0,k.cn)(null);function mn(){return(0,L.Hg)(gn)}function yn(n){var e=(0,L.yL)(gn),t=(0,u.Z)(n);$.useEffect((function(){return e.subscribe((function(n){n&&t.current(n)}))}),[e,t])}var vn=(0,k.cn)((function(n){switch(n(G)){case x.z.Deploying:var e;return null===(e=n(un))||void 0===e?void 0:e.id;case x.z.ProcessingLifecycleCommand:var t;return null===(t=n(rn))||void 0===t?void 0:t.id;default:return}})),hn=(0,k.cn)(null,function(){var n=(0,r.Z)((function(n,e,t){var r;return(0,i.__generator)(this,(function(n){return(r=t.data.data)?(e(fn,r.hostingBuildDeployActionUpdates),e(gn,r.hostingBuildDeployActionUpdates),[2]):[2]}))}));return function(e,t,r){return n.apply(this,arguments)}}());function Cn(n){var e=dn(),t=(0,L.$X)(hn),r=(0,L.$X)(wn);(0,$.useEffect)((function(){e({variables:{replId:n}})}),[e,n]);var o=(0,L.Hg)(vn);!function(n){var e=(0,l.Z)({},S,n);m.m(R,e)}({variables:{input:{buildId:null!==o&&void 0!==o?o:""}},skip:!o,onData:t,onError:function(n){r(n.message)}})}function Dn(n){return Cn(n.replId),null}function bn(){var n=(0,a.Z)(),e=dn(),t=(0,L.$X)(G);return $.useCallback((function(){return t(x.z.Loading),e({variables:{replId:n}})}),[e,t,n])}var wn=(0,k.cn)(null,(function(n,e,t){e(sn,t)}));var Zn=(0,k.cn)(null,(function(n,e,t){var r,o=t.deployHostingBuild2;o&&("DeployHostingBuild2Result"===o.__typename?(e(un,o.build),e(q,o.targetDeployment.id),e(W,null!==(r=o.targetDeployment.replitAppSubdomain)&&void 0!==r?r:void 0),e(G,x.z.Deploying)):e(wn,o.message))}));function Sn(){var n=(0,a.Z)(),e=K(),t=(0,J.Z)(),u=(0,o.Z)(function(n){var e=(0,l.Z)({},S,n);return y.D(F,e)}(),1)[0],s=(0,L.$X)(Zn),c=(0,L.$X)(wn),p=(0,L.$X)(G),d=(0,L.XD)(un);return $.useCallback(function(){var o=(0,r.Z)((function(r){var o,a,l,f,g,m,y,v,h,C,D,b,w;return(0,i.__generator)(this,(function(i){switch(i.label){case 0:if(o=r.envVars,a=r.subdomain,l=r.machineConfigurationId,f=r.config,d())return c("Deployment already in progress"),[2];i.label=1;case 1:return i.trys.push([1,5,,6]),p(x.z.Preparing),[4,(0,M.$f)(t.dotReplit)];case 2:if(g=i.sent(),y=(m=f||g).buildCommand,v=m.runCommand,h=m.appType,C=m.publicDir,D=m.ignorePorts,!h)throw new Q.P3;if(!a)throw new Q.Q5;if(h===O.Vp.Static){if(!(0,X.A)(C))throw new Q.KB}else if(!(0,X.A)(v))throw new Q.ZG;return[4,(0,M.OD)({buildCommand:y,runCommand:v,appType:h,publicDir:C,ignorePorts:D},g,t)];case 3:return i.sent(),b=(0,z.oU)(h),[4,u({variables:{input:{replId:n,targetDeploymentId:e,targetMachineConfigurationId:l,commands:{build:y,run:v||""},envVars:o,subdomain:a,provider:b,appType:h}},onCompleted:s})];case 4:return i.sent(),[3,6];case 5:throw w=i.sent(),p(x.z.Ready),w;case 6:return[2]}}))}));return function(n){return o.apply(this,arguments)}}(),[u,s,c,p,d,e,n,t])}var Pn=(0,k.cn)(null,function(){var n=(0,r.Z)((function(n,e,t){var r,o,u,a,s,l;return(0,i.__generator)(this,(function(i){switch(i.label){case 0:if(r=t.command,o=t.replId,u=void 0,r===O.Qc.Resume||r===O.Qc.Suspend){if(!(a=n(rn)))return e(wn,"No current build found"),[2];u=a.id,(s=(0,z.Ti)(r))&&(e(rn,(0,V.ZP)(a,(function(n){n.status=s}))),e(G,(0,z.Zx)(s)))}i.label=1;case 1:return i.trys.push([1,3,,4]),[4,E({command:r,buildId:u,replId:o})];case 2:return i.sent(),r===O.Qc.Destroy&&e(cn),[3,4];case 3:return l=i.sent(),e(wn,l.message),[3,4];case 4:return[2]}}))}));return function(e,t,r){return n.apply(this,arguments)}}());function Tn(){var n=(0,a.Z)(),e=(0,L.$X)(Pn);return $.useCallback(function(){var t=(0,r.Z)((function(t){return(0,i.__generator)(this,(function(r){switch(r.label){case 0:return[4,e({replId:n,command:t})];case 1:return r.sent(),[2]}}))}));return function(n){return t.apply(this,arguments)}}(),[e,n])}var _n=(0,k.cn)(null,function(){var n=(0,r.Z)((function(n,e){var t,r,o,u;return(0,i.__generator)(this,(function(i){switch(i.label){case 0:if(!(t=n(q)))return e(wn,"No deployment found"),[2];if(!(r=n(un)))return e(wn,"No deployment in progress found"),[2];i.label=1;case 1:return i.trys.push([1,3,,4]),[4,B({buildId:r.id,targetDeploymentId:t})];case 2:return i.sent(),[3,4];case 3:return o=i.sent(),e(wn,o.message),[2];case 4:return e(un,void 0),e(G,x.z.Ready),!(u=n(rn))||u.status!==O.Fe.Success&&u.status!==O.Fe.Failed?(e(rn,(0,V.ZP)(r,(function(n){n.status=O.Fe.Failed}))),[2]):[2]}}))}));return function(e,t){return n.apply(this,arguments)}}());function Rn(){return(0,L.$X)(_n)}function Fn(){var n=(0,L.Hg)(nn),e=(0,A.P5)({controlName:"flag-funky-future",logFlagToAnalytics:!1});if(!n)return{isDeployableRepl:!1,reason:"Could not find repl language."};if(n.isVnc)return{isDeployableRepl:!1,reason:"VNC deployments are not currently supported."};if("html"===n.id){if(!e)return{isDeployableRepl:!1,reason:"HTML deployments are not currently supported but are coming soon."}}else if("nix"!==n.id)return{isDeployableRepl:!1,reason:"You will need to upgrade your ".concat(n.displayName," Repl to a Nix template in order to deploy.")};return{isDeployableRepl:!0}}},38270:function(n,e,t){t.d(e,{$X:function(){return f},Hg:function(){return p},N2:function(){return s},XD:function(){return g},aT:function(){return l},yL:function(){return d}});var r=t(50959),o=t(91398),i=t(92683),u=t(82325),a=t(13525);function s(){return(0,o.MT)()}var l=(0,r.createContext)(null);function c(){var n=(0,r.useContext)(l);if(!n)throw new Error("Expected store in context");return n}function p(n){return(0,i.Dv)(n,{store:c()})}function d(n){return(0,a.b)(n,c())}var f=function(n){return(0,i.b9)(n,{store:c()})};function g(n){return(0,u.lV)((0,r.useCallback)((function(e){return e(n)}),[n]),{store:c()})}},25570:function(n,e,t){var r;t.d(e,{z:function(){return r}}),function(n){n.Loading="Loading",n.Ready="Ready",n.Preparing="Preparing",n.Deploying="Deploying",n.ProcessingLifecycleCommand="ProcessingLifecycleCommand",n.Suspended="Suspended"}(r||(r={}))},57837:function(n,e,t){t.d(e,{Jw:function(){return s},Ti:function(){return c},Zx:function(){return l},oU:function(){return p}});var r=t(25570),o=t(51631),i=t(73966),u=t.n(i),a=t(70232);t(30504);function s(n){var e,t=n.owner?"-".concat(null===(e=n.owner)||void 0===e?void 0:e.username):"";return"".concat("").concat(u()(n.slug)).concat(t)}function l(n){switch(n){case o.Fe.Failed:case o.Fe.Success:return r.z.Ready;case o.Fe.Suspended:return r.z.Suspended;case o.Fe.Suspending:case o.Fe.Resuming:case o.Fe.UpdatingTier:return r.z.ProcessingLifecycleCommand;case o.Fe.Pending:case o.Fe.Building:case o.Fe.Running:case o.Fe.Promoting:return r.z.Deploying;default:(0,a.Z)(n)}}function c(n){switch(n){case o.Qc.Destroy:return null;case o.Qc.UpdateMachineConfiguration:return o.Fe.UpdatingTier;case o.Qc.Suspend:return o.Fe.Suspending;case o.Qc.Resume:return o.Fe.Resuming;default:(0,a.Z)(n)}}function p(n){switch(n){case o.Vp.CloudRun:return o.r4.CloudRun;case o.Vp.Worker:case o.Vp.Server:return o.r4.Gce;case o.Vp.Static:return o.r4.Static;default:(0,a.Z)(n)}}},92122:function(n,e,t){t.d(e,{$f:function(){return D},OD:function(){return Z},xk:function(){return y}});var r=t(57135),o=t(2272),i=t(96583),u=t(73677),a=t(29118),s=t(56272),l=t(51631),c=t(34489),p=t(96742),d=t(4024),f=t(75665),g=t(88688),m=t(4561);function y(n){return v.apply(this,arguments)}function v(){return(v=(0,r.Z)((function(n){var e,t;return(0,i.__generator)(this,(function(r){switch(r.label){case 0:return[4,n.readFile(".env")];case 1:if((e=r.sent()).error===m.Df.NotFound)return[2,[]];if(e.error)throw e.error;return t=c.Z.parse(e.content.toString()),[2,Object.entries(t).map((function(n){var e=(0,o.Z)(n,2);return{name:e[0],value:e[1]}}))]}}))}))).apply(this,arguments)}function h(n){return C.apply(this,arguments)}function C(){return(C=(0,r.Z)((function(n){var e,t,r;return(0,i.__generator)(this,(function(o){switch(o.label){case 0:return[4,n.getConfig()];case 1:if(e=o.sent(),t=e.config,(r=e.error)===g.Yt.NotFound)return[2];if(r)throw new Error("Failed to get .replit config with Error: "+r);return[2,t]}}))}))).apply(this,arguments)}function D(n){return b.apply(this,arguments)}function b(){return(b=(0,r.Z)((function(n){var e,t,r,o,u,s,c,p,f,g,m,y,v;return(0,i.__generator)(this,(function(i){switch(i.label){case 0:return e=null,t=null,r=null,o=null,u=null,[4,h(n)];case 1:if(!(s=i.sent()))return[2,{buildCommand:e,runCommand:t,ignorePorts:r,appType:o,publicDir:u}];if(!s.deployment)return[3,2];switch(c=s.deployment,p=c.build,f=c.run,g=c.ignorePorts,m=c.target,y=c.publicDir,p&&(e=(0,d.Cq)(p)),f&&(t=(0,d.Cq)(f)),null!==g&&void 0!==g&&(r=g),m){case a.api.DeploymentConfig.Target.GCE:o=r?l.Vp.Worker:l.Vp.Server;break;case a.api.DeploymentConfig.Target.CLOUDRUN:o=l.Vp.CloudRun;break;case a.api.DeploymentConfig.Target.STATIC:o=l.Vp.Static}return y&&(u=y),[3,4];case 2:return[4,n.getRunConfig()];case 3:v=i.sent(),s.compile&&(e=(0,d.Cq)(s.compile)),v.run?t=(0,d.Cq)(v.run.run):s.run&&(t=(0,d.Cq)(v.run)),i.label=4;case 4:return[2,{buildCommand:e,runCommand:t,ignorePorts:r,appType:o,publicDir:u}]}}))}))).apply(this,arguments)}var w={buildCommand:{delete:function(){return(0,f.xz)("deployment/build")},create:function(n){return(0,f.pi)(n.toString())}},runCommand:{delete:function(){return(0,f.xz)("deployment/run")},create:function(n){return(0,f.X6)(n.toString())}},ignorePorts:{delete:function(){return(0,f.xz)("deployment/ignorePorts")},create:function(n){return(0,f.KB)(Boolean(n))}},appType:{delete:function(){return(0,f.xz)("deployment/deploymentTarget")},create:function(n){var e=null;switch(n){case l.Vp.Server:case l.Vp.Worker:e="gce";break;case l.Vp.CloudRun:e="cloudrun";break;case l.Vp.Static:e="static"}return e?(0,f.zk)(e):null}},publicDir:{delete:function(){return(0,f.xz)("deployment/publicDir")},create:function(n){return(0,f.TT)(n.toString())}}};function Z(n,e,t){return S.apply(this,arguments)}function S(){return(S=(0,r.Z)((function(n,e,t){var r,o,a,l,c,d,f,g,y,v,h,C,D,b,Z;return(0,i.__generator)(this,(function(i){switch(i.label){case 0:r=[],o=!0,a=!1,l=void 0;try{for(c=Object.keys(n)[Symbol.iterator]();!(o=(d=c.next()).done);o=!0)f=d.value,y=n[g=f],v=e[g],h=w[g],y!==v&&("string"===typeof y&&(0,p.A)(y)||"boolean"===typeof y&&y?(C=h.create(y))&&r.push(C):r.push(h.delete()))}catch(S){a=!0,l=S}finally{try{o||null==c.return||c.return()}finally{if(a)throw l}}if(t.container.getConnectionState()!==u.em.CONNECTED)throw new s.QO;return r.length?[4,t.dotReplit.updateDotReplit(r)]:[3,2];case 1:if(D=i.sent(),b=D.error)throw new Error(b);i.label=2;case 2:return Z=null,[4,new Promise((function(n){t.fs.getStatus()!==m.kO.Syncing&&n(!0),Z=setInterval((function(){t.fs.getStatus()===m.kO.Syncing||n(!0)}),1e3)}))];case 3:return i.sent(),Z&&clearInterval(Z),[2]}}))}))).apply(this,arguments)}},22607:function(n,e,t){t.d(e,{MX:function(){return g},bN:function(){return f},uC:function(){return d}});var r=t(43119),o=t(71440);function i(){var n=(0,r.Z)(["\n  fragment ReplDomain2 on Domain {\n    hosting_deployment_id\n    domain\n    state\n  }\n"]);return i=function(){return n},n}function u(){var n=(0,r.Z)(["\n  fragment CustomDomain on Domain {\n    ...ReplDomain2\n  }\n  ","\n"]);return u=function(){return n},n}function a(){var n=(0,r.Z)(["\n  fragment TargetHostingDeployment on HostingDeployment {\n    id\n    replitAppSubdomain\n  }\n"]);return a=function(){return n},n}function s(){var n=(0,r.Z)(["\n  fragment MachineConfiguration on HostingMachineConfiguration {\n    id\n    label\n    vcpu\n    memory\n  }\n"]);return s=function(){return n},n}function l(){var n=(0,r.Z)(["\n  fragment CurrentBuild2 on HostingBuild {\n    id\n    description\n    status\n    timeCreated\n    hasImageTag\n    envVars {\n      name\n      value\n    }\n    repl {\n      id\n      slug\n      apexProxy\n      domains {\n        ... on Domain {\n          ...CustomDomain\n        }\n      }\n      owner {\n        ... on Team {\n          id\n          username\n        }\n        ... on User {\n          id\n          username\n        }\n      }\n      hostingDeployment {\n        ... on HostingDeployment {\n          ...TargetHostingDeployment\n        }\n      }\n    }\n    provider\n    machineConfiguration {\n      ...MachineConfiguration\n    }\n    user {\n      id\n      displayName\n      username\n    }\n  }\n  ","\n  ","\n  ","\n"]);return l=function(){return n},n}var c=(0,o.Ps)(i()),p=(0,o.Ps)(u(),c),d=(0,o.Ps)(a()),f=(0,o.Ps)(s()),g=(0,o.Ps)(l(),p,d,f)},96742:function(n,e,t){t.d(e,{A:function(){return r},G:function(){return o}});var r=function(n){return"string"===typeof n&&""!==n.trim()},o=function(n){return"object"===typeof n&&"string"===typeof n.name&&"string"===typeof n.value&&""!==n.name}},4024:function(n,e,t){t.d(e,{Cq:function(){return i},fl:function(){return o}});var r=t(29118),o=function(n){return n?"string"===typeof n||Array.isArray(n)?n:n.args?n.blocking||n.splitLogs||n.splitStderr||Object.keys(null!==(e=n.env)&&void 0!==e?e:{}).length>0||(null!==(t=n.lifecycle)&&void 0!==t?t:r.api.Exec.Lifecycle.NON_BLOCKING)!==r.api.Exec.Lifecycle.NON_BLOCKING?n:n.args.length>=3&&"sh"===n.args[0]&&"-c"===n.args[1]?3===n.args.length?n.args[2]:n.args.slice(2):1===n.args.length?n.args[0]:0===n.args.length?"":n.args:"":"";var e,t},i=function(n){return n&&n.args?(n.args&&n.args.length>=3&&"sh"===n.args[0]&&"-c"===n.args[1]?n.args.slice(2):n.args).join(" "):""}},75665:function(n,e,t){t.d(e,{$0:function(){return l},D3:function(){return i},If:function(){return o},Jk:function(){return c},KB:function(){return f},KQ:function(){return r},TT:function(){return m},X6:function(){return p},lw:function(){return s},pi:function(){return d},qR:function(){return u},xz:function(){return a},zk:function(){return g}});var r=function(n){return{op:"add",path:"run",value:JSON.stringify(n)}},o=function(n){return{op:"add",path:"entrypoint",value:JSON.stringify(n)}},i=function(n){return{op:"add",path:"compile",value:JSON.stringify(n)}},u=function(n){return{op:"add",path:"onBoot",value:JSON.stringify(n)}},a=function(n){return{op:"remove",path:"string"===typeof n?n:n.join("/"),value:""}},s=function(n){return{op:"add",path:"interpreter",value:JSON.stringify(n)}},l=function(n){return{op:"add",path:"auth/pageEnabled",value:JSON.stringify(n)}},c=function(n){return{op:"add",path:"auth/buttonEnabled",value:JSON.stringify(n)}},p=function(n){return{path:"deployment/run",op:"add",value:JSON.stringify(["sh","-c",n])}},d=function(n){return{path:"deployment/build",op:"add",value:JSON.stringify(["sh","-c",n])}},f=function(n){return{path:"deployment/ignorePorts",op:"add",value:n.toString()}},g=function(n){return{path:"deployment/deploymentTarget",op:"add",value:JSON.stringify(n)}},m=function(n){return{path:"deployment/publicDir",op:"add",value:JSON.stringify(n)}}}}]);
//# sourceMappingURL=7305-9074db72e42a58dd.js.map