(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[6879],{90017:function(e,n,t){(window.__NEXT_P=window.__NEXT_P||[]).push(["/replEnvironmentDesktop",function(){return t(78563)}])},2965:function(e,n,t){"use strict";t.d(n,{gC:function(){return f},LK:function(){return d},jJ:function(){return p}});var r=t(74985),i=t(11969),o=t(45510),a=t(90171),l=["100-days-of-python","100-days-of-python-promo","add-guest-new-user","apps-announcement","appsOnboardingForkRepl","appsOnboardingRunRepl","appsOnboardingSelectRepl","april_2019_hiring","archive-cta","assignment_markdown","boosts-modal","bounties-home-module","bounties-services-tab","classroom-repl-talk-ask-on-error","cleanup-popover-dismissed","codemirror-explorers-banner","create-model-solution","createWebsite","curriculum-launch-modal","custom-themes-banner","cycles-release","cycles-survey","dashboard_new_folder","dashboard_search","dashboard_templates","debugger_start","dec172020maintenance","deployments-banner","desktop-app-nav-menu","devtools-intro","discount_hacker_18","discount_holiday_19","discount_newyear_19","downtime-073118","draw-new-user-cta","edfest-announcement","enveditorintro","file_tree","follow-cursor-avatar-click","ghostwriter-banner","ghostwriter-chat-banner","ghostwriter-repl-resources-cta","ghostwriter-trial-repl-resources-cta","ghostwriter-trial-3-day-left-modal","ghostwriter-trial-banner","ghostwriter-trial-expired-modal","ghostwriter-post-purchase-tour","ghostwriter-existing-user-chat-beta-tour","grid_click","hacker_upgrade","hacker-gift","header-layout-tooltip","home","home-feed","home-onboarding-checklist","home-onboarding-checklist-apps","home-onboarding-checklist-learn","home-onboarding-checklist-repl","home-page-modules-tooltip","hosting_url","introduceYourself","js-4-day-challenge-day-1","js-4-day-challenge-day-2","js-4-day-challenge-day-3","js-4-day-challenge-day-4","js-4-day-challenge-day-end","july_2019_music_jam","july18_irl","landing","languagesInterestedIn","launch-modal","learn-onboarding","legacy-cycles-grant-notice","make_website","march_2019_game_jam","migrated_unnamed_repls","mobile-app-banner","mobile-app-banner-web-update","mobile-announcement","mobile-new-workspace-banner","mobile-survey-banner-11042021","move_unnamed_repls","repricing-announcement","multiplayer","multiplayer_invite","multiplayer_welcome","new_in_repls","new_share","nft-world-2022","onboarding_connection_toast","onboarding_run","onboarding-simplify-experiment","packager-shell-hint","packman","product_hunt","profile-refresh-beta","profile2","projects-overview-cta","projects-overview-tests-disclaimer","publish-guidelines","repl_stars","repl-con-2022","repl-talk-update-2021","repl-talk-update-2022","resources-upgrade-modal","revisions_history","run_on_replit","saw_unnamed_folders","search","self-grouping-projects-cta","series-b-announcement","share_classroom","share_repl_to_talk","show_packager_about_tooltip","show_packager_import_tooltip","show_test_update_tooltip","stack-create-cta","stack-migration-cta","summer_hacker","summer-2021-pd-survey","teams_pro_module","teams-grading-survey","teams-pro-2022","template-jam-announcement","threads-2-announcement","upgrade_module","workspace-always-on-user-reserved-deployments-announcement","workspace-deployments-webview-banner","workspace-desktop-tour","workspace-desktop-tour19","workspace-experience-task-completion-survey-06022022","workspace-experience-task-completion-survey-nudge-06022022","workspace-history-announcement","workspace-tools-databases-postgres-tour","youtube-in-the-ws","themes-announcement","extensions-onboarding-checklist","extensions-onboarding-checklist-create","extensions-onboarding-checklist-concepts","extensions-onboarding-checklist-api","extensions-onboarding-checklist-publish","extensions-store-info","external-claim-privacy-warning","gcp-docs-landing-screen","trending-home-module","following-home-module","storage-announcement","pro-onboarding-tour","pro-trial-expired"];var s=t(63837),c=t(25150),u=t(625);var d=function(e,n){return"".concat(e,"-tutorialChallenge-").concat(n)},p=function(e,n){var t,r,o=JSON.parse(i.Z.get(d(e,n),"string")||"{}");if("string"===typeof(r=o).tourName&&"string"===typeof r.url&&(t=o.tourName,l.includes(t)))return o},f=function(e){var n=e.challenge,t=l.find((function(e){return e.toString()===n.tourName}))||"js-4-day-challenge-day-1",i=(0,c.o)(t),d=i.isDone,p=i.isLoading,f=i.setAsDone,h=(0,a.useRouter)();return p?null:(0,r.tZ)(o.zx,{colorway:d?"primary":"positive",onClick:function(){f(),(0,u.j)(u.U3.TUTORIAL_DONE_BUTTON_COMPLETED),h.push("/~")},disabled:d,iconLeft:(0,r.tZ)(s.Z,{}),big:!0,text:d?"Challenge completed!":"Complete Challenge"})}},99371:function(e,n,t){"use strict";t.d(n,{f:function(){return ie}});var r=t(57135),i=t(2272),o=t(96583),a=t(74985),l=t(43312),s=t(47900),c=t(66539),u=t(39541),d=function(e){var n=e.size;return(0,a.BX)("svg",{width:n,height:n,viewBox:"0 0 32 32",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[(0,a.tZ)("path",{d:"M12.4809 4.27917C14.3036 2.06288 17.6964 2.06288 19.5191 4.27917V4.27917C20.3693 5.31306 21.6312 5.92075 22.9696 5.94087V5.94087C25.8388 5.98401 27.9542 8.63669 27.3578 11.4435V11.4435C27.0796 12.7529 27.3913 14.1183 28.21 15.1773V15.1773C29.9652 17.4474 29.2102 20.7552 26.6439 22.039V22.039C25.4467 22.6378 24.5735 23.7328 24.256 25.0332V25.0332C23.5755 27.8208 20.5186 29.293 17.9149 28.087V28.087C16.7003 27.5244 15.2997 27.5244 14.0851 28.087V28.087C11.4814 29.293 8.42446 27.8208 7.74396 25.0332V25.0332C7.42651 23.7328 6.55327 22.6378 5.3561 22.039V22.039C2.78981 20.7552 2.03482 17.4474 3.78997 15.1773V15.1773C4.60875 14.1183 4.9204 12.7529 4.64219 11.4435V11.4435C4.0458 8.63669 6.16124 5.98401 9.03038 5.94087V5.94087C10.3688 5.92075 11.6307 5.31306 12.4809 4.27917V4.27917Z",fill:"#F26207",fillOpacity:"0.75"}),(0,a.tZ)("path",{d:"M22.2172 13.2239C22.7054 12.7357 22.7054 11.9443 22.2172 11.4561C21.7291 10.968 20.9376 10.968 20.4495 11.4561L14 17.9056L11.5506 15.4561C11.0624 14.968 10.271 14.968 9.7828 15.4561C9.29465 15.9443 9.29465 16.7357 9.7828 17.2239L13.1161 20.5572C13.6043 21.0454 14.3957 21.0454 14.8839 20.5572L22.2172 13.2239Z",fill:u.TV.white})]})},p=function(e){var n=e.size,t=void 0===n?24:n;return e.hasTooltip?(0,a.tZ)(c.u,{tooltip:"Verified",children:(0,a.tZ)(d,{size:t})}):(0,a.tZ)(d,{size:t})},f=t(50959),h=t(45510),v=t(86302),m=t(17807),g=t(96351),Z=t(61284),b=t(85368),x=t(12470),y=t(13970),w=t(32973),k=t(63740),C=(t(39902),t(3652)),S=t(70719),R=t(4791),T=t(72006),E=t(43119),I=t(71440),G=t(77410),D=t(24635);function B(){var e=(0,E.Z)(["\n  query ExtensionCoverPage($extensionId: String!) {\n    extension(id: $extensionId) {\n      ... on Extension {\n        ...TopLevelExtension\n        manifest {\n          ... on ExtensionManifest {\n            supportEmail\n            website\n            longDescription\n            coverImages {\n              path\n              label\n            }\n          }\n        }\n      }\n      ... on NotFoundError {\n        message\n      }\n    }\n  }\n  ","\n"]);return B=function(){return e},e}var P={},_=(0,I.Ps)(B(),G.R9);var A=t(66334),U=t(93054),L=t(32104);function z(){return(0,a.tZ)(b.G,{css:[u.l0.display.flex,u.l0.align.center,u.l0.justify.center,u.l0.height("100%"),u.l0.width("100%")],children:(0,a.tZ)(L.Z,{size:24})})}var O,X=t(22797),j=t(91046),N=t(93658),M=t(82106),F=t(33814),W=t(63837),V=t(14723),H=t(63128),Y=t(57467),q=t(33280),K=t(30504),$=(0,l.iv)([m.gU.nofill,u.l0.color.accentPrimaryStronger,[u.l0.py(8),{margin:"0 -8px"}]]),Q=(0,l.iv)([u.l0.px(4),{boxSizing:"content-box"}]);function J(e){var n=e.supportEmail,t=e.website,r=e.longDescription,i=e.baseUrl,o=e.coverImages,l=null===o||void 0===o?void 0:o[0];return(0,a.BX)(b.G,{children:[(0,a.BX)(b.G,{css:[u.l0.pt(8),u.l0.pb(24)],children:[i&&l?(0,a.tZ)("img",{src:(0,j.Vh)(i,l.path),alt:l.label,css:[{width:"100%"},u.l0.pb(16),{userSelect:"none",pointerEvents:"none"}]}):null,(0,a.tZ)(s.ZP,{lineBreaks:!0,css:[{p:{fontSize:"14px !important"}}],children:null!==r&&void 0!==r?r:""})]}),(0,a.tZ)(re,{}),(0,a.BX)(b.G,{css:[u.l0.colWithGap(8),u.l0.pt(16)],children:[(0,a.BX)(b.G,{children:[(0,a.tZ)(Z.xv,{css:[u.l0.fontSize(12),u.l0.fontWeight.medium],multiline:!1,children:"Support"}),(0,a.BX)(b.G,{css:[u.l0.colWithGap(8),u.l0.align.start],children:[n?(0,a.tZ)(v.Z,{small:!0,css:$,text:n,href:"mailto:".concat(n),iconLeft:(0,a.tZ)(R.Z,{})}):null,(0,a.tZ)(v.Z,{small:!0,css:$,text:"Replit Support",href:"https://replit.com/support",iconLeft:(0,a.tZ)(y.Z,{})})]})]}),t?(0,a.BX)(b.G,{children:[(0,a.tZ)(Z.xv,{css:[u.l0.fontSize(12),u.l0.fontWeight.medium],multiline:!1,children:"Resources"}),(0,a.tZ)(b.G,{css:[u.l0.colWithGap(8),u.l0.align.start],children:(0,a.tZ)(v.Z,{css:$,small:!0,text:"Visit developer website",href:t,target:"_blank",iconLeft:(0,a.tZ)(w.Z,{})})})]}):null,(0,a.BX)(b.G,{children:[(0,a.tZ)(Z.xv,{css:[u.l0.fontSize(12),u.l0.fontWeight.medium],multiline:!1,children:"Community Safety"}),(0,a.tZ)(Z.xv,{variant:"small",css:[u.l0.color.foregroundDimmest],maxLines:3,children:"Replit reviews extensions before they are published. If you encounter inappropriate content, please report it."}),(0,a.tZ)(b.G,{css:[u.l0.py(8),u.l0.align.start],children:(0,a.tZ)(h.zx,{small:!0,text:"Report this extension",css:[$,u.l0.color.accentNegativeStronger],iconLeft:(0,a.tZ)(S.Z,{})})})]})]})]})}function ee(e){var n=e.iconSize;return(0,a.tZ)("div",{css:[u.l0.width(4*n/3),u.l0.height(4*n/3),u.l0.borderRadius("full"),u.l0.backgroundColor.greenDimmest,u.l0.display.flex,u.l0.align.center,u.l0.justify.center],children:(0,a.tZ)(W.Z,{size:n,color:u.TV.greenStrongest})})}function ne(e){var n=e.name,t=e.reason,r=V.k.find((function(e){return e.key===n}));return(0,a.BX)(b.G,{css:[u.l0.p(8),u.l0.colWithGap(8)],children:[(0,a.BX)(b.G,{css:[u.l0.rowWithGap(8)],children:[(0,a.tZ)(y.Z,{})," ",(0,a.tZ)(Z.xv,{multiline:!1,children:null===r||void 0===r?void 0:r.friendlyName})]}),(0,a.BX)(b.G,{css:[u.l0.rowWithGap(8),u.l0.py(4)],children:[(0,a.tZ)(ee,{iconSize:12}),(0,a.tZ)(Z.xv,{multiline:!1,children:null===r||void 0===r?void 0:r.description})]}),(0,a.tZ)(b.G,{css:[u.l0.pl(24)],children:(0,a.BX)(Z.xv,{children:["Author notes: ",t]})})]})}function te(e){var n=e.scopes,t=void 0===n?[]:n,r=e.loading,i=void 0!==r&&r,o=e.showChoice,l=void 0===o||o,s=e.onCancel,c=void 0===s?function(){}:s,d=e.onAccept,p=void 0===d?function(){}:d;return(0,a.tZ)(b.G,{css:[u.l0.p(12)],children:(0,a.tZ)(b.G,{css:[u.l0.p(12),u.l0.border({color:u.TV.outlineDimmer,width:1,style:"solid"}),u.l0.borderRadius(8)],children:(0,a.BX)(b.G,{css:[u.l0.colWithGap(8)],children:[null===t||void 0===t?void 0:t.map((function(e){return(0,a.tZ)(ne,{name:e.name,reason:e.reason},e.name)})),t&&0!==t.length?null:(0,a.tZ)(Z.xv,{multiline:!1,children:"This extension requires no permissions"}),l?(0,a.BX)(b.G,{css:[u.l0.display.grid,{gap:u.TV.space8,gridAutoFlow:"column",gridTemplateColumns:"1fr 1fr"},u.l0.width("100%")],children:[(0,a.tZ)(h.zx,{text:"Cancel",onClick:c}),(0,a.tZ)(h.zx,{text:"Accept and Activate",iconLeft:(0,a.tZ)(M.Z,{}),colorway:"primary",onClick:p,loading:i,disabled:i})]}):null]})})})}!function(e){e.NotInstalled="NotInstalled",e.WaitingForPermissions="WaitingForPermissions",e.Installing="Installing",e.Installed="Installed",e.Uninstalling="Uninstalling"}(O||(O={}));var re=function(){return(0,a.tZ)(b.G,{css:[u.l0.mr(8),{borderBottom:"1px solid ".concat(u.TV.backgroundHighest)},u.l0.width("100%")]})};function ie(e){var n,t,l=e.extensionId,s=e.existingInstallationId,c=e.goBackToStore,d=e.installExtension,m=e.uninstallExtension,y=(0,i.Z)(f.useState(s?O.Installed:O.NotInstalled),2),w=y[0],S=y[1];f.useEffect((function(){S(s?O.Installed:O.NotInstalled)}),[s,S]);var R=function(e){var n=(0,T.Z)({},P,e);return D.a(_,n)}({variables:{extensionId:l}}),E=R.data;if(R.loading&&!E)return(0,a.tZ)(z,{});if(!E||"Extension"!==(null===(n=E.extension)||void 0===n?void 0:n.__typename))return(0,a.tZ)("div",{children:"Not found"});var I,G,B=E.extension,j=B.manifest;return"ExtensionManifest"!==(null===j||void 0===j?void 0:j.__typename)?(0,a.tZ)("div",{children:"Manifest error"}):(0,a.tZ)(b.G,{css:[u.l0.maxWidth(1200),u.l0.width("100%"),{alignSelf:"center"}],children:(0,a.BX)(b.G,{css:[u.l0.colWithGap(16),u.l0.align.start,u.l0.p(12),u.l0.height("100%")],children:[c?(0,a.tZ)(h.zx,{small:!0,onClick:c,iconLeft:(0,a.tZ)(C.Z,{}),text:"Back to Store"}):(0,a.tZ)(v.Z,{small:!0,iconLeft:(0,a.tZ)(C.Z,{}),text:"Back to Store",href:"/extensions"}),(0,a.BX)(b.G,{css:[u.l0.rowWithGap(16)],children:[(0,a.tZ)(A.I,{size:64,baseUrl:B.url,icon:j.icon}),(0,a.BX)(b.G,{css:[u.l0.colWithGap(8),u.l0.align.start,u.l0.flex.shrink(1)],children:[(0,a.BX)(b.G,{css:[u.l0.flex.shrink(1),u.l0.colWithGap(4)],children:[(0,a.BX)(b.G,{css:[u.l0.rowWithGap(8),u.l0.align.center],children:[(0,a.tZ)(Z.xv,{variant:"headerDefault",multiline:!1,children:null!==(I=j.name)&&void 0!==I?I:B.name}),B.isBlessed?(0,a.tZ)(p,{}):null]}),(0,a.tZ)(U.W,{user:B.user,size:24}),(0,a.tZ)(Z.xv,{variant:"text",color:"dimmest",maxLines:2,children:null!==(G=j.description)&&void 0!==G?G:B.description})]}),(0,a.BX)(X.y,{children:[(0,a.BX)(b.G,{css:[u.l0.rowWithGap(4)],children:[(0,a.tZ)(k.Z,{color:u.TV.foregroundDimmer}),(0,a.tZ)(Z.xv,{color:"dimmer",variant:"small",multiline:!1,children:B.installCount})]}),null===(t=j.tags)||void 0===t?void 0:t.slice(0,5).map((function(e){return(0,a.tZ)(g.D,{text:"#".concat(e)},e)}))]})]})]}),B.isBlessed?null:(0,a.BX)(H.Tg,{elevated:!0,css:[u.l0.rowWithGap(16),u.l0.p(16),u.l0.justify.start,u.l0.align.center,u.l0.width("100%"),u.l0.borderRadius(12),u.l0.overflow("hidden")],children:[(0,a.tZ)(Y.Z,{strokeWidth:8}),(0,a.tZ)(Z.xv,{maxLines:3,css:[u.l0.maxWidth("100%"),u.l0.flex.growAndShrink(1)],children:"This extension has not been verified by the Replit team."})]}),(0,a.BX)(b.G,{css:[u.l0.rowWithGap(8),u.l0.width("100%")],children:[null,w===O.Installed&&s?(0,a.tZ)(h.zx,{text:"Deactivate Extension",css:[u.l0.flex.grow(1)],onClick:(0,r.Z)((function(){return(0,o.__generator)(this,(function(e){switch(e.label){case 0:return s?(S(O.Uninstalling),[4,m(s)]):[2];case 1:return e.sent(),[2]}}))}))}):null,w===O.Uninstalling?(0,a.tZ)(h.zx,{text:"Deactivating\u2026",iconLeft:(0,a.tZ)(L.Z,{}),colorway:"grey",css:[u.l0.flex.grow(1)],disabled:!0,loading:!0}):null,w===O.NotInstalled?(0,a.tZ)(h.zx,{text:"Activate Extension for your account",colorway:"primary",css:[u.l0.flex.grow(1)],onClick:(0,r.Z)((function(){return(0,o.__generator)(this,(function(e){switch(e.label){case 0:return j.scopes&&0!==j.scopes.length?[3,2]:(S(O.Installing),[4,d()]);case 1:return e.sent(),[2];case 2:return S(O.WaitingForPermissions),[2]}}))}))}):null,[O.WaitingForPermissions,O.Installing].includes(w)?(0,a.tZ)(h.zx,{text:w===O.WaitingForPermissions?"Accept permissions below\u2026":"Activating\u2026",iconLeft:(0,a.tZ)(L.Z,{}),colorway:"grey",css:[u.l0.flex.grow(1)],disabled:!0,loading:!0}):null]}),w===O.Installed?null:(0,a.BX)(Z.xv,{variant:"small",color:"dimmer",children:["By activating an Extension, you agree to the"," ",(0,a.tZ)("a",{href:K.Gu.EXTENSIONS_USER_TERMS,children:"User Terms"})]}),(0,a.tZ)(q.R,{}),(0,a.tZ)(b.G,{css:[u.l0.width("100%")],children:[O.WaitingForPermissions].includes(w)?(0,a.tZ)(te,{scopes:null===j||void 0===j?void 0:j.scopes,showChoice:!0,loading:w===O.Installing,onAccept:(0,r.Z)((function(){return(0,o.__generator)(this,(function(e){switch(e.label){case 0:return S(O.Installing),[4,d()];case 1:return e.sent(),[2]}}))})),onCancel:function(){S(O.NotInstalled)}}):(0,a.BX)(x.mQ,{children:[(0,a.tZ)(b.G,{children:(0,a.BX)(x.td,{withUnderline:!0,children:[(0,a.tZ)(x.OK,{iconLeft:(0,a.tZ)(N.Z,{css:Q}),children:"Overview"}),(0,a.tZ)(x.OK,{iconLeft:(0,a.tZ)(F.Z,{css:Q}),children:"Permissions"})]})}),(0,a.BX)(x.nP,{children:[(0,a.tZ)(x.x4,{children:(0,a.tZ)(J,{supportEmail:j.supportEmail,website:j.website,longDescription:j.longDescription,baseUrl:B.url,coverImages:j.coverImages})}),(0,a.tZ)(x.x4,{children:(0,a.tZ)(te,{scopes:j.scopes,showChoice:!1})})]})]})})]})})}},27716:function(e,n,t){"use strict";t.d(n,{l:function(){return o},x:function(){return i}});var r=t(625),i=function(e){(0,r.j)(r.U3.COURSE_ACTION,e)},o=function(e){(0,r.j)(r.U3.LESSON_ACTION,e)}},36395:function(e,n,t){"use strict";var r=t(74985),i=t(48306),o=t.n(i);t(50959);n.Z=function(e){var n=e.color;return(0,r.BX)("span",{title:"new",className:o().dynamic([["fdefa4fc6e93ac36",[n||"var(--accent-negative-default)"]]]),children:["NEW",(0,r.tZ)(o(),{id:"fdefa4fc6e93ac36",dynamic:[n||"var(--accent-negative-default)"],children:"span.__jsx-style-dynamic-selector{display:inline-block;color:var(--white);background:".concat(n||"var(--accent-negative-default)",";-webkit-border-radius:var(--border-radius-4);-moz-border-radius:var(--border-radius-4);border-radius:var(--border-radius-4);font-size:var(--font-size-small);font-weight:var(--font-weight-medium);padding:-webkit-calc(var(--space-4)/2)var(--space-4);padding:-moz-calc(var(--space-4)/2)var(--space-4);padding:calc(var(--space-4)/2)var(--space-4);text-align:center;height:-webkit-min-content;height:-moz-min-content;height:min-content}")})]})}},98998:function(e,n,t){"use strict";t.d(n,{S:function(){return S}});var r=t(74985),i=t(39541),o=t(90349),a=t(72006),l=t(43119),s=t(71440),c=t(24635);function u(){var e=(0,l.Z)(["\n  fragment ReplDesktopAvatarMenuCurrentUser on CurrentUser {\n    id\n    url\n    username\n    image\n  }\n"]);return u=function(){return e},e}function d(){var e=(0,l.Z)(["\n  query ReplDesktopAvatarMenu {\n    currentUser {\n      id\n      ...ReplDesktopAvatarMenuCurrentUser\n    }\n  }\n  ","\n"]);return d=function(){return e},e}var p={},f=(0,s.Ps)(u()),h=(0,s.Ps)(d(),f);var v=t(36443),m=t(50959),g=t(82568),Z=t(85368),b=t(80731),x=t(23220),y=t(5790),w=t(63128),k=t(95014),C=(0,g.X)({wrapper:[i.l0.noDragRegion],button:k.E,surface:[i.l0.borderRadius(8),i.l0.minWidth(80),{"& > ul > li:first-of-type":{borderRadius:"10px 10px 0 0"}},{"& > ul > li:last-of-type":{borderRadius:"0 0 10px 10px"}}],username:[i.l0.ml(8)]});function S(e){var n=e.showName,t=(0,m.useState)(!1),l=t[0],s=t[1],u=function(e){var n=(0,a.Z)({},p,e);return c.a(h,n)}().data,d=null===u||void 0===u?void 0:u.currentUser;if(!d)return null;var f=[{label:"Account",onAction:function(){x.X.openExternalUrl("/account"),s(!1)}},{label:"Log out",onAction:function(){x.X.logout()}}];return(0,r.tZ)(Z.G,{css:C.wrapper,children:(0,r.BX)(y.x,{isOpen:l,onOpenChange:s,placement:"bottom start",label:"Account options",noArrow:!0,children:[(0,r.BX)("button",{onClick:function(){s((function(e){return!e}))},css:C.button,children:[(0,r.tZ)(o.q,{size:24,src:(null===d||void 0===d?void 0:d.image)||null,username:(null===d||void 0===d?void 0:d.username)||""}),n?(0,r.BX)(Z.G,{css:C.username,className:"username",children:["@",null===d||void 0===d?void 0:d.username]}):null,(0,r.tZ)(v.Z,{color:i.TV.foregroundDimmest,size:12})]}),(0,r.tZ)(w.Tg,{elevated:!0,css:C.surface,background:"higher",children:(0,r.tZ)(b.v2,{label:"Account options",onAction:function(e){var n=f[parseInt(e,10)];n&&n.onAction()},children:f.map((function(e,n){return(0,r.tZ)(b.ck,{"aria-label":e.label,children:e.label},n)}))})})]})})}},36538:function(e,n,t){"use strict";t.d(n,{Z:function(){return pe}});var r=t(72006),i=t(4405),o=t(2272),a=t(9970),l=t(74985),s=t(39541),c=t(85368),u=t(82568),d=t(87076),p=t(17807),f=t(84607),h=t(54873),v=t(43119),m=t(71440),g=t(24635),Z=t(50216);function b(){var e=(0,v.Z)(["\n  fragment DesktopReplsListRepl on Repl {\n    id\n    title\n    iconUrl\n    url\n    description\n    isPrivate\n    timeUpdated\n    owner {\n      ... on User {\n        id\n        username\n      }\n      ... on Team {\n        id\n        username\n      }\n    }\n  }\n"]);return b=function(){return e},e}function x(){var e=(0,v.Z)(["\n  query DesktopReplsSearch(\n    $search: String!\n    $after: String\n    $excludeMultiplayer: Boolean\n    $excludeNotDeployed: Boolean\n    $excludePrivate: Boolean\n    $excludePublic: Boolean\n    $excludeOwned: Boolean\n  ) {\n    currentUser {\n      id\n      paginatedReplSearch(\n        search: $search\n        after: $after\n        excludeMultiplayer: $excludeMultiplayer\n        excludeNotDeployed: $excludeNotDeployed\n        excludePrivate: $excludePrivate\n        excludePublic: $excludePublic\n        excludeOwned: $excludeOwned\n      ) {\n        items {\n          id\n          ...DesktopReplsListRepl\n        }\n        pageInfo {\n          hasNextPage\n          nextCursor\n        }\n      }\n    }\n  }\n  ","\n"]);return x=function(){return e},e}function y(){var e=(0,v.Z)(["\n  mutation DesktopReplsListDeleteRepl($id: String!) {\n    deleteRepl(id: $id) {\n      id\n    }\n  }\n"]);return y=function(){return e},e}var w={},k=(0,m.Ps)(b()),C=(0,m.Ps)(x(),k);var S=(0,m.Ps)(y());var R=t(50959),T=t(13233),E=t(65673),I=t(43743),G=t(75863),D=t(22107),B=t(61284),P=t(80731),_=t(70804),A=t(2041),U=t(76357),L=t(49142),z=t(84358),O=t(42241),X=t(62755),j=t(32104),N=t(66482),M=t(13495),F=t(14671),W=t(47518),V=t(31854),H=t(90171),Y=t(42256),q=t(85268),K=t(17705),$=t(14654),Q=t(13548),J=t(57475),ee=t(79667),ne=(0,u.X)({rowUnfocused:{backgroundColor:"transparent"},rowFocused:{backgroundColor:p.vb.interactiveBackground}});function te(e){var n=e.item,t=e.state,o=(0,R.useRef)(null),a=(0,M.Fb)({node:n},t,o),s=a.rowProps,u=a.gridCellProps,d=a.isSelected;return(0,R.useEffect)((function(){var e;d&&(null===(e=o.current)||void 0===e||e.scrollIntoView({block:"nearest"}))}),[d]),(0,l.tZ)(c.K.li,(0,i.Z)((0,r.Z)({},s),{ref:o,css:d?ne.rowFocused:ne.rowUnfocused,children:(0,l.tZ)(c.G,(0,i.Z)((0,r.Z)({},u),{children:n.rendered}))}))}function re(e){var n=(0,F.n_)(e),t=(0,R.useRef)(null),o=(0,M.c)(e,n,t).gridProps;return(0,l.tZ)(c.K.ul,(0,i.Z)((0,r.Z)({},o),{ref:(0,W.l)(t,e.innerRef),children:(0,a.Z)(n.collection).map((function(e){return(0,l.tZ)(te,{item:e,state:n},e.key)}))}))}var ie,oe,ae=(0,u.X)({container:[s.l0.flex.shrink(1),s.l0.colWithGap(8),s.l0.height("100%")],searchBarWrapper:[s.l0.flex.shrink(0),s.l0.px(8)],replsListWrapper:[s.l0.flex.shrink(1),s.l0.overflowY("scroll")],headerRow:[s.l0.flex.row,s.l0.align.center,s.l0.justify.spaceBetween,s.l0.px(8)],filterContainer:[s.l0.rowWithGap(8),s.l0.center],replListItemWrapper:[p.gU.listItem,s.l0.px(8),s.l0.py(2),s.l0.flex.row,s.l0.align.center,s.l0.justify.spaceBetween],replListItemInner:[s.l0.rowWithGap(8),s.l0.pl(4),s.l0.align.center,s.l0.flex.shrink(1)],replListItemTexts:[s.l0.flex.shrink(1)],replListItemTitle:[s.l0.mb(0),s.l0.truncate],dropdownItem:[s.l0.rowWithGap(8),s.l0.align.center],dropdownDestructiveItem:[s.l0.rowWithGap(8),s.l0.color.accentNegativeStronger,s.l0.align.center],loadingStateWrapper:[s.l0.align.center,s.l0.pt(8),s.l0.pb(12),s.l0.mx(8),s.l0.textAlign.center]});!function(e){e.Fork="Fork",e.Delete="Delete"}(ie||(ie={})),function(e){e.ForkRepl="ForkRepl",e.DeleteRepl="DeleteRepl"}(oe||(oe={}));var le,se=[{value:ie.Fork,label:"Fork",icon:(0,l.tZ)(f.Z,{})},{value:ie.Delete,label:"Delete",icon:(0,l.tZ)(h.Z,{}),isDestructive:!0}];function ce(e){var n,t=e.repl,i=e.onFork,a=e.onClick,s=(0,R.useState)(null),u=s[0],d=s[1],p=(0,T.Z)(),f=p.showConfirm,h=p.showError,v="/replEnvironmentDesktop"===(0,H.useRouter)().pathname,m=(0,o.Z)(function(e){var n=(0,r.Z)({},w,e);return Z.D(S,n)}({variables:{id:t.id},onCompleted:function(){f("Repl scheduled for deletion")},onError:function(e){h((0,E.Z)(e.message))},update:function(e,n){var t;(null===(t=n.data)||void 0===t?void 0:t.deleteRepl)&&(e.evict({id:e.identify(n.data.deleteRepl)}),e.gc())}}),1),g=m[0],b=(0,o.Z)((0,I.Z)({navigateAfterFork:!1,onFork:function(){f("Repl forked"),i()},onError:function(){h("Something went wrong")}}),1)[0];return(0,l.BX)(l.HY,{children:[(0,l.BX)(c.G,{css:ae.replListItemWrapper,onClick:function(e){return a(t.url,(0,Y.j)(e))},children:[(0,l.BX)(c.G,{css:ae.replListItemInner,children:[(0,l.tZ)(G.ZP,{size:24,iconUrl:t.iconUrl,alt:t.title}),(0,l.BX)(c.G,{css:ae.replListItemTexts,children:[(0,l.tZ)(B.xv,{variant:"text",css:ae.replListItemTitle,multiline:!1,children:t.title}),(0,l.BX)(B.xv,{variant:"small",color:"dimmer",multiline:!1,children:[t.owner?"".concat(t.owner.username," \u2022 "):"","edited"," ",(0,D.F)(t.timeUpdated)]})]})]}),v?null:(0,l.tZ)(P.ZE,{icon:(0,l.tZ)(_.Z,{size:16}),"aria-label":"Repl Actions",placement:"bottom-end",cssProps:[{background:"transparent"}],onAction:function(e){switch(e){case ie.Fork:return void d(oe.ForkRepl);case ie.Delete:return void d(oe.DeleteRepl)}},children:se.map((function(e){return(0,l.tZ)(P.ck,{textValue:e.label,children:(0,l.BX)(c.G,{css:e.isDestructive?ae.dropdownDestructiveItem:ae.dropdownItem,children:[e.icon,(0,l.tZ)(B.xv,{multiline:!1,children:e.label})]})},e.value)}))})]}),(0,l.tZ)(A.u,{isOpen:u===oe.DeleteRepl,onRequestClose:function(){return d(null)},centered:!0,children:(0,l.tZ)(U.Z,{delete:g,entityType:"Repl",hideModal:function(){return d(null)}})}),(0,l.tZ)(A.u,{isOpen:u===oe.ForkRepl,onRequestClose:function(){return d(null)},centered:!0,children:(0,l.tZ)(L.Z,{onFork:function(e,n,r,i){b({originId:t.id,teamId:e,title:n,description:r,isPrivate:i,trackingData:{forkSource:"desktopSplashScreen"}})},initialTitle:t.title,initialDescription:null!==(n=t.description)&&void 0!==n?n:"",initialPrivacy:t.isPrivate,hideModal:function(){return d(null)}})})]})}!function(e){e.All="All",e.ExcludeMultiplayer="ExcludeMultiplayer",e.ExcludeNotDeployed="ExcludeNotDeployed",e.ExcludePrivate="ExcludePrivate",e.ExcludePublic="ExcludePublic",e.ExcludeOwned="ExcludeOwned"}(le||(le={}));var ue=[{value:le.All,title:"All",icon:(0,l.tZ)(ee.Z,{})},{value:le.ExcludeMultiplayer,title:"My Repls",icon:(0,l.tZ)(K.Z,{})},{value:le.ExcludeOwned,title:"Shared",icon:(0,l.tZ)(q.Z,{})},{value:le.ExcludePrivate,title:"Public",icon:(0,l.tZ)($.Z,{})},{value:le.ExcludePublic,title:"Private",icon:(0,l.tZ)(Q.Z,{})},{value:le.ExcludeNotDeployed,title:"Deployed",icon:(0,l.tZ)(J.Z,{})}],de=/^\/@\S+\/\S+/;function pe(e){var n,t=e.onClick,o=(0,R.useState)(""),s=o[0],u=o[1],p=(0,H.useRouter)(),f="/replEnvironmentDesktop"===p.pathname,h=(0,z.Z)(s,250),v=(0,R.useRef)(null),m=(0,R.useRef)(null),Z=(0,R.useRef)(null),b=(0,R.useRef)(null),x=(0,R.useState)(ue[0]),y=x[0],k=x[1],S=(0,R.useState)(null),T=S[0],E=S[1],I=T?new Set([T]):new Set,G=function(e){if(!e.startsWith("http"))return null;try{var n=new URL(e),t=window.location.origin;if(n.origin!==t)return null;if(!de.test(n.pathname))return null;var r=n.pathname.split("/");return 3!==r.length?null:r[2]}catch(i){return null}}(h)||h,D=function(e){var n=(0,r.Z)({},w,e);return g.a(C,n)}({variables:{search:G,excludeOwned:y.value===le.ExcludeOwned,excludePublic:y.value===le.ExcludePublic,excludePrivate:y.value===le.ExcludePrivate,excludeNotDeployed:y.value===le.ExcludeNotDeployed,excludeMultiplayer:y.value===le.ExcludeMultiplayer},ssr:!1,notifyOnNetworkStatusChange:!0}),_=D.data,A=D.loading,U=D.refetch,L=D.fetchMore,M=null===_||void 0===_||null===(n=_.currentUser)||void 0===n?void 0:n.paginatedReplSearch,F=null===M||void 0===M?void 0:M.pageInfo,W=null===F||void 0===F?void 0:F.nextCursor,Y=null===F||void 0===F?void 0:F.hasNextPage,q=(null===M||void 0===M?void 0:M.items)||[];if(f){var K=p.query.replUrl;if("string"!==typeof K)throw new Error("Expected Repl URL");q=q.filter((function(e){return e.url!==K}))}var $=(0,R.useCallback)((function(){W&&!A&&L({variables:{search:h,after:W},updateQuery:function(e,n){var t,o,l=n.fetchMoreResult;return(null===(t=e.currentUser)||void 0===t?void 0:t.paginatedReplSearch)&&(null===(o=l.currentUser)||void 0===o?void 0:o.paginatedReplSearch)?(0,i.Z)((0,r.Z)({},l),{currentUser:(0,i.Z)((0,r.Z)({},l.currentUser),{paginatedReplSearch:(0,i.Z)((0,r.Z)({},l.currentUser.paginatedReplSearch),{items:(0,a.Z)(e.currentUser.paginatedReplSearch.items).concat((0,a.Z)(l.currentUser.paginatedReplSearch.items)),pageInfo:(0,r.Z)({},l.currentUser.paginatedReplSearch.pageInfo)})})}):e}})}),[L,A,W,h]),Q=(0,O.Z)({onLoadMore:$,rootMargin:"0px 0px 100px 0px"}).targetRef,J=function(e){var n=q.find((function(n){return n.id===e}));if(!n)throw new Error("Expected matching Repl");t(n.url)};(0,R.useEffect)((function(){var e;null===(e=m.current)||void 0===e||e.focus()}),[m]);var ee=0===q.length&&A,ne=0===q.length&&!A;return(0,l.BX)(c.G,{css:ae.container,children:[(0,l.tZ)(c.K.div,{css:ae.searchBarWrapper,ref:v,children:(0,l.tZ)(X.E,{placeholder:"Search Repls",value:s,inputRef:m,onChange:function(e){u(e.target.value)},onClear:function(){u("")},onKeyDown:function(e){var n;("Enter"===e.key&&T&&J(T),"ArrowDown"===e.key||"ArrowUp"===e.key)&&(e.preventDefault(),null===(n=b.current)||void 0===n||n.dispatchEvent(new KeyboardEvent(e.nativeEvent.type,e.nativeEvent)))}})}),(0,l.BX)(c.G,{css:ae.headerRow,children:[(0,l.tZ)(B.h4,{level:2,variant:f?"subheadDefault":"subheadBig",children:"Recent"}),(0,l.tZ)(c.G,{css:ae.filterContainer,children:(0,l.tZ)(V.P,{"aria-label":"repl-list-filter-select",id:"repl-list-filter-select",items:ue,selectedItem:y,onChange:function(e){k(e)}})})]}),(0,l.BX)(c.K.div,{style:f?void 0:{paddingLeft:8,paddingRight:8},css:ae.replsListWrapper,ref:Z,children:[(0,l.tZ)(c.G,{children:(0,l.tZ)(re,{"aria-label":"Repls",selectionMode:"single",selectionBehavior:"replace",disallowEmptySelection:!0,items:q,innerRef:b,selectedKeys:I,onSelectionChange:function(e){if("all"!==e){if(0===e.size)throw new Error("Expected to have a selected key");var n=Array.from(e)[0];E(n)}},onAction:function(e){J(e)},children:function(e){return(0,l.tZ)(P.ck,{textValue:e.title,children:(0,l.tZ)(ce,{repl:e,onFork:function(){var e;null===(e=Z.current)||void 0===e||e.scrollTo({top:0}),U()},onClick:function(e,n){t(e,n)}})},e.id)}})}),(0,l.BX)(c.G,{css:ae.loadingStateWrapper,children:[ee?(0,l.tZ)(j.Z,{}):null,ne?(0,l.tZ)(B.xv,{variant:"text",color:"dimmest",children:"We couldn't find any Repls matching your search."}):null,Y?(0,l.tZ)(d.h,{tooltipHidden:!0,alt:"Load more Repls",onClick:$,ref:Q,disabled:A,children:A?(0,l.tZ)(j.Z,{}):(0,l.tZ)(N.Z,{})}):null]})]})]})}},37640:function(e,n,t){"use strict";t.d(n,{W6:function(){return u},uk:function(){return p}});var r=t(72006),i=t(43119),o=t(71440),a=t(24635);function l(){var e=(0,i.Z)(["\n  fragment ReplEnvironmentAvatarMenuCurrentUser on CurrentUser {\n    id\n    url\n    username\n    image\n  }\n"]);return l=function(){return e},e}function s(){var e=(0,i.Z)(["\n  query ReplEnvironmentAvatarMenu {\n    currentUser {\n      id\n      ...ReplEnvironmentAvatarMenuCurrentUser\n    }\n  }\n  ","\n"]);return s=function(){return e},e}var c={},u=(0,o.Ps)(l()),d=(0,o.Ps)(s(),u);function p(e){var n=(0,r.Z)({},c,e);return a.a(d,n)}},95014:function(e,n,t){"use strict";t.d(n,{E:function(){return T},a:function(){return I}});var r=t(72006),i=t(4405),o=t(77637),a=t(74985),l=t(37640),s=t(50959),c=t(90349),u=t(17807),d=t(39541),p=t(63128),f=t(36443),h=t(43312),v=t(77712),m=t(82893),g=t.n(m),Z=t(625),b=t(4143),x=t(13474),y=t(5790),w=t(17705),k=t(33814),C=t(32835),S=t(4747),R=function(e){(0,Z.j)(Z.U3.NAV_ITEM_CLICK,{target:e,source:"header_avatar_menu"})},T=[u.gU.nofill,d.l0.p(4),d.l0.viewStyle,d.l0.reset.button,d.l0.rowWithGap(2),d.l0.align.center,d.l0.color.foregroundDefault,d.l0.cursor.pointer,d.l0.borderRadius(8),{transition:"box-shadow 120ms ease-out",":hover svg":{fill:d.TV.foregroundDefault}}],E={button:(0,h.iv)(T),surface:(0,h.iv)([d.l0.borderRadius(8),d.l0.minWidth(80),{"& > a:first-of-type":{borderRadius:"7px 7px 0 0"}},{"& > a:last-of-type":{borderRadius:"0 0 7px 7px"}}]),link:(0,h.iv)([d.l0.viewStyle,d.l0.color.foregroundDefault,d.l0.p(8),u.gU.listItem,d.l0.flex.row,d.l0.align.center,d.l0.width(140),d.l0.height(32),{gap:d.TV.space8,"&:not([disabled]):not(textarea):active":{backgroundColor:d.TV.backgroundHighest}}])};function I(){var e=(0,b.Z)(x.y.AvatarButton),n=(0,l.uk)().data,t=(0,s.useState)(!1),u=t[0],h=t[1],m=null===n||void 0===n?void 0:n.currentUser,Z=m?(0,v.Ru)(m):null,T=Z?[{label:"Profile",trackingLabel:"Profile",as:Z.as,href:Z.href,icon:(0,a.tZ)(w.Z,{})},{label:"Account",trackingLabel:"Account",dataCy:"avatar-dropdown-account-link",as:"/account",href:"/account",icon:(0,a.tZ)(k.Z,{})},{trackingLabel:"CLUI",label:"CLUI",as:"/~/cli",href:"/~/cli",icon:(0,a.tZ)(S.Z,{})},{trackingLabel:"Log out",label:"Log out",href:"/logout",icon:(0,a.tZ)(C.Z,{})}]:[];return(0,a.BX)(y.x,{isOpen:u,onOpenChange:h,placement:"bottom start",label:"User menu",noArrow:!0,children:[function(n){var t=n.ref,l=(0,o.Z)(n,["ref"]);return(0,a.tZ)("div",{ref:e,children:(0,a.BX)("button",(0,i.Z)((0,r.Z)({},l),{ref:t,css:E.button,children:[(0,a.tZ)(c.q,{size:24,src:(null===m||void 0===m?void 0:m.image)||null,username:(null===m||void 0===m?void 0:m.username)||""}),(0,a.tZ)(f.Z,{color:d.TV.foregroundDimmest,size:12})]}))})},(0,a.tZ)(p.Tg,{elevated:!0,background:"higher",css:E.surface,children:T.map((function(e){return(0,a.tZ)(g(),{passHref:!0,as:e.as,href:e.href,prefetch:!1,children:(0,a.BX)("a",{role:"menuitem",tabIndex:0,onClick:function(){R(e.trackingLabel)},onKeyDown:function(){R(e.trackingLabel)},css:E.link,children:[e.icon,e.label]})},e.label)}))})]})}},90939:function(e,n,t){"use strict";t.d(n,{G:function(){return o},K:function(){return a}});var r=t(74985),i=t(43312);function o(){return(0,r.tZ)(i.xB,{styles:[{body:{overscrollBehaviorX:"none"}}]})}function a(){return(0,r.tZ)(i.xB,{styles:[{body:{overscrollBehaviorY:"none"}}]})}},66528:function(e,n,t){"use strict";t.d(n,{Z:function(){return l}});var r=t(74985),i=t(48306),o=t.n(i),a=(t(50959),t(24743));function l(e){var n=e.label;return(0,r.BX)(a.Z,{size:"xsmall",children:[(0,r.tZ)("span",{"data-microtip-position":"top",role:"tooltip","aria-label":n,className:"jsx-b2b24242521d2288 help",children:"?"}),(0,r.tZ)(o(),{id:"b2b24242521d2288",children:".help.jsx-b2b24242521d2288{display:-webkit-inline-box;display:-webkit-inline-flex;display:-moz-inline-box;display:-ms-inline-flexbox;display:inline-flex;-webkit-box-align:center;-webkit-align-items:center;-moz-box-align:center;-ms-flex-align:center;align-items:center;-webkit-box-pack:center;-webkit-justify-content:center;-moz-box-pack:center;-ms-flex-pack:center;justify-content:center;border:1px solid var(--background-higher);-webkit-border-radius:100%;-moz-border-radius:100%;border-radius:100%;width:var(--space-16);height:var(--space-16);-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;cursor:pointer}"})]})}},23809:function(e,n,t){"use strict";t.d(n,{Gp:function(){return B},Oh:function(){return $},V3:function(){return O},Xl:function(){return j},Yd:function(){return M},_b:function(){return q},gX:function(){return ne},h2:function(){return L},on:function(){return _},q7:function(){return J},vs:function(){return G},w9:function(){return W},zp:function(){return H}});var r=t(72006),i=t(43119),o=t(71440),a=t(7446),l=t(24635),s=t(50216);function c(){var e=(0,i.Z)(["\n  fragment TeamProfileReplTemplateModelSolution on ReplTemplateModelSolution {\n    id\n    visibleAfterSubmitting\n    visibleAfterPassingTests\n    visibleAfterDueDate\n    repl {\n      id\n      url\n      nextPagePathname\n    }\n    canStudentFork\n    studentFork {\n      id\n      url\n      nextPagePathname\n    }\n  }\n"]);return c=function(){return e},e}function u(){var e=(0,i.Z)(["\n  fragment TeamProfileReplTemplate on ReplTemplate {\n    id\n    isPublished\n    isGroupProject\n    allowSelfGrouping\n    imageUrl\n    url\n    dueDate\n    modelSolution {\n      id\n      ...TeamProfileReplTemplateModelSolution\n    }\n    userSubmissionGroup {\n      ...TeamTemplateSubmissionGroup\n    }\n  }\n  ","\n  ","\n"]);return u=function(){return e},e}function d(){var e=(0,i.Z)(["\n  fragment TeamProfileRepl on Repl {\n    id\n    title\n    isPrivate\n    description\n    slug\n    timeCreated\n    url\n    pinnedToProfile\n    nextPagePathname\n    templateInfo {\n      label\n      iconUrl\n    }\n    template {\n      id\n      ...TeamProfileReplTemplate\n    }\n  }\n  ","\n"]);return d=function(){return e},e}function p(){var e=(0,i.Z)(["\n  fragment TeamProfileStack on Stack {\n    id\n    title\n    repls {\n      id\n      ...TeamProfileRepl\n    }\n  }\n  ","\n"]);return p=function(){return e},e}function f(){var e=(0,i.Z)(["\n  fragment TeamEduProfile on Team {\n    id\n    username\n    displayName\n    isAdmin\n    archived\n    needsMigrationToStacks\n    defaultTemplateStack {\n      id\n      ...TeamProfileStack\n    }\n    stacks {\n      id\n      ...TeamProfileStack\n    }\n    members {\n      id\n      permissions\n    }\n    organization {\n      id\n      capabilities {\n        isExpired: isExpiring(daysFromNow: 0)\n      }\n    }\n  }\n  ","\n"]);return f=function(){return e},e}function h(){var e=(0,i.Z)(["\n  fragment TeamProProfile on Team {\n    id\n    username\n    displayName\n    isMember\n    isAdmin\n    archived\n    defaultReplStack {\n      id\n      ...TeamProfileStack\n    }\n    stacks {\n      id\n      ...TeamProfileStack\n    }\n    members {\n      id\n      permissions\n    }\n    organization {\n      id\n    }\n  }\n  ","\n"]);return h=function(){return e},e}function v(){var e=(0,i.Z)(["\n  fragment TeamProfileAllStacks on Team {\n    id\n    defaultReplStack {\n      id\n      ...TeamProfileStack\n    }\n    defaultReplStack {\n      id\n      ...TeamProfileStack\n    }\n    stacks {\n      id\n      ...TeamProfileStack\n    }\n  }\n  ","\n"]);return v=function(){return e},e}function m(){var e=(0,i.Z)(["\n  fragment TeamCreateReplSubmissionOutput on CreateReplSubmissionOutput {\n    ... on Repl {\n      id\n      nextPagePathname\n      url\n      template {\n        id\n        ...TeamProfileReplTemplate\n      }\n    }\n    ... on UserError {\n      message\n    }\n  }\n  ","\n"]);return m=function(){return e},e}function g(){var e=(0,i.Z)(["\n  query TeamProProfile($teamname: String!) {\n    team: teamByUsername(username: $teamname) {\n      ... on Team {\n        id\n        ...TeamProProfile\n      }\n      ... on UserError {\n        message\n      }\n    }\n  }\n  ","\n"]);return g=function(){return e},e}function Z(){var e=(0,i.Z)(["\n  query TeamEduProfile($teamname: String!) {\n    team: teamByUsername(username: $teamname) {\n      ... on Team {\n        id\n        ...TeamEduProfile\n      }\n      ... on UserError {\n        message\n      }\n    }\n  }\n  ","\n"]);return Z=function(){return e},e}function b(){var e=(0,i.Z)(["\n  mutation TeamProProfilePinRepl($replId: String!) {\n    pinReplToProfile2(replId: $replId) {\n      ... on Repl {\n        id\n        pinnedToProfile\n      }\n      ... on NotFoundError {\n        message\n      }\n      ... on UnauthorizedError {\n        message\n      }\n      ... on UserError {\n        message\n      }\n    }\n  }\n"]);return b=function(){return e},e}function x(){var e=(0,i.Z)(["\n  mutation TeamProProfileUnpinRepl($replId: String!) {\n    unpinReplFromProfile2(replId: $replId) {\n      ... on Repl {\n        id\n        pinnedToProfile\n      }\n      ... on NotFoundError {\n        message\n      }\n      ... on UnauthorizedError {\n        message\n      }\n      ... on UserError {\n        message\n      }\n    }\n  }\n"]);return x=function(){return e},e}function y(){var e=(0,i.Z)(["\n  mutation TeamProfileArrangeStackItem($input: ArrangeStackItemInput!) {\n    arrangeStackItem(input: $input) {\n      ... on Team {\n        id\n        ...TeamProfileAllStacks\n      }\n      ... on UserError {\n        message\n      }\n      ... on NotFoundError {\n        message\n      }\n      ... on UnauthorizedError {\n        message\n      }\n    }\n  }\n  ","\n"]);return y=function(){return e},e}function w(){var e=(0,i.Z)(["\n  mutation TeamProfileUpdateReplTemplate($input: UpdateReplTemplateInput!) {\n    updateReplTemplate(input: $input) {\n      ... on ReplTemplate {\n        id\n        repl {\n          id\n          ...TeamProfileRepl\n        }\n      }\n      ... on UserError {\n        message\n      }\n    }\n  }\n  ","\n"]);return w=function(){return e},e}function k(){var e=(0,i.Z)(["\n  mutation TeamProfileMigrateTeamToStacks($teamId: Int!) {\n    migrateTeamToStacks(teamId: $teamId) {\n      ... on Team {\n        id\n        ...TeamEduProfile\n      }\n      ... on UserError {\n        message\n      }\n      ... on NotFoundError {\n        message\n      }\n    }\n  }\n  ","\n"]);return k=function(){return e},e}function C(){var e=(0,i.Z)(["\n  mutation TeamProfileCreateReplTemplateModelSolution(\n    $input: CreateReplTemplateModelSolutionInput!\n  ) {\n    createReplTemplateModelSolution(input: $input) {\n      ... on Repl {\n        id\n        ...TeamProfileRepl\n      }\n      ... on UserError {\n        message\n      }\n      ... on NotFoundError {\n        message\n      }\n      ... on UnauthorizedError {\n        message\n      }\n    }\n  }\n  ","\n"]);return C=function(){return e},e}function S(){var e=(0,i.Z)(["\n  mutation TeamProfileCreateReplTemplateModelSolutionFork(\n    $input: CreateReplTemplateModelSolutionForkInput!\n  ) {\n    createReplTemplateModelSolutionFork(input: $input) {\n      ... on Repl {\n        id\n        ...TeamProfileRepl\n      }\n      ... on UserError {\n        message\n      }\n      ... on NotFoundError {\n        message\n      }\n      ... on UnauthorizedError {\n        message\n      }\n    }\n  }\n  ","\n"]);return S=function(){return e},e}function R(){var e=(0,i.Z)(["\n  mutation TeamCreateReplSubmission($templateId: Int!) {\n    createReplSubmission(templateId: $templateId) {\n      ...TeamCreateReplSubmissionOutput\n    }\n  }\n  ","\n"]);return R=function(){return e},e}var T={},E=(0,o.Ps)(c()),I=(0,o.Ps)(u(),E,a.Pc),G=(0,o.Ps)(d(),I),D=(0,o.Ps)(p(),G),B=(0,o.Ps)(f(),D),P=(0,o.Ps)(h(),D),_=(0,o.Ps)(v(),D),A=(0,o.Ps)(m(),I),U=(0,o.Ps)(g(),P);function L(e){var n=(0,r.Z)({},T,e);return l.a(U,n)}var z=(0,o.Ps)(Z(),B);function O(e){var n=(0,r.Z)({},T,e);return l.a(z,n)}var X=(0,o.Ps)(b());function j(e){var n=(0,r.Z)({},T,e);return s.D(X,n)}var N=(0,o.Ps)(x());function M(e){var n=(0,r.Z)({},T,e);return s.D(N,n)}var F=(0,o.Ps)(y(),_);function W(e){var n=(0,r.Z)({},T,e);return s.D(F,n)}var V=(0,o.Ps)(w(),G);function H(e){var n=(0,r.Z)({},T,e);return s.D(V,n)}var Y=(0,o.Ps)(k(),B);function q(e){var n=(0,r.Z)({},T,e);return s.D(Y,n)}var K=(0,o.Ps)(C(),G);function $(e){var n=(0,r.Z)({},T,e);return s.D(K,n)}var Q=(0,o.Ps)(S(),G);function J(e){var n=(0,r.Z)({},T,e);return s.D(Q,n)}var ee=(0,o.Ps)(R(),A);function ne(e){var n=(0,r.Z)({},T,e);return s.D(ee,n)}},39147:function(e,n,t){"use strict";var r=t(73194),i=t.n(r);n.Z=i()((function(){return Promise.all([t.e(4001),t.e(6923),t.e(4656)]).then(t.bind(t,74656)).then((function(e){return e.EditReplTemplate}))}),{loadableGenerated:{webpack:function(){return[74656]}}})},28371:function(e,n,t){"use strict";function r(e){return{pathname:"/expiredPrivateRepl",query:{isOwner:e.isOwner,ownerUsername:e.ownerUsername,replId:e.replId}}}t.d(n,{H:function(){return r}})},78563:function(e,n,t){"use strict";t.r(n),t.d(n,{default:function(){return VC}});var r=t(74985),i=t(43312),o=t(14260),a=t(48414),l=t(39541),s=t(61284),c=t(85368),u=t(13474),d=t(50959);function p(e){var n=e.src,t=e.autoPlay,i=void 0===t||t,o=e.loop,a=void 0===o||o,s=e.width,u=void 0===s?280:s;return(0,r.tZ)(c.G,{css:[l.l0.p(4),l.l0.borderRadius(8),l.l0.width(u),l.l0.backgroundColor.backgroundRoot,{border:"solid 1px ".concat(l.TV.outlineDimmest)}],children:(0,r.tZ)("video",{style:{width:"100%"},css:l.l0.borderRadius(8),src:n,autoPlay:i,loop:a,playsInline:!0,muted:!0})})}var f=function(e){return"/public/videos/workspace-onboarding/".concat(e,".mp4")},h={id:"workspace-desktop-new-user-tour",steps:[{id:u.y.Welcome,isModal:!0,title:"Welcome to the Workspace",content:function(){return(0,r.tZ)(c.G,{"data-cy":"workspace-tour-welcome",css:[l.l0.maxWidth(400)],children:(0,r.BX)(s.xv,{children:["The Workspace is where you create projects on Replit. These are called"," ",(0,r.tZ)("strong",{children:"Repls."}),(0,r.tZ)("br",{}),"Let's explore around!"]})})}},{id:u.y.Editor,title:"Code Editor",content:function(){return(0,r.BX)(c.G,{css:[l.l0.width("100%"),l.l0.center,l.l0.position.relative],children:[(0,r.tZ)(p,{src:f("editor"),autoPlay:!0,loop:!0}),(0,r.tZ)(c.G,{css:[l.l0.colWithGap(8),l.l0.width("100%"),l.l0.py(8)],children:(0,r.tZ)(s.xv,{children:"This is where you write code. The editor helps you by giving you suggestions and coloring your code."})})]})}},{id:u.y.Examples,title:"Examples",content:"Click on one of these examples to insert into your editor",autoSkipIfNoTarget:!0},{id:u.y.Run,title:"Run Button",content:function(){return(0,r.BX)(c.G,{css:[l.l0.width("100%"),l.l0.center,l.l0.position.relative],children:[(0,r.tZ)(p,{src:f("run-button"),autoPlay:!0,loop:!0}),(0,r.tZ)(c.G,{css:[l.l0.colWithGap(8),l.l0.width("100%"),l.l0.py(8)],children:(0,r.tZ)(s.xv,{children:"Tap the Run button to \u201crun\u201d your code and see its output."})})]})}},{id:u.y.Output,title:"Output",content:function(){return(0,r.BX)(c.G,{css:[l.l0.width("100%"),l.l0.center,l.l0.position.relative],children:[(0,r.tZ)(p,{src:f("output"),autoPlay:!0,loop:!0}),(0,r.tZ)(c.G,{css:[l.l0.colWithGap(8),l.l0.width("100%"),l.l0.py(8)],children:(0,r.tZ)(s.xv,{children:"This is where your run output appears. This can be text, websites, games, and more depending on the template you\u2019re using."})})]})}},{id:u.y.Sidepane,title:"Sidebar",content:function(){return(0,r.BX)(c.G,{css:[l.l0.width("100%"),l.l0.center,l.l0.position.relative],children:[(0,r.tZ)(p,{src:f("sidebar"),autoPlay:!0,loop:!0}),(0,r.BX)(c.G,{css:[l.l0.colWithGap(8),l.l0.width("100%"),l.l0.p(8)],children:[(0,r.BX)(s.xv,{children:[(0,r.tZ)("strong",{children:"Files"})," is where all of your Repl\u2019s code is."]}),(0,r.BX)(s.xv,{children:[(0,r.tZ)("strong",{children:"Tools"})," is where Packages, Debugger, Chat, Git, and more can be found."]}),(0,r.tZ)(s.xv,{children:"You can drag and drop any file or tool. All tools open as tabs instead of opening in the sidebar."})]})]})}},{id:u.y.Share,title:"Invite & Collaborate",content:function(){return(0,r.BX)(c.G,{css:[l.l0.width("100%"),l.l0.center,l.l0.position.relative],children:[(0,r.tZ)(p,{src:f("invite-multiplayer"),autoPlay:!0,loop:!0}),(0,r.tZ)(c.G,{css:[l.l0.colWithGap(8),l.l0.width("100%"),l.l0.py(8)],children:(0,r.tZ)(s.xv,{children:"Invite others to your Repl to collaborate and work together at the same time."})})]})}}]},v={id:"workspace-desktop-sidebar-tour",steps:[{id:u.y.SidebarAnnouncement,title:"The New Workspace",isModal:!0,content:function(){return(0,r.tZ)(c.G,{css:[l.l0.maxWidth(400)],children:(0,r.tZ)(c.G,{css:[l.l0.width("100%"),l.l0.py(8)],children:(0,r.tZ)(s.xv,{children:"If you\u2019re seeing this, that means you get to test the new Workspace redesign. It has a few key differences we want to show you!"})})})}},{id:u.y.Sidepane,title:"Sidebar",content:function(){return(0,r.BX)(c.G,{css:[l.l0.width("100%"),l.l0.center,l.l0.position.relative],children:[(0,r.tZ)(p,{src:(e="sidebar","/public/videos/workspace-onboarding/".concat(e,".mp4")),autoPlay:!0,loop:!0}),(0,r.BX)(c.G,{css:[l.l0.colWithGap(8),l.l0.width("100%"),l.l0.p(8)],children:[(0,r.BX)(s.xv,{children:[(0,r.tZ)("strong",{children:"Files"})," is where all of your Repl\u2019s code is."]}),(0,r.BX)(s.xv,{children:[(0,r.tZ)("strong",{children:"Tools"})," is where Packages, Debugger, Chat, Git, and more can be found."]}),(0,r.tZ)(s.xv,{children:"You can drag and drop any file or tool. All tools open as tabs instead of opening in the sidebar."})]})]});var e}},{id:u.y.SidebarButton,title:"Sidebar Button",content:function(){return(0,r.tZ)(c.G,{css:[l.l0.width("100%"),l.l0.center,l.l0.position.relative],children:(0,r.tZ)(c.G,{css:[l.l0.width("100%"),l.l0.py(8)],children:(0,r.tZ)(s.xv,{children:"Tapping on this quickly opens and closes the entire sidebar."})})})}},{id:u.y.GlobalNavButton,title:"Navigation Menu",content:function(){return(0,r.tZ)(c.G,{css:[l.l0.width("100%"),l.l0.center,l.l0.position.relative],children:(0,r.tZ)(c.G,{css:[l.l0.width("100%"),l.l0.py(8)],children:(0,r.tZ)(s.xv,{children:"Tapping on this lets you navigate to other pages on Replit."})})})}},{id:u.y.NotificationsButton,title:"Notifications",content:function(){return(0,r.tZ)(c.G,{children:(0,r.tZ)(c.G,{css:[l.l0.width("100%"),l.l0.py(8)],children:(0,r.tZ)(s.xv,{children:"You can access all notifications from this menu. "})})})}},{id:u.y.AvatarButton,title:"Profile Menu",content:function(){return(0,r.tZ)(c.G,{children:(0,r.tZ)(c.G,{css:[l.l0.width("100%"),l.l0.py(8)],children:(0,r.tZ)(s.xv,{children:"You can access your profile and account settings from this menu."})})})}},{id:u.y.Feedback,title:"That's all!",isModal:!0,content:function(){return(0,r.tZ)(c.G,{css:[l.l0.maxWidth(400)],children:(0,r.tZ)(c.G,{css:[l.l0.width("100%"),l.l0.py(8)],children:(0,r.BX)(s.xv,{children:["This is the start of many more future updates to the Workspace to help increase the flexibility of Replit.",(0,r.tZ)("br",{}),(0,r.tZ)("br",{}),"If you'd like to leave some feedback, you can"," ",(0,r.tZ)("a",{href:"https://replit.com/@tyler/The-New-Workspace?v=1",target:"_blank",children:(0,r.tZ)("strong",{children:"leave a comment on this Repl"})}),". Happy coding!"]})})})}}]};var m=t(26283),g=t(625);function Z(e){var n=e.children,t=e.tour,i=function(e){var n;o&&t&&"function"===typeof(null===(n=window.analytics)||void 0===n?void 0:n.user)&&(0,g.yV)({id:window.analytics.user().id(),workspaceTourId:t.id,workspaceTourStatus:e===t.steps[t.steps.length-1].id?"completed":e.toLowerCase()})};if(!t)return(0,r.tZ)(r.HY,{children:n});var o="workspace-desktop-tour"===t.id||"workspace-desktop-new-user-tour"===t.id;return(0,r.tZ)(m.r,{tour:t,onStep:i,onDone:i,children:n})}var b=t(90171),x=t(88541),y=t(28371);var w=t(2272),k=t(26357),C=t(57389),S=t(51631),R=t(72006),T=t(43119),E=t(71440),I=t(37640),G=t(50216);function D(){var e=(0,T.Z)(["\n  fragment MarkLessonCompleteLesson on UserCourseLesson {\n    id\n    lessonSlug\n    timeCompleted\n    course {\n      id\n      courseSlug\n    }\n  }\n"]);return D=function(){return e},e}function B(){var e=(0,T.Z)(["\n  mutation MarkLessonAsComplete($input: CompleteUserCourseLessonInput!) {\n    completeUserCourseLesson(input: $input) {\n      ... on UpdatedUserCourseLesson {\n        __typename\n        userCourseLesson {\n          id\n          timeCompleted\n        }\n      }\n      ... on NotFoundError {\n        __typename\n        message\n      }\n      ... on UnauthorizedError {\n        __typename\n        message\n      }\n      ... on UserError {\n        __typename\n        message\n      }\n    }\n  }\n"]);return B=function(){return e},e}var P={},_=(0,E.Ps)(D()),A=(0,E.Ps)(B());var U=t(75982),L=t(3481),z=t(19897);function O(){var e=(0,T.Z)(["\n  fragment ReplEnvironmentHeaderLeftCurrentUser on CurrentUser {\n    id\n    isFirewallMode\n  }\n"]);return O=function(){return e},e}function X(){var e=(0,T.Z)(["\n  fragment ReplEnvironmentHeaderLeftRepl on Repl {\n    id\n    isAlwaysOn\n    slug\n    url\n    ...WorkspaceHeaderReplMetadataRepl\n  }\n  ","\n"]);return X=function(){return e},e}var j=(0,E.Ps)(O()),N=(0,E.Ps)(X(),U.s);function M(){var e=(0,T.Z)(['\n  fragment ReplEnvironmentTourCurrentUser on CurrentUser {\n    id\n    hasSeenOldWorkspaceTour: tourSeen(name: "workspace-desktop-tour")\n  }\n']);return M=function(){return e},e}function F(){var e=(0,T.Z)(["\n  fragment ReplEnvironmentTourRepl on Repl {\n    id\n    lesson {\n      id\n    }\n  }\n"]);return F=function(){return e},e}var W=(0,E.Ps)(M()),V=(0,E.Ps)(F());function H(){var e=(0,T.Z)(['\n  fragment ReplEnvironmentDesktopCurrentUser on CurrentUser {\n    id\n    image\n    isFirewallMode\n    isAdmin: hasRole(role: ADMIN)\n    userSubscriptionType\n    ...CrosisContextCurrentUser\n    editorPreferences {\n      ...CurrentUserPreferences\n    }\n    ...ReplEnvironmentHeaderLeftCurrentUser\n    ...ReplEnvironmentTourCurrentUser\n    canMigrateRepls: gate(feature: "migrate2nix-killswitch")\n  }\n  ',"\n  ","\n  ","\n  ","\n"]);return H=function(){return e},e}function Y(){var e=(0,T.Z)(['\n  fragment ReplEnvironmentDesktopRepl on Repl {\n    id\n    title\n    layoutState\n    description\n    hostedUrl: hostedUrl(dotty: true)\n    multiplayers {\n      id\n    }\n    currentUserPermissions {\n      containerWrite\n    }\n    origin {\n      id\n    }\n    language\n    config {\n      isVnc\n      isServer\n      isExtension\n    }\n    lesson {\n      id\n    }\n    rootOriginReplUrl\n    source {\n      release {\n        id\n      }\n    }\n    ...CrosisContextRepl\n    ...ReplEnvironmentHeaderLeftRepl\n    flagOutputs: gateOnOwner(feature: "flag-outputs")\n  }\n  ',"\n  ","\n"]);return Y=function(){return e},e}var q=(0,E.Ps)(H(),L.D,z.wO,j,W),K=(0,E.Ps)(Y(),L.C,N),$=t(24635);function Q(){var e=(0,T.Z)(["\n  fragment ReplEnvironmentHeaderCurrentUser on CurrentUser {\n    id\n    isSubscribed\n    isFirewallMode\n    isExplorer: hasRole(role: EXPLORER)\n    ...ReplEnvironmentAvatarMenuCurrentUser\n  }\n  ","\n"]);return Q=function(){return e},e}function J(){var e=(0,T.Z)(["\n  fragment ReplEnvironmentHeaderRepl on Repl {\n    id\n    slug\n    url\n    workspaceCta\n    currentUserPermissions {\n      editMultiplayers\n      inviteGuests\n    }\n    owner {\n      ... on Team {\n        id\n        capabilities {\n          isEducationPlan\n        }\n      }\n      ... on User {\n        id\n      }\n    }\n    template {\n      id\n      isGroupProject\n    }\n    lesson {\n      id\n      ...MarkLessonCompleteLesson\n    }\n    multiplayers {\n      id\n    }\n    hostingDeploymentPermissions {\n      canDeploy\n    }\n  }\n  ","\n"]);return J=function(){return e},e}function ee(){var e=(0,T.Z)(["\n  fragment ReplEnvironmentHeaderPropsRepl on Repl {\n    ...ReplEnvironmentDesktopRepl\n  }\n  ","\n"]);return ee=function(){return e},e}function ne(){var e=(0,T.Z)(["\n  fragment ReplEnvironmentHeaderPropsCurrentUser on CurrentUser {\n    ...ReplEnvironmentDesktopCurrentUser\n  }\n  ","\n"]);return ne=function(){return e},e}function te(){var e=(0,T.Z)(["\n  query ReplEnvironmentHeader($id: String!) {\n    repl(id: $id) {\n      ... on Repl {\n        id\n        ...ReplEnvironmentHeaderRepl\n        ...WorkspaceHeaderReplMetadataRepl\n      }\n    }\n    currentUser {\n      id\n      ...ReplEnvironmentHeaderCurrentUser\n    }\n  }\n  ","\n  ","\n  ","\n"]);return te=function(){return e},e}var re={},ie=(0,E.Ps)(Q(),I.W6),oe=(0,E.Ps)(J(),_),ae=(ee(),ne(),(0,E.Ps)(te(),oe,U.s,ie));var le=t(13565),se=t(63128),ce=t(45510),ue=t(87076),de=t(17807),pe=t(45285),fe=t(67283),he=t(4405),ve=t(90349),me=t(66539);function ge(e){var n=e.user,t=e.onClick;return(0,r.tZ)(me.u,{placement:"bottom",tooltip:"Observe ".concat(n.username),children:function(e,i){return(0,r.tZ)(c.G,(0,he.Z)((0,R.Z)({},e),{innerRef:i,onClick:t,children:(0,r.tZ)(ve.q,{size:24,src:n.image||null,username:n.username,ringColor:n.color,css:[l.l0.cursor.pointer,{transition:"all 0.2s ease","&:hover":{filter:"brightness(95%)",boxShadow:l.TV.shadow1}}]})}))}})}var Ze=t(32104),be=t(5889),xe=t(82568),ye="Owner",we="Can edit",ke=t(17074),Ce=(0,xe.X)({container:[l.l0.pl(8),l.l0.pr(16),l.l0.py(4),l.l0.flex.row,l.l0.align.center,l.l0.justify.start],button:[l.l0.display.flex,l.l0.align.center],img:[l.l0.width(32),l.l0.height(32),l.l0.borderRadius("full"),l.l0.backgroundColor.white,l.l0.border({width:3,style:"solid"}),{objectFit:"cover"}],usernameContainer:[l.l0.display.flex,l.l0.flex.column,l.l0.justify.center,l.l0.ml(8),l.l0.flex.growAndShrink(1),l.l0.colWithGap(2)]});var Se=function(e){var n=e.id,t=e.username,i=e.image,o=e.isOwner,a=e.color,l=e.hideModal,c=e.canClickAvatar,u=e.isCurrentUser,d=e.onAvatarClick,p=function(){c&&(d({username:t,id:n}),l())};return(0,r.BX)("div",{css:[Ce.container,o&&de.gU.listItem],style:(0,R.Z)({cursor:c?"pointer":"auto"},c&&de.gU.listItem),role:"button",onClick:p,onKeyDown:p,tabIndex:0,children:[(0,r.BX)("div",{css:Ce.button,children:[(0,r.tZ)(be.Z,{src:i,alt:"",css:Ce.img,style:{borderColor:a},width:32,height:32}),c?(0,r.BX)(ke.T,{children:["Observe ",t]}):null]}),(0,r.BX)("div",{css:Ce.usernameContainer,children:[(0,r.BX)(s.xv,{multiline:!1,children:["@",t,u?" (you)":null]}),(0,r.tZ)(s.xv,{variant:"small",color:"dimmer",multiline:!1,children:o?ye:we})]})]})};function Re(){var e=(0,T.Z)(["\n  fragment UsersOnlineOverflowMenuUser on User {\n    id\n    username\n    image\n  }\n"]);return Re=function(){return e},e}function Te(){var e=(0,T.Z)(["\n  query UsersOnlineOverflowMenu($replId: String!) {\n    repl(id: $replId) {\n      ... on Repl {\n        id\n        user {\n          id\n          ...UsersOnlineOverflowMenuUser\n        }\n        multiplayers {\n          id\n          ...UsersOnlineOverflowMenuUser\n        }\n      }\n      ... on ReplRedirect {\n        replUrl\n      }\n      ... on SubscriptionExpiredError {\n        replId\n      }\n    }\n    currentUser {\n      id\n    }\n  }\n  ","\n"]);return Te=function(){return e},e}var Ee={},Ie=(0,E.Ps)(Re()),Ge=(0,E.Ps)(Te(),Ie);var De=(0,xe.X)({loading:[l.l0.flex.row,l.l0.justify.center,l.l0.p(32)],loaded:[l.l0.colWithGap(8),l.l0.py(8),l.l0.maxHeight(330),{overflowY:"auto"}]});var Be=function(e){var n=e.replId,t=e.activeUsers,i=e.hideModal,o=e.onAvatarClick,a=function(e){var n=(0,R.Z)({},Ee,e);return $.a(Ge,n)}({variables:{replId:n}}),l=a.data,s=a.loading,u=a.error;if(s)return(0,r.tZ)(c.G,{css:De.loading,children:(0,r.tZ)(Ze.Z,{})});if(u)return(0,r.tZ)("div",{children:u.message});if("Repl"===(null===l||void 0===l?void 0:l.repl.__typename)){var d=l.repl,p=l.currentUser,f=d.user,h=f&&t.find((function(e){return e.username===f.username})),v=d.multiplayers.filter((function(e){return e&&function(e,n){return n.some((function(n){return n.id===e}))}(e.id,t)})),m=v.slice(2);return(0,r.tZ)(c.G,{css:De.loaded,children:(0,r.BX)(c.G,{children:[f?(0,r.tZ)(Se,(0,he.Z)((0,R.Z)({},f),{color:h?h.color:"transparent",isOwner:!0,hideModal:i,isCurrentUser:f.id===(null===p||void 0===p?void 0:p.id),canClickAvatar:Boolean(h)&&f.id!==(null===p||void 0===p?void 0:p.id),onAvatarClick:o})):null,m.map((function(e){if(!e)throw new Error("Expected user");var n=t.find((function(n){return n.username===e.username}));if(!n)throw new Error("Expected user online");var a=e.id!==(null===p||void 0===p?void 0:p.id);return(0,r.tZ)(Se,(0,he.Z)((0,R.Z)({isCurrentUser:e.id===(null===p||void 0===p?void 0:p.id)},e),{canClickAvatar:a,color:n.color,hideModal:i,isOwner:!1,onAvatarClick:o}),"chat-user-list-".concat(e.username))}))]})})}return"ReplRedirect"===(null===l||void 0===l?void 0:l.repl.__typename)?(0,r.BX)("div",{children:["This Repl has moved to"," ",(0,r.tZ)("a",{href:l.repl.replUrl,children:l.repl.replUrl})]}):"SubscriptionExpiredError"===(null===l||void 0===l?void 0:l.repl.__typename)?(0,r.BX)("div",{children:["Your subscription has expired.",(0,r.tZ)("a",{href:"/pricing",children:"Upgrade here"})]}):null},Pe=t(1734),_e=t(24746),Ae=t(48330),Ue=function(e){var n=e.isOpen,t=e.hideModal,i=e.children,o=e.onAvatarClick,a=(0,Ae.Z)(),l=(0,pe.Z)().presence,s=(0,_e.Z)({presence:l});return(0,r.BX)(Pe.Z,{isOpen:n,padding:0,onClickOutside:t,children:[i,(0,r.tZ)(Be,{replId:a,activeUsers:s,hideModal:t,onAvatarClick:o})]})},Le=t(4421),ze=t(13716),Oe=(0,xe.X)({root:[l.l0.flex.row,l.l0.align.center,l.l0.backgroundColor.backgroundDefault],userStack:[l.l0.rowWithGap(4),l.l0.align.center,l.l0.px(8),(0,C.Z)({},l.BC.max(Le.j.mobileMax+100),[l.l0.display.none])],userStackListItem:{listStyleType:"none"},overflowContainer:{backgroundColor:"transparent"},overflowButton:[l.l0.borderRadius("full"),l.l0.minWidth(24),l.l0.height(24),l.l0.fontSize(10),l.l0.border({color:l.TV.outlineDefault})]});function Xe(e){var n=(0,w.Z)(d.useState(!1),2),t=n[0],i=n[1],o=(0,ze.aG)();if(0===o.length)return null;var a=o.slice(0,2),l=o.length-2;return(0,r.tZ)(c.G,{css:Oe.root,children:(0,r.BX)(c.G,{tag:"ul",css:Oe.userStack,"aria-live":"polite","aria-relevant":"additions removals","aria-label":"online users",children:[a.map((function(n){return(0,r.tZ)("li",{css:Oe.userStackListItem,children:(0,r.tZ)(ge,{user:n,onClick:function(){return e.onAvatarClick(n)}})},n.id)})),l>0?(0,r.tZ)("li",{css:Oe.userStackListItem,children:(0,r.tZ)(c.G,{children:(0,r.tZ)(Ue,{isOpen:t,hideModal:function(){return i(!1)},onAvatarClick:e.onAvatarClick,children:(0,r.tZ)(se.Tg,{background:"root",css:Oe.overflowContainer,children:(0,r.tZ)(ce.zx,{small:!0,onClick:function(){return i(!t)},text:l.toString(),css:Oe.overflowButton})})})})}):null]})})}var je=t(19065),Ne=t(24743),Me=t(35301),Fe=t(36395),We=t(27522),Ve=t(46688),He=t(5790),Ye=(0,i.iv)([l.l0.p(8),l.l0.borderRadius(8),l.l0.border({color:l.TV.purpleDefault,width:1})]);function qe(e){var n=e.children,t=e.showPopover,i=(0,Ve.Z)("announcement","add-guest-new-user"),o=i.shouldDisplay,a=i.register,l=i.dismiss,s=(0,w.Z)(d.useState(!1),2),u=s[0],p=s[1],f=(0,w.Z)(d.useState(!1),2),h=f[0],v=f[1];d.useEffect((function(){t&&!h&&a()}),[h,a,t]);var m=o&&!h;return(0,r.BX)(He.x,{css:Ye,isOpen:m,onOpenChange:function(e){e||v(!0)},label:"Add Guests",children:[(0,r.tZ)(c.K.div,{children:n}),(0,r.BX)(Me.gC,{spacing:2,align:"stretch",children:[(0,r.BX)(Me.Ug,{spacing:1,children:[(0,r.tZ)(Fe.Z,{}),(0,r.tZ)(je.Z,{level:5,children:"Invite guests to your repl!"})]}),(0,r.BX)(Ne.Z,{children:[" ","Add external guests to your repl for interviews and collaborative projects."," "]}),(0,r.tZ)(Me.Ug,{spacing:1,justify:"end",children:(0,r.tZ)(We.Z,{loading:u,onClick:function(){p(!0),l()},children:"Got it"})})]})]})}var Ke=t(64999),$e=t(6785),Qe=t(9970),Je=t(48306),en=t.n(Je);function nn(e){var n=e.email,t=e.onInvite,i=e.onCancel;return(0,r.BX)("div",{className:"jsx-1a6ae4ac10e8f1fa root",children:[(0,r.tZ)(je.Z,{level:3,align:"center",children:"Are you sure?"}),(0,r.BX)(Ne.Z,{align:"center",children:[(0,r.tZ)("p",{className:"jsx-1a6ae4ac10e8f1fa message",children:"Adding an external user as a guest to this repl will give the user read and write access. Please confirm the below email address before inviting the user as a guest."}),(0,r.tZ)("p",{className:"jsx-1a6ae4ac10e8f1fa email",children:n})]}),(0,r.BX)("div",{className:"jsx-1a6ae4ac10e8f1fa controls",children:[(0,r.tZ)(We.Z,{onClick:i,children:"Cancel"}),(0,r.tZ)(We.Z,{filled:!0,color:"primary",onClick:t,children:"Invite"})]}),(0,r.tZ)(en(),{id:"1a6ae4ac10e8f1fa",children:".root.jsx-1a6ae4ac10e8f1fa{color:var(--foreground-default);padding:var(--space-24);display:grid;grid-gap:var(--space-24)}.controls.jsx-1a6ae4ac10e8f1fa{display:grid;grid-gap:var(--space-8);grid-auto-flow:column}.message.jsx-1a6ae4ac10e8f1fa{padding-bottom:var(--space-16)}"})]})}var tn=t(2041),rn=t(8441),on=t(13233),an=t(30872),ln=t(77511),sn=t(47161),cn=t(45317),un=t(96453);function dn(){var e=(0,T.Z)(["\n  fragment MultiplayerUser on User {\n    id\n    image\n    username\n  }\n"]);return dn=function(){return e},e}function pn(){var e=(0,T.Z)(["\n  query TeamMultiplayerManagerMultiplayers($replId: String!) {\n    currentUser {\n      id\n    }\n    repl(id: $replId) {\n      ... on Repl {\n        id\n        isOwner\n        multiplayers {\n          id\n          ...MultiplayerUser\n        }\n        currentUserPermissions {\n          editMultiplayers\n          inviteGuests\n        }\n        multiplayerInvites {\n          email\n          type\n        }\n        owner {\n          ... on User {\n            id\n          }\n          ... on Team {\n            id\n            username\n            displayName\n            capabilities {\n              isBusinessPlan\n              hasValidSubscription\n              availableSeats\n            }\n            members {\n              id\n              permissions\n              user {\n                id\n                ...MultiplayerUser\n              }\n            }\n          }\n        }\n      }\n    }\n  }\n  ","\n"]);return pn=function(){return e},e}function fn(){var e=(0,T.Z)(["\n  mutation TeamMultiplayerManagerMultiplayersAddMultiplayerUser(\n    $replId: String!\n    $username: String!\n    $type: String!\n  ) {\n    addMultiplayerUser(replId: $replId, username: $username, type: $type) {\n      id\n      type\n      user {\n        id\n        ...MultiplayerUser\n      }\n      repl {\n        id\n        multiplayers {\n          id\n          ...MultiplayerUser\n        }\n        multiplayerInvites {\n          email\n          type\n        }\n      }\n    }\n  }\n  ","\n"]);return fn=function(){return e},e}function hn(){var e=(0,T.Z)(["\n  mutation TeamMultiplayerManagerMultiplayersRemoveMultiplayerUser(\n    $replId: String!\n    $username: String!\n  ) {\n    removeMultiplayerUser(replId: $replId, username: $username) {\n      id\n      user {\n        id\n        ...MultiplayerUser\n      }\n      repl {\n        id\n        multiplayers {\n          id\n          ...MultiplayerUser\n        }\n      }\n    }\n  }\n  ","\n"]);return hn=function(){return e},e}var vn={},mn=(0,E.Ps)(dn()),gn=(0,E.Ps)(pn(),mn);var Zn=(0,E.Ps)(fn(),mn);hn();var bn=t(85268),xn=t(14709),yn=t.n(xn);function wn(e){var n,t,i,o,a=e.replId,u=function(e){var n=(0,R.Z)({},vn,e);return $.a(gn,n)}({variables:{replId:a}}),p=u.data,f=u.loading,h=(0,b.useRouter)(),v=(0,ln.Vg)(h),m=(0,ze.aG)(),Z=(null===p||void 0===p||null===(n=p.currentUser)||void 0===n?void 0:n.id)||null,x="Repl"===(null===p||void 0===p?void 0:p.repl.__typename)?p.repl:null,y=(0,on.Z)(),k=y.showConfirm,C=y.showError,T=(0,w.Z)(function(e){var n=(0,R.Z)({},vn,e);return G.D(Zn,n)}({onError:function(e){return C(e.message)},onCompleted:function(e){var n=e.addMultiplayerUser.user;(0,g.j)(g.U3.MULTIPLAYER_INVITED,{replId:a,inviteMethod:"username"});var t=n?"@".concat(n.username):"Member";k("".concat(t," added"))}}),2),E=T[0],I=T[1],D=(0,w.Z)((0,un.z8)({onError:function(e){C(e.message)},update:function(e,n){var t,r=null===(t=n.data)||void 0===t?void 0:t.createMultiplayerInvite2;if(r)if("UserError"!==r.__typename){if("MultiplayerInvite"===r.__typename){var i=r.email;return(0,g.j)(g.U3.MULTIPLAYER_INVITED,{replId:a,inviteMethod:"email"}),void k("Invited ".concat(i," via email"))}if("ReplPermission"===r.__typename){e.modify({id:e.identify({__typename:"Repl",id:a}),fields:{permissions:function(n){var t=e.writeFragment({data:r,fragment:un.dE});return(0,Qe.Z)(n).concat([t])}}});var o=r.user;(0,g.j)(g.U3.MULTIPLAYER_INVITED,{replId:a,inviteMethod:"email"});var l=o?"@".concat(o.username):"Member";k("".concat(l," added"))}}else C(r.message)}}),2),B=D[0],P=D[1];if(x&&!x.owner)throw new Error("Cannot manage members on anon repls");if((null===x||void 0===x?void 0:x.owner)&&"Team"!==(null===x||void 0===x?void 0:x.owner.__typename))throw new Error("Expect repl owned by a team");var _,A,U="Team"===(null===x||void 0===x||null===(t=x.owner)||void 0===t?void 0:t.__typename)?x.owner:null,L=!(null===U||void 0===U||null===(i=U.capabilities)||void 0===i?void 0:i.hasValidSubscription)&&!(null===U||void 0===U||null===(o=U.capabilities)||void 0===o?void 0:o.isBusinessPlan),z=null!==(_=null===x||void 0===x?void 0:x.multiplayers.reduce((function(e,n){return n?(0,Qe.Z)(e).concat([n.username]):e}),[]))&&void 0!==_?_:[],O=null===x||void 0===x?void 0:x.multiplayerInvites,X=m.filter((function(e){return!(null===U||void 0===U?void 0:U.members.some((function(n){return n.id===e.id})))})),j=null===U||void 0===U?void 0:U.members.filter((function(e){var n;return(null===(n=e.user)||void 0===n?void 0:n.id)!==Z})),N=null===U||void 0===U?void 0:U.members.filter((function(e){return e.permissions&&e.permissions!==S.SV.Member})),M=null===j||void 0===j?void 0:j.filter((function(e){var n=e.user;return m.some((function(e){return e.id===(null===n||void 0===n?void 0:n.id)}))})),F=null===j||void 0===j?void 0:j.filter((function(e){var n=e.user;return!m.some((function(e){return e.id===(null===n||void 0===n?void 0:n.id)}))})),W=null===N||void 0===N?void 0:N.some((function(e){var n;return(null===(n=e.user)||void 0===n?void 0:n.id)===Z})),V=null!==(A=null===O||void 0===O?void 0:O.length)&&void 0!==A?A:0,H=null===x||void 0===x?void 0:x.currentUserPermissions.editMultiplayers,Y=null===x||void 0===x?void 0:x.currentUserPermissions.inviteGuests,q=(0,w.Z)(d.useState(null),2),K=q[0],Q=q[1];return f?(0,r.tZ)(se.Tg,{css:[$e._U.root],background:"default",children:(0,r.BX)(c.G,{css:$e._U.loading,children:[(0,r.tZ)(Ze.Z,{color:cn.TV.foregroundDimmer}),(0,r.tZ)(s.xv,{color:"dimmer",multiline:!1,children:"Loading..."})]})}):(0,r.BX)(se.Tg,{css:$e._U.root,background:"default",children:[(0,r.tZ)(c.G,{css:[$e._U.header,v&&$e._U.header_mobile],children:(0,r.tZ)(c.G,{css:$e._U.titleContainer,children:(0,r.tZ)(s.xv,{variant:"subheadDefault",multiline:!1,children:"Team Multiplayers"})})}),Y?(0,r.tZ)(c.G,{css:$e._U.searchContainer,children:(0,r.tZ)(an.Z,{existingUsernames:z,onSubmit:function(e){yn()(e)&&!P.loading?Q(e):I.loading||E({variables:{username:e,replId:a,type:"rw"}})},isDisabled:f})}):null,!Y&&L?(0,r.tZ)(c.G,{css:[l.l0.px(16)],children:(0,r.tZ)(sn.u,{icon:(0,r.tZ)(bn.Z,{}),text:'You can add people to this Repl by inviting them to the "'.concat(null===U||void 0===U?void 0:U.displayName,'" Friends Team.'),href:"/teams/".concat(null===U||void 0===U?void 0:U.username),target:"_blank"})}):null,(0,r.tZ)(tn.u,{isOpen:!!K,onRequestClose:function(){return Q(null)},children:K?(0,r.tZ)(nn,{email:K,onInvite:function(){B({variables:{email:K,replId:a,type:"rw"}}),Q(null)},onCancel:function(){return Q(null)}}):null}),(0,r.BX)(se.Tg,{css:$e._U.userList,children:[(null===O||void 0===O?void 0:O.length)?(0,r.BX)(c.G,{css:$e._U.userGroup.root,children:[(0,r.tZ)($e.ln,{title:"Pending Invitations",color:cn.TV.outlineStrongest,count:V}),null===O||void 0===O?void 0:O.map((function(e){return(0,r.tZ)(rn.Z,{canEditMultiplayers:W||!1,email:e.email,isPendingInvitation:!0,replId:a},e.email)}))]}):null,(null===X||void 0===X?void 0:X.length)?(0,r.BX)(c.G,{css:$e._U.userGroup.root,children:[(0,r.tZ)($e.ln,{title:"External Guests",color:cn.TV.outlineStrongest,count:null===X||void 0===X?void 0:X.length,tooltip:"External Guests are not members of your team and were invited via a Join Link or by username."}),null===X||void 0===X?void 0:X.map((function(e){return(0,r.tZ)(rn.Z,{canEditMultiplayers:W||!1,isPendingInvitation:!1,replId:a,user:e},e.id)}))]}):null,(null===M||void 0===M?void 0:M.length)?(0,r.BX)(c.G,{css:$e._U.userGroup.root,children:[(0,r.tZ)($e.ln,{title:"Online Members",color:cn.TV.greenStrongest,count:null===M||void 0===M?void 0:M.length}),null===M||void 0===M?void 0:M.map((function(e){var n=e.user;return n?(0,r.tZ)(rn.Z,{isPendingInvitation:!1,canEditMultiplayers:Boolean(W),replId:a,user:n},n.id):null}))]}):null,(null===F||void 0===F?void 0:F.length)?(0,r.BX)(c.G,{css:$e._U.userGroup.root,children:[(0,r.tZ)($e.ln,{title:"Offline Members",color:cn.TV.outlineStrongest,count:null===F||void 0===F?void 0:F.length}),null===F||void 0===F?void 0:F.map((function(e){var n=e.user;return n?(0,r.tZ)(rn.Z,{isPendingInvitation:!1,canEditMultiplayers:Boolean(W),replId:a,user:n},n.id):null}))]}):null,(null===N||void 0===N?void 0:N.length)?(0,r.BX)(c.G,{css:$e._U.userGroup.root,children:[(0,r.tZ)($e.ln,{title:"Admins",color:cn.TV.accentPrimaryStronger,count:N.length}),N.map((function(e){var n=e.user;return n?(0,r.tZ)(rn.Z,{canEditMultiplayers:!1,isPendingInvitation:!1,user:n,replId:a},n.id):null}))]}):null,H||f?null:(0,r.tZ)(s.xv,{color:"dimmer",variant:"small",multiline:!1,children:"Only admins can add and remove members to multiplayer"})]})]})}var kn=(0,i.iv)([l.l0.flex.column,l.l0.py(16),l.l0.borderRadius(8),l.l0.align.stretch,l.l0.flex.growAndShrink(1),l.l0.maxHeight("calc(100vh - ".concat(k.Mz+12,"px)")),l.l0.backgroundColor.backgroundDefault]),Cn=function(e){var n=e.replId,t=e.handleUpgradeTriggered,i=e.isTeamRepl;return(0,r.BX)(c.G,{css:kn,children:[i?(0,r.tZ)(wn,{replId:n}):(0,r.tZ)($e.ZP,{replId:n,handleUpgradeTriggered:t}),(0,r.tZ)(Ke.Z,{replId:n})]})},Sn=t(11969),Rn=t(39147);function Tn(){var e=(0,T.Z)(["\n  mutation ReplEnvironmentHeaderSubmitRepl($replId: String!) {\n    submitRepl(replId: $replId) {\n      ... on Repl {\n        id\n        workspaceCta\n      }\n      ... on UserError {\n        message\n      }\n    }\n  }\n"]);return Tn=function(){return e},e}function En(){var e=(0,T.Z)(["\n  query ReplEnvironmentHeaderSubmitReplDueDate($replId: String!) {\n    repl(id: $replId) {\n      ... on Repl {\n        id\n        template {\n          id\n          dueDate\n        }\n      }\n    }\n  }\n"]);return En=function(){return e},e}var In={},Gn=(0,E.Ps)(Tn());var Dn=(0,E.Ps)(En());var Bn=t(54629),Pn=t(63837);function _n(e){var n,t=e.replId,i=e.onDone,o=e.isResubmit,a=e.lastUpdated,u=e.openIOtesterPane,d=(0,pe.Z)().iotester,p=(0,Bn.CH)({variables:{replId:t}}),f=d.lastRunAt.getTime()>a,h=function(e){var n=(0,R.Z)({},In,e);return $.a(Dn,n)}({variables:{replId:t}}).data,v="Repl"===(null===h||void 0===h?void 0:h.repl.__typename)?h.repl:null,m=(null===v||void 0===v?void 0:v.template)||null,g=(null===m||void 0===m?void 0:m.dueDate)||null,Z=(new Date).toISOString(),b=(0,on.Z)(),x=b.showConfirm,y=b.showError,k=(0,w.Z)(function(e){var n=(0,R.Z)({},In,e);return G.D(Gn,n)}({variables:{replId:t},onCompleted:function(e){var n=e.submitRepl;"UserError"!==n.__typename?"Repl"===n.__typename&&(x("Repl submitted"),i()):y(n.message)},onError:function(e){y(e.message)}}),2),C=k[0],S=k[1],T=f&&d.lastRunDidPass;return"Repl"===(null===(n=p.data)||void 0===n?void 0:n.repl.__typename)&&p.data.repl.ioTests.length>0&&!T?(0,r.BX)(c.G,{css:[l.l0.colWithGap(24)],children:[(0,r.tZ)(s.h4,{variant:"headerDefault",level:2,children:f?"Fix test failures before submitting":"Run tests before submitting"}),(0,r.tZ)(s.xv,{children:f?"Input/Output tests did not pass.":"Input/Output tests have not been run since this Repl was last changed."}),(0,r.BX)(c.G,{css:[l.l0.rowWithGap(12),l.l0.justify.end],children:[(0,r.tZ)(ce.zx,{disabled:S.loading,colorway:"primary",onClick:function(){u(),i()},text:"View tests"}),(0,r.tZ)(ce.zx,{disabled:S.loading,onClick:function(){return C()},iconLeft:(0,r.tZ)(Pn.Z,{}),text:"Submit anyway"})]})]}):(0,r.BX)(c.G,{css:[l.l0.colWithGap(24)],children:[(0,r.tZ)(s.h4,{variant:"headerDefault",level:2,children:o?" Resubmit Repl":"Submit Repl"}),(0,r.tZ)(s.xv,{children:o?"This will re-notify Team admins about your submission.":"This will submit your Repl for review and notify the Team's admins."}),g&&g<Z?(0,r.tZ)(s.xv,{css:[l.l0.color.accentNegativeStronger],children:"Note: Your submission is past the due date and will be marked late."}):null,(0,r.BX)(c.G,{css:[l.l0.rowWithGap(12),l.l0.justify.end],children:[(0,r.tZ)(ce.zx,{disabled:S.loading,onClick:i,text:"Cancel"}),(0,r.tZ)(ce.zx,{colorway:"primary",disabled:S.loading,onClick:function(){return C()},iconLeft:(0,r.tZ)(Pn.Z,{}),text:o?"Submit again":"Submit"})]})]})}var An=t(4561),Un=t(87978),Ln=t(56169),zn=t(23809);function On(){var e=(0,T.Z)(["\n  query UpdateModelSolutionModal($replId: String!) {\n    repl(id: $replId) {\n      ... on Repl {\n        id\n        owner {\n          ... on Team {\n            id\n          }\n          ... on User {\n            id\n          }\n        }\n        origin {\n          id\n          ...TeamProfileRepl\n          template {\n            id\n            dueDate\n          }\n          unitTests {\n            tests {\n              id\n            }\n          }\n          ioTests {\n            id\n          }\n        }\n      }\n    }\n  }\n  ","\n"]);return On=function(){return e},e}function Xn(){var e=(0,T.Z)(["\n  mutation UpdateModelSolution($input: UpdateReplTemplateModelSolutionInput!) {\n    updateReplTemplateModelSolution(input: $input) {\n      ... on Repl {\n        id\n        ...TeamProfileRepl\n      }\n      ... on UserError {\n        message\n      }\n    }\n  }\n  ","\n"]);return Xn=function(){return e},e}var jn={},Nn=(0,E.Ps)(On(),zn.vs);var Mn=(0,E.Ps)(Xn(),zn.vs);var Fn,Wn=t(70353),Vn=t(2757),Hn=t(25198),Yn=t(34938),qn=function(e){var n,t,i,o,a,u,p,f,h,v=e.replId,m=e.onDone,g=(0,on.Z)(),Z=g.showConfirm,b=g.showError,x=function(e){var n=(0,R.Z)({},jn,e);return $.a(Nn,n)}({variables:{replId:v},onCompleted:function(e){var n,t,r=e.repl;"Repl"===r.__typename&&(null===(n=r.origin)||void 0===n||null===(t=n.template)||void 0===t?void 0:t.modelSolution)&&"ReplTemplateModelSolution"===r.origin.template.modelSolution.__typename&&(D(r.origin.template.modelSolution.visibleAfterSubmitting),_(r.origin.template.modelSolution.visibleAfterPassingTests),L(r.origin.template.modelSolution.visibleAfterDueDate))}}),y=x.data,k=x.loading,C=(0,w.Z)(function(e){var n=(0,R.Z)({},jn,e);return G.D(Mn,n)}({onError:function(e){return b(e.message)},onCompleted:function(){Z("Updated solution"),m()}}),2),S=C[0],T=C[1],E=(0,w.Z)(d.useState(!1),2),I=E[0],D=E[1],B=(0,w.Z)(d.useState(!1),2),P=B[0],_=B[1],A=(0,w.Z)(d.useState(!1),2),U=A[0],L=A[1],z=(0,w.Z)(d.useState(),2),O=z[0],X=z[1],j=(0,Ln.H)();if(d.useEffect((function(){var e="Students can ";if(I||U||P){e+="view the solution after";var n=[];I&&n.push("submitting their project"),P&&n.push("passing all tests"),U&&n.push("the due date has passed");for(var t=0;t<n.length;t++)t>0&&(e+=",",t===n.length-1&&(e+=" and")),e+=" "+n[t];e+="."}else e+="never view the solution.";X(e)}),[I,P,U]),k)return(0,r.tZ)(c.G,{css:[l.l0.center],children:(0,r.tZ)(Ze.Z,{})});var N="Repl"===(null===y||void 0===y?void 0:y.repl.__typename)&&"Team"===(null===(n=y.repl.owner)||void 0===n?void 0:n.__typename)&&(null===(t=y.repl.owner)||void 0===t?void 0:t.id),M="Repl"===(null===y||void 0===y?void 0:y.repl.__typename)&&(null===(i=y.repl.origin)||void 0===i||null===(o=i.template)||void 0===o?void 0:o.modelSolution);if(!M)return null;var F=M.id,W="Repl"===(null===y||void 0===y?void 0:y.repl.__typename)&&((null===(a=y.repl.origin)||void 0===a?void 0:a.ioTests.length)||(null===(u=y.repl.origin)||void 0===u||null===(p=u.unitTests)||void 0===p?void 0:p.tests.length)),V="Repl"===(null===y||void 0===y?void 0:y.repl.__typename)&&(null===(f=y.repl.origin)||void 0===f||null===(h=f.template)||void 0===h?void 0:h.dueDate);return(0,r.tZ)("form",{onSubmit:function(e){e.preventDefault(),N&&F&&S({variables:{input:{teamId:N,solutionId:F,visibleAfterSubmitting:I,visibleAfterPassingTests:P,visibleAfterDueDate:U}}})},children:(0,r.BX)(c.G,{css:[l.l0.colWithGap(24)],children:[(0,r.tZ)(s.h4,{level:1,variant:"headerDefault",children:"Update solution"}),(0,r.BX)(c.G,{css:[l.l0.colWithGap(16)],children:[(0,r.BX)(c.G,{css:[l.l0.rowWithGap(8)],children:[(0,r.tZ)(Yn.X,{id:j("availableAfterSubmitting"),checked:I,onChange:function(){return D(!I)}}),(0,r.tZ)("label",{htmlFor:j("availableAfterSubmitting"),children:(0,r.tZ)(s.xv,{multiline:!1,children:"Available after submitting"})})]}),(0,r.BX)(c.G,{css:[l.l0.rowWithGap(8)],children:[(0,r.tZ)(Yn.X,{id:j("availableAfterPassingTests"),checked:P,onChange:function(){return _(!P)}}),(0,r.tZ)("label",{htmlFor:j("availableAfterPassingTests"),children:(0,r.BX)(c.G,{css:[l.l0.rowWithGap(4)],children:[(0,r.tZ)(s.xv,{multiline:!1,children:"Available after passing tests"}),(0,r.BX)(s.xv,{multiline:!1,children:["(",W?"".concat(W," ").concat((0,Vn.Z)("test",W)," defined"):"no tests exist yet",")"]})]})})]}),(0,r.BX)(c.G,{css:[l.l0.rowWithGap(8),{verticalAlign:"baseline"}],children:[(0,r.tZ)(Yn.X,{id:j("availableAfterDueDate"),checked:U,onChange:function(){return L(!U)}}),(0,r.tZ)("label",{htmlFor:j("availableAfterDueDate"),children:(0,r.BX)(c.G,{css:[l.l0.rowWithGap(4)],children:[(0,r.tZ)(s.xv,{multiline:!1,children:"Available after due date"}),(0,r.BX)(s.xv,{css:{textDecoration:"italic"},multiline:!1,children:["(",V?(0,Wn.p)(V):"no due date set yet",")"]})]})})]})]}),(0,r.tZ)(Hn.E,{text:"".concat(O),colorway:I||P||U?"positive":"negative"}),(0,r.tZ)(c.G,{css:{alignItems:"end"},children:(0,r.tZ)(ce.zx,{type:"submit",stretch:!1,colorway:"primary",text:"".concat(T.loading?"Saving...":"Save"),iconLeft:(0,r.tZ)(Pn.Z,{}),disabled:T.loading})})]})})},Kn=(Fn={},(0,C.Z)(Fn,S.Sy.PublishTemplate,"Publish project"),(0,C.Z)(Fn,S.Sy.EditTemplate,"Edit project"),(0,C.Z)(Fn,S.Sy.Submit,"Submit"),(0,C.Z)(Fn,S.Sy.Resubmit,"Resubmit"),(0,C.Z)(Fn,S.Sy.UpdateModelSolution,"Update solution"),Fn);function $n(e){var n=e.cta,t=e.replId,i=e.isGroupProject,o=e.openIOtesterPane,a=(0,w.Z)(d.useState(null),2),l=a[0],s=a[1],c=function(){return s(null)},u=(0,ze.R3)(),p=(0,pe.Z)().fs,f=(0,w.Z)(d.useState(0),2),h=f[0],v=f[1];d.useEffect((function(){if(u&&!(0,Un.T3)(u)&&!(0,Un.sL)(u)){var e=p.watchTextFile(u,{onChange:function(e){e.changeSource===An.Fl.Local&&v(Date.now())}});return e}}),[u,p,v]);var m=Boolean(l&&[S.Sy.PublishTemplate,S.Sy.EditTemplate].includes(l));return d.useEffect((function(){n===S.Sy.ReviewSubmission&&(Sn.Z.get("annotations/educationModalDismissed")||(s(n),Sn.Z.set("annotations/educationModalDismissed",!0)))}),[n]),(0,r.BX)(r.HY,{children:[Kn[n]&&(0,r.tZ)(ce.zx,{onClick:function(){return s(n)},text:Kn[n],iconLeft:(0,r.tZ)(Pn.Z,{})}),(0,r.tZ)(tn.u,{isOpen:l===S.Sy.Submit||l===S.Sy.Resubmit,onRequestClose:c,maxWidth:512,children:(0,r.tZ)(_n,{replId:t,onDone:c,isResubmit:l===S.Sy.Resubmit,lastUpdated:h,openIOtesterPane:o})}),(0,r.tZ)(tn.u,{preventClose:!0,isOpen:m,onRequestClose:c,maxWidth:i?900:550,children:(0,r.tZ)(Rn.Z,{replId:t,onDone:c})}),(0,r.tZ)(tn.u,{isOpen:l===S.Sy.UpdateModelSolution,onRequestClose:c,maxWidth:600,children:(0,r.tZ)(qn,{replId:t,onDone:c})})]})}var Qn=t(81962),Jn=t(52564),et=t(91398),nt=t(92683),tt=t(57135),rt=t(96583),it=t(92508),ot=t(24592),at=t(18171),lt=t(94452),st=t(81420),ct=t(1088),ut=t(49770),dt=t(28681),pt=t(70628),ft=t(99662),ht=t(12260),vt=t(10444);function mt(){var e=(0,it.Se)();return(0,at.Z)((function(){return{data:{type:"context",label:"Open with Code Search",icon:(0,r.tZ)(ht.Z,{}),key:"codeSearch"},commands:function(n){var t=n.search;if(!t)return[];var r={type:"searchReplace",data:{initialQuery:t}};return[{match:lt.pl,data:{type:"openPane",pane:r,label:e.getTitle(r),icon:e.Icon({pane:r})}}]}}}),[e])}var gt=t(8622),Zt=t(83005),bt=t(22011),xt=t(27549),yt=function(e,n,t){return{match:t||lt.pl,data:{type:"openPane",pane:e,label:n.getTitle(e),icon:n.Icon({pane:e})}}};function wt(e){var n=(0,ze.Bx)(),t=(0,ut.Vu)();return(0,at.Z)((function(){var i=t.map((function(e){return e.filePath})),o=n.filter((function(e){return!i.includes(e)}));return{data:{type:"context",label:"Recent",icon:(0,r.tZ)(ot.Z,{})},commands:function(n){var t=n.search;return(0,st.w)({paths:o,search:t,run:function(n){e({path:n})}})}}}),[n,t,e])}function kt(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:void 0,n=(0,it.Se)(),t=(0,ut.cu)(),i=(0,ut.eM)(),o=(0,ut.V5)(),a=(0,xt.dr)();return(0,at.Z)((function(){var l=e?o.filter((function(n){return(0,w.Z)(n,1)[0]!==e})):o;return l.length?[{data:{type:"context",label:e?"Switch to tab":"Jump to tab",icon:(0,r.tZ)(pt.Z,{})},commands:function(){var o=(0,tt.Z)((function(o){var s,c,u,d,p,f,h,v,m,g,Z,b,x,y,k,C,S,R,T,E,I,G,D,B;return(0,rt.__generator)(this,(function(P){switch(P.label){case 0:if(!(s=o.search))return[2,[]];c=new Map,u=[],d=!0,p=!1,f=void 0;try{for(h=l[Symbol.iterator]();!(d=(v=h.next()).done);d=!0)m=(0,w.Z)(v.value,2),m[0],g=m[1],(0,it.Ur)(g)&&g.data.path&&u.push(g.data.path)}catch(_){p=!0,f=_}finally{try{d||null==h.return||h.return()}finally{if(p)throw f}}return[4,(0,vt.Rz)(s,u)];case 1:Z=P.sent(),b=!0,x=!1,y=void 0;try{for(k=Z[Symbol.iterator]();!(b=(C=k.next()).done);b=!0)S=C.value,c.set(S.path,{score:S.score,ranges:S.ranges})}catch(_){x=!0,y=_}finally{try{b||null==k.return||k.return()}finally{if(x)throw y}}R=[],T=!0,E=!1,I=void 0;try{for(G=function(){var o=(0,w.Z)(B.value,2),l=o[0],s=o[1],u=(0,it.Ur)(s)?s.data.path:null,d=u?c.get(u):null;if("deployments"===s.type){var p=a(l);if("deployments"===(null===p||void 0===p?void 0:p.type)){var f=p.getTabs();if(f)return R.push({match:lt.pl,data:{type:"context",label:n.getTitle(s),icon:(0,r.tZ)(n.Icon,{pane:s})},commands:function(){return f.map((function(e){return{match:lt.pl,data:{key:l+e.id,type:"action",label:e.label,icon:(0,r.tZ)(e.Icon,{size:16}),run:function(){i(l),p.setTab(e.id)}}}}))}}),"continue"}}var h=u&&d?function(){return{score:d.score,render:(0,vt.xy)({path:u,ranges:d.ranges})}}:lt.pl;R.push({match:h,data:{key:l,type:"action",label:n.getTitle(s),icon:n.Icon({pane:s}),run:function(){return e?t({a:e,b:l}):i(l)}}})},D=l[Symbol.iterator]();!(T=(B=D.next()).done);T=!0)G()}catch(_){E=!0,I=_}finally{try{T||null==D.return||D.return()}finally{if(E)throw I}}return[2,R]}}))}));return function(e){return o.apply(this,arguments)}}()}]:[]}),[e,o,n,i,t,a])}function Ct(){var e=(0,it.Se)(),n=(0,ft.B)(),t=(0,ut.V5)();return(0,at.Z)((function(){var r=t.map((function(e){var n=(0,w.Z)(e,2);n[0];return n[1].type})),i=[],o=!0,a=!1,l=void 0;try{for(var s,c=n[Symbol.iterator]();!(o=(s=c.next()).done);o=!0){var u=s.value;(0,it.b)(u.type)&&r.includes(u.type)||i.push(yt(u,e))}}catch(d){a=!0,l=d}finally{try{o||null==c.return||c.return()}finally{if(a)throw l}}return i}),[n,t,e])}var St={type:"group",key:"root",description:"Search for tools and files"};function Rt(e){var n=e.currentPaneId,t=e.openFile,i=(0,pe.Z)(),o=i.fs,a=i.container,l=Ct(),s=kt(n),c=wt(t),u=(0,ze.AA)(),d=(0,dt.T)(),p=mt();return(0,at.Z)((function(){var e={data:{type:"context",label:"Search",icon:(0,r.tZ)(ht.Z,{}),key:"searchGroup"},commands:function(){return[(0,st.i)({openFile:t,fs:o,shouldHideFile:d,getRecentFiles:u}),(0,ct.F)({container:a,openFile:t})]}},n={data:{type:"context",label:"Tools",icon:(0,r.tZ)(pt.Z,{})},commands:function(){return(0,Qe.Z)(l)}},i=function(e){var n=e.openFile,t=e.fs;return{match:lt.pl,data:{type:"context",label:"New file",description:"Create a new file",icon:(0,r.tZ)(gt.Z,{})},commands:function(e){var i=e.search,o=e.active;return i&&o?[{match:lt.pl,data:{type:"action",description:"Create a new file",label:i,icon:(0,r.tZ)(Zt.Z,{path:i}),run:function(){return(0,tt.Z)((function(){return(0,rt.__generator)(this,(function(e){switch(e.label){case 0:return[4,t.stat(i)];case 1:return e.sent().exists?[2,{type:"error",message:'"'.concat(i,'" already exists')}]:[4,t.writeFile(i,bt.Z.from(""))];case 2:return e.sent().error?[2,{type:"error",message:'Could not create "'+i+'"'}]:(n({path:i}),[2])}}))}))()}}}]:[]}}}({fs:o,openFile:t});return{data:St,commands:function(){return[c,e,i,n,p].concat((0,Qe.Z)(s))}}}),[a,o,u,l,s,d,c,t,p])}var Tt=t(45353),Et=t(71943),It=(0,et.cn)(!1);var Gt=(0,et.cn)(null,(function(e,n,t){if(e(It))return n(Bt,null),void n(It,!1);t&&n(Bt,t),n(It,!0)}));function Dt(){return(0,nt.b9)(Gt)}var Bt=(0,et.cn)(null),Pt=(0,et.cn)([]);function _t(){return(0,nt.b9)(Pt)}function At(){var e=Ct(),n=function(){var e=(0,Tt.gf)("toggleGlobalCommandBarCommand");return(0,at.Z)((function(){return{type:"context",icon:(0,r.tZ)(Et.Z,{}),label:"",description:"Type a command...",keyboardShortcut:e}}),[e])}(),t=kt();return(0,at.Z)((function(){return(0,et.cn)((function(i){var o=i(Pt),a={data:{type:"context",label:"Tools",icon:(0,r.tZ)(pt.Z,{})},commands:function(){return e}};return{data:n,commands:function(){return(0,Qe.Z)(o).concat((0,Qe.Z)(t),[a])}}}))}),[e,n,t])}var Ut=t(250),Lt={id:"toggleGlobalCommandBarCommand",name:"Toggle Commandbar",description:"Opens or closes the command bar",default:(0,Ut.l2)({cmdOrCtrl:!0,key:"k"})};function zt(e){var n=(arguments.length>1&&void 0!==arguments[1]?arguments[1]:{enabled:!0}).enabled,t=_t();(0,d.useEffect)((function(){if(n)return t((function(n){return(0,Qe.Z)(n).concat([e])})),function(){t((function(n){return n.filter((function(n){return n!==e}))}))}}),[t,e,n])}function Ot(){var e=(0,nt.Dv)(It),n=Dt(),t=function(){var e=At(),n=(0,at.Z)((function(){return(0,et.cn)((function(n){var t=n(e),r=n(Bt);return r?[t,r]:t}))}),[e]);return(0,nt.Dv)(n)}(),i=(0,ut.cT)(),o=(0,Tt.gf)(Lt.id);return(0,r.tZ)(tn.u,{hideCloseButton:!0,isOpen:e,onRequestClose:n,noPadding:!0,skipTransition:!0,children:(0,r.tZ)(se.Tg,{css:[l.l0.maxHeight("70vh"),l.l0.borderRadius(8)],children:(0,r.tZ)(Jn.X,{keyboardShortcut:o,onSelect:function(e){(0,Qn.Z)(document.activeElement,HTMLElement)&&document.activeElement.blur(),"openPane"===e.data.type&&((0,g.j)(g.U3.TOOL_OPENED,{source:"Command Bar",tool:e.data.pane.type}),i({pane:e.data.pane})),n()},onAction:function(){return n()},command:t,autoFocus:!0})})})}var Xt=(0,d.memo)(Ot),jt=t(94716);function Nt(e){var n=(0,pe.Z)().presence,t=(0,ze.pV)(),r=(0,jt.Z)(e);return d.useCallback((function(e){var i=e.username,o=e.id,a=n.getFollowedUser();if((null===a||void 0===a?void 0:a.username)!==i){n.followUser(i);var l=n.getActiveFileForUser(o),s=t();l&&l!==s&&r.current({path:l})}else n.unfollowUser()}),[r,t,n])}var Mt=t(92355),Ft=t(31410),Wt=t(27691),Vt=t(27716),Ht=t(26948),Yt=t(91450),qt=t(17249),Kt=t(30358),$t=t(86302),Qt=t(77806),Jt=t(60566),er=t(1388),nr=t(22503),tr="https://linkedin.com/sharing/share-offsite";var rr="https://www.facebook.com/dialog/share?display=page&app_id=1775481339348651";var ir=function(e){var n=e.lessonSlug,t=e.courseSlug,i=(0,on.Z)().showConfirm;if(!n||!t)return null;var o=(0,Kt.QW)(t),a=(0,Kt.qv)(t,n);if(!a)return null;var u=a.ordinalLabel,d=(0,Kt.tD)(o.socialSharingText,a),p="".concat(d," ").concat(o.sharableLink),f=(0,Ht.Z)({text:d,url:o.sharableLink}),h=function(e){var n=e.url;return"".concat(tr,"?url=").concat(encodeURIComponent(n))}({url:o.sharableLink}),v=function(e){var n=e.url,t=e.hashtag,r=e.redirectBackTo,i=new URLSearchParams;i.append("href",n),r&&i.append("redirect_uri",r),t&&(t.startsWith("#")||(t="#".concat(t)),i.append("hashtag",t));var o=i.toString();return"".concat(rr,"&").concat(o)}({url:o.sharableLink,hashtag:o.socialHashtag}),m=[{url:f,icon:Yt.Z,base:Ht.c,cta:"Share on Twitter",color:qt.Z.brands.twitter},{url:h,icon:nr.Z,base:tr,cta:"",color:qt.Z.brands.linkedin},{url:v,icon:er.Z,base:rr,cta:"",color:qt.Z.brands.facebook}];return(0,r.BX)(c.G,{children:[(0,r.BX)(c.G,{css:[l.l0.rowWithGap(16),l.l0.align.center,l.l0.pr(24)],children:[(0,r.tZ)(c.G,{css:{fontSize:48},children:"\ud83e\udd73"}),(0,r.BX)(s.xv,{variant:"headerDefault",multiline:!1,children:["Congrats on completing ",u,"!"]})]}),(0,r.tZ)(s.xv,{variant:"subheadDefault",css:[l.l0.py(12)],multiline:!1,children:"Share your progress"}),(0,r.BX)(c.G,{css:[l.l0.position.relative,l.l0.borderRadius(8),l.l0.backgroundColor.backgroundHigher,l.l0.py(8),l.l0.px(12)],children:[(0,r.tZ)(c.G,{css:l.l0.pr(16),children:p}),(0,r.tZ)(ue.h,{css:[l.l0.position.absolute,l.l0.top(8),l.l0.right(8)],alt:"Copy",size:18,tooltipHidden:!0,onClick:function(){i("Copied to clipboard!"),(0,Jt.Z)(p),(0,Vt.l)({action:"copied_share_text",lessonSlug:n,courseSlug:t,origin:"lesson_complete_modal"})},children:(0,r.tZ)(Qt.Z,{size:16})})]}),(0,r.BX)(c.G,{css:[l.l0.rowWithGap(16),l.l0.justify.center,l.l0.pt(16),l.l0.align.center],children:[(0,r.tZ)($t.Z,{outlined:!0,text:"Back to the learning hub",href:"/learn/".concat(t,"/hub")}),(0,r.tZ)(c.G,{css:[l.l0.rowWithGap(8),l.l0.align.center],children:m.map((function(e){var i=e.url,o=e.icon,a=e.base,l=e.cta,s=e.color;return(0,r.tZ)(ce.zx,{css:[{backgroundColor:s,color:"white"}],onClick:function(){window.open(i,"_blank"),(0,g.j)(g.U3.EXTERNAL_LINK_VIEWED,{url:a,placement:"lesson-complete-modal",campaign:t,lessonSlug:n})},text:l,iconLeft:(0,r.tZ)(o,{})},i)}))})]})]})},or=function(e){var n=e.lesson,t=(0,on.Z)().showError,i=(0,Ft.$0)().fireCircularBurstFrom,o=(0,d.useRef)(null),a=(0,Mt.T)(),l=(0,d.useState)(!1),s=l[0],c=l[1],u=(0,w.Z)(function(e){var n=(0,R.Z)({},P,e);return G.D(A,n)}({onError:function(){return t("Something went wrong")},onCompleted:function(e){var r,l;"UpdatedUserCourseLesson"!==(null===(r=e.completeUserCourseLesson)||void 0===r?void 0:r.__typename)?t((null===(l=e.completeUserCourseLesson)||void 0===l?void 0:l.message)||"Something went wrong"):e.completeUserCourseLesson.userCourseLesson.id===n.id?(o.current&&!a&&i({element:o.current}),c(!0)):t("Something went wrong")}}),2),p=u[0],f=u[1].loading;return(0,r.BX)(r.HY,{children:[null!==n.timeCompleted?(0,r.tZ)(ce.zx,{ref:o,disabled:!0,text:"Lesson completed \ud83c\udf89",colorway:"primary"}):(0,r.tZ)(ce.zx,{iconLeft:f?(0,r.tZ)(Ze.Z,{}):void 0,onClick:function(){(0,Vt.l)({action:"completed",lessonSlug:n.lessonSlug,courseSlug:n.course.courseSlug}),p({variables:{input:{userLessonId:n.id}}})},text:f?"Verifying\u2026":"Mark lesson as complete",colorway:"primary",css:[f&&Wt.p.backgroundPulse()]}),(0,r.tZ)(tn.u,{isOpen:s,onRequestClose:function(){return c(!1)},children:(0,r.tZ)(ir,{lessonSlug:n.lessonSlug,courseSlug:n.course.courseSlug})})]})},ar=t(99397);function lr(e){var n=e.lesson,t=(0,ut.Un)(),i=(0,ut.$x)();return t?(0,r.tZ)(or,{lesson:n}):(0,r.tZ)(ce.zx,{colorway:"primary",iconLeft:(0,r.tZ)(ar.Z,{}),text:"Show tutorial",onClick:function(){return i()}})}var sr=t(40109),cr=t(21835),ur=t(36443),dr=(0,xe.X)({button:[de.gU.nofill,l.l0.height(32),l.l0.flex.growAndShrink(1),l.l0.align.center,l.l0.rowWithGap(4),l.l0.px(6),l.l0.borderRadius(6),l.l0.color.foregroundDefault,{":focus-visible":{"[data-repl-info-username]":{gridTemplateColumns:"1fr"}}}],buttonOpen:{"[data-repl-info-username]":{gridTemplateColumns:"1fr"}}}),pr=(0,xe.X)({popover:[l.l0.maxWidth(460),l.l0.width("100%")],button:dr.button,buttonOpen:[dr.button,dr.buttonOpen]});function fr(e){var n=e.repl,t=e.onDeployClick,i=(0,w.Z)(d.useState(!1),2),o=i[0],a=i[1];return(0,r.BX)(He.x,{isOpen:o,onOpenChange:a,placement:"bottom start",label:"Repl info",noArrow:!0,css:pr.popover,children:[(0,r.BX)(c.K.button,{dataCy:"ws-repl-info-container",css:o?pr.buttonOpen:pr.button,onClick:function(){(0,g.j)(g.U3.REPL_METADATA_OPENED)},children:[(0,r.tZ)(cr.Z,{repl:n}),(0,r.tZ)(ur.Z,{color:l.TV.foregroundDimmest,size:12})]}),(0,r.tZ)(sr.Z,{setIsEditing:a,onDeployClick:t})]})}var hr=t(41443),vr=t(77637),mr=t(43325),gr=t(45123),Zr=t(27101),br=t(34147),xr=t(2439),yr=t(4143),wr=t(51529),kr=t(26721),Cr=t(82893),Sr=t.n(Cr),Rr=t(9353),Tr=t(97919);function Er(){var e=(0,T.Z)(["\n  fragment ReplEnvironmentNavMenuCurrentUser on CurrentUser {\n    id\n    ...LayoutSidebarCurrentUser\n  }\n  ","\n"]);return Er=function(){return e},e}function Ir(){var e=(0,T.Z)(["\n  query ReplEnvironmentNavMenu {\n    currentUser {\n      id\n      ...ReplEnvironmentNavMenuCurrentUser\n    }\n  }\n  ","\n"]);return Ir=function(){return e},e}var Gr={},Dr=(0,E.Ps)(Er(),Tr.d),Br=(0,E.Ps)(Ir(),Dr);var Pr=function(e){(0,g.j)(Rr.U3.NAV_ITEM_CLICK,{target:e,source:"header-nav-menu"})},_r=[l.l0.viewStyle,l.l0.reset.button,de.gU.nofill,l.l0.flex.row,l.l0.height(32),l.l0.width(40),l.l0.center,l.l0.color.foregroundDefault,l.l0.cursor.pointer,l.l0.borderRadius(6),{":hover svg":{fill:l.TV.foregroundDefault}}],Ar={button:(0,i.iv)(_r),surface:(0,i.iv)([l.l0.borderRadius(8),l.l0.width(200),l.l0.maxHeight("80vh"),l.l0.maxWidth("80vw"),l.l0.overflowY("auto")]),ctas:(0,i.iv)([l.l0.colWithGap(8),l.l0.p(8),{borderBottom:"1px solid",borderColor:l.TV.outlineDimmer}]),link:(0,i.iv)([l.l0.viewStyle,l.l0.rowWithGap(4),l.l0.color.foregroundDefault,l.l0.p(8),l.l0.align.center,de.gU.listItem,{":active":{backgroundColor:"".concat(l.TV.backgroundHighest," !important")}}]),linkText:(0,i.iv)(l.l0.flex.shrink(1))},Ur=(0,i.iv)([de.gU.nofill,{borderRadius:"0 0 10.5px 10.5px",borderTop:"1px solid ".concat(l.TV.outlineDimmer)}]),Lr="workspace-header-nav-menu";function zr(){var e,n=(0,yr.Z)(u.y.GlobalNavButton),t=function(e){var n=(0,R.Z)({},Gr,e);return $.a(Br,n)}().data,i=(0,mr.N)({currentUser:(null===t||void 0===t?void 0:t.currentUser)||void 0}),o=(0,d.useState)(!1),a=o[0],p=o[1],f=(0,d.useState)(null),h=f[0],v=f[1];return(0,r.BX)(r.HY,{children:[(0,r.BX)(He.x,{isOpen:a,onOpenChange:p,placement:"bottom start",label:"Site Navigation",noArrow:!0,children:[function(e){var t=e.ref,i=(0,vr.Z)(e,["ref"]);return(0,r.tZ)("div",{ref:n,children:(0,r.BX)("button",(0,he.Z)((0,R.Z)({ref:t,"aria-label":"Nav menu","aria-expanded":a,"aria-controls":Lr},i),{onClick:function(){return p(!a)},css:Ar.button,"data-cy":"global-nav-dropdown-btn",children:[(0,r.tZ)(Zr.N2,{color:l.TV.foregroundDefault,size:20}),(0,r.tZ)(ur.Z,{color:l.TV.foregroundDimmest,size:12})]}))})},(0,r.BX)(se.Tg,{id:Lr,elevated:!0,css:Ar.surface,background:"higher",children:[(0,r.BX)(c.G,{css:Ar.ctas,children:[(0,r.tZ)(ce.zx,{"data-cy":"global-nav-dropdown-new-repl-btn",text:"Create",iconLeft:(0,r.tZ)(gt.Z,{}),colorway:"primary",onClick:function(){p(!1),v("create")}}),(null===t||void 0===t||null===(e=t.currentUser)||void 0===e?void 0:e.userSubscriptionType)!==S.HP.HackerPro?(0,r.tZ)(ce.zx,{text:"Upgrade",iconLeft:(0,r.tZ)(wr.Z,{}),outlined:!0,"data-cy":"global-nav-dropdown-upgrade-btn",onClick:function(){p(!1),v("upgrade")}}):null]}),(0,r.tZ)(c.G,{children:i.map((function(e){return(0,r.tZ)(Sr(),{passHref:!0,as:e.as,href:e.href,prefetch:!1,children:(0,r.BX)("a",{css:Ar.link,onClick:function(){Pr(e.label)},onKeyDown:function(){Pr(e.label)},role:"menuitem",tabIndex:0,children:[e.icon,(0,r.tZ)(s.xv,{css:Ar.linkText,multiline:!1,children:e.label}),e.tag||null]})},e.label)}))}),(0,r.tZ)(br.Z,{css:Ur,context:xr.HY.Workspace})]})]}),(0,r.tZ)(kr.Z,{initialTab:"default",isOpen:"upgrade"===h,onRequestClose:function(){return v(null)},context:"workspace_menu_nav"}),(0,r.tZ)(tn.u,{isOpen:"create"===h,onRequestClose:function(){return v(null)},children:(0,r.tZ)(gr.Z,{})})]})}var Or=t(59200),Xr=t(30826),jr=t.n(Xr);function Nr(e,n){var t=arguments.length>2&&void 0!==arguments[2]?arguments[2]:32,r=e.pageX,i=e.pageY,o={x:r,y:i},a={x:0,y:0};n.start&&n.start({mouse:o,shiftKey:e.shiftKey});var l=jr()((function(e){var t={x:e.pageX,y:e.pageY};a={x:t.x-o.x,y:t.y-o.y},n.move({delta:a,shiftKey:e.shiftKey,mouse:t})}),t),s=function(){l.cancel(),document.removeEventListener("pointermove",l),document.removeEventListener("pointerup",s),document.removeEventListener("touchcancel",s),n.end&&n.end({delta:a,shiftKey:e.shiftKey})};document.addEventListener("pointermove",l),document.addEventListener("pointerup",s),document.addEventListener("touchcancel",s)}var Mr=t(10464),Fr=t(42174),Wr=t(73872),Vr=t(66482),Hr=t(68973),Yr=function(e){var n,t,r;return n=100/e*1,t=.08,r=.12,Math.min(Math.max(n,t),r)},qr=(0,Hr.$)(["transformX","transformY","hoverScaleX","hoverScaleY","width","height","zIndex","cursor","gripVisibility","gripColor","gripWidth","gripHeight","transitionDuration","rotation"]),Kr=qr.cssVars,$r=qr.styleTokens,Qr=(0,xe.X)({root:[l.l0.center,l.l0.position.absolute,l.l0.top(0),l.l0.left(0),{transform:"translate(".concat($r.transformX,", ").concat($r.transformY,")"),width:$r.width,height:$r.height,cursor:$r.cursor,zIndex:$r.zIndex,"&:hover":{zIndex:ut.MI.gutterHovered},"& .icon":{transform:"rotate(".concat($r.rotation,")")},"&:hover .blanket":{transform:"scale(".concat($r.hoverScaleX,", ").concat($r.hoverScaleY,")")},"&:active .blanket":[l.l0.height("200vh"),l.l0.width("200vw"),{transform:"translate(-50%, -50%)"}],"&:not(:active):hover > .grip":(0,C.Z)({},Kr.gripColor,l.TV.foregroundDefault)}],blanket:l.l0.coverContainer,grip:[l.l0.borderRadius(4),{width:$r.gripWidth,height:$r.gripHeight,visibility:$r.gripVisibility,background:$r.gripColor,transitionProperty:"opacity, width, height, background-color",transitionTimingFunction:"ease-out"}]});function Jr(e){var n=(0,d.useRef)(null),t=(0,Mt.T)();(0,Fr.j)(n,e.size,(function(e){var n,t=e.width,r=e.height;return n={},(0,C.Z)(n,Kr.width,t+"px"),(0,C.Z)(n,Kr.height,r+"px"),n})),(0,Fr.j)(n,e.position,(function(e){var n,t=e.x,r=e.y;return n={},(0,C.Z)(n,Kr.transformX,Math.round(t)+"px"),(0,C.Z)(n,Kr.transformY,Math.round(r)+"px"),n})),(0,Fr.j)(n,e.rotation,(function(e){return(0,C.Z)({},Kr.rotation,e+"deg")})),(0,Fr.j)(n,e.gripIsHidden,(function(e){return(0,C.Z)({},Kr.gripVisibility,e?"hidden":"visible")})),(0,Fr.j)(n,e.length,(function(e){return(0,C.Z)({},Kr.transitionDuration,(t?0:Yr(e))+"ms")}));var r=(0,Mr.y)()?12:4;return(0,Fr.j)(n,e.isStacked,(function(e){var n;return n={},(0,C.Z)(n,Kr.cursor,e?"row-resize":"col-resize"),(0,C.Z)(n,Kr.hoverScaleX,(e?1:r).toString()),(0,C.Z)(n,Kr.hoverScaleY,(e?r:1).toString()),n})),(0,Fr.j)(n,e.isActive,(function(e){var n;return n={},(0,C.Z)(n,Kr.gripColor,e?"radial-gradient(circle, ".concat(l.TV.accentPrimaryDefault," calc(100% - 48px), transparent)"):l.TV.outlineDimmest),(0,C.Z)(n,Kr.zIndex,(e?ut.MI.gutterActive:ut.MI.gutter).toString()),n})),(0,Fr.j)(n,e.gripSize,(function(e){var n,t=e.width,r=e.height;return n={},(0,C.Z)(n,Kr.gripWidth,t+"px"),(0,C.Z)(n,Kr.gripHeight,r+"px"),n})),n}var ei=(0,d.memo)((function(e){var n=e.handleId,t=(0,ut.k)(n),i=Jr(t),o=(0,ut.Av)(),a=(0,ut.MG)(),l=d.useRef(null),s=(0,Wr.Z)(t.isSnapped);return(0,r.BX)(c.G,{innerRef:i,css:Qr.root,onDoubleClick:function(){a(t.handle.current)},onPointerDown:function(e){Nr(e,{start:function(){var e=t.handle.current;l.current=document.activeElement,o({type:"start",leftPath:e.leftPath,stacked:e.stacked})},move:function(e){var n=e.delta;o({type:"update",moveDelta:n})},end:function(){var e,n;o({type:"end"}),null===(e=l.current)||void 0===e||null===(n=e.focus)||void 0===n||n.call(e)}})},onContextMenu:function(e){e.preventDefault(),e.stopPropagation()},children:[(0,r.tZ)(c.G,{className:"blanket",css:Qr.blanket}),s?(0,r.tZ)(Vr.Z,{className:"icon"}):(0,r.tZ)(c.G,{className:"grip",css:Qr.grip})]})})),ni=(0,d.memo)((function(){var e=Jr((0,ut.$P)()),n=(0,ut.TN)(),t=(0,ut.Ap)().toggle,i=d.useRef(null);return(0,r.BX)(c.G,{innerRef:e,css:Qr.root,onDoubleClick:function(){t()},onPointerDown:function(e){Nr(e,{start:function(){i.current=document.activeElement,n.start()},move:function(e){var t=e.delta;n.update({deltaX:t.x})},end:function(){var e,t;n.end(),null===(e=i.current)||void 0===e||null===(t=e.focus)||void 0===t||t.call(e)}})},onContextMenu:function(e){e.preventDefault(),e.stopPropagation()},children:[(0,r.tZ)(c.G,{className:"blanket",css:Qr.blanket}),(0,r.tZ)(c.G,{className:"grip",css:Qr.grip})]})})),ti=t(47518),ri=t(48468),ii=t(94488),oi=t(15105),ai=t(9125);function li(){var e=(0,T.Z)(["\n  query WorkspaceHeaderUsersOnline($ids: [Int!]!) {\n    currentUser {\n      id\n    }\n    usersByIds(ids: $ids) {\n      id\n      username\n      image\n    }\n  }\n"]);return li=function(){return e},e}var si={},ci=(0,E.Ps)(li());var ui=t(25498),di=t(4821);function pi(){var e=(0,pe.Z)().presence,n=Nt((0,ut.CA)()),t=(0,_e.Z)({presence:e}),i=(0,w.Z)(function(e){var n=(0,R.Z)({},si,e);return ai.t(ci,n)}(),1)[0];return(0,at.Z)((function(){return{data:{type:"context",label:"Multiplayers",icon:(0,r.tZ)(bn.Z,{})},commands:(0,tt.Z)((function(){var e,o,a,l,s;return(0,rt.__generator)(this,(function(u){switch(u.label){case 0:return t.length?[4,i({variables:{ids:t.map((function(e){return e.id})).slice(0,di.I)}})]:[2,[]];case 1:return(e=u.sent().data)?(o=t.reduce((function(e,n){return e[n.id]=n.color,e}),{}),a=e.currentUser,l=e.usersByIds.filter((function(e){return e.id!==(null===a||void 0===a?void 0:a.id)})),s=l.map((function(e){return{match:lt.pl,data:{type:"action",label:e.username,icon:(0,r.tZ)(c.G,{style:{border:"2px solid",borderColor:o[e.id],borderRadius:"50%"},children:(0,r.tZ)(ui.Z,{size:16,src:e.image,alt:e.username})}),run:function(){return n({username:e.username,id:e.id})}}}})),t.length>di.I&&s.push({match:lt.pl,data:{type:"action",label:"+".concat(t.length-di.I," more"),icon:(0,r.tZ)(bn.Z,{}),run:function(){}}}),[2,s]):[2,[]]}}))}))}}),[t,n,i])}var fi={type:"context",icon:(0,r.tZ)(ht.Z,{}),label:"",description:"Search"};var hi=(0,i.iv)([l.l0.top(0),l.l0.left(0),l.l0.width("100%"),l.l0.zIndex(3),{"& > div:first-of-type > div:first-of-type":[l.l0.pl(0),l.l0.pr(0),l.l0.pt(0)]},{'& [role="listbox"]':[l.l0.pl(8),l.l0.position.absolute,l.l0.top(40),l.l0.height("calc(100% - ".concat(40,"px)")),l.l0.left(0),l.l0.width("100%"),l.l0.zIndex(3),l.l0.backgroundColor.backgroundRoot]},{'& [role="option"] > div':[l.l0.borderRadius(8)]}]);function vi(){var e=function(){var e=(0,pe.Z)().fs,n=(0,ze.AA)(),t=(0,dt.T)(),i=(0,ut.CA)(),o=wt(i),a=Ct(),l=pi(),s=mt();return(0,at.Z)((function(){var c={data:{type:"context",label:"Tools",icon:(0,r.tZ)(pt.Z,{})},commands:function(){return a}},u=(0,st.i)({openFile:i,fs:e,shouldHideFile:t,getRecentFiles:n,lazyLoad:!0});return u.match=void 0,{data:fi,commands:function(){return[o,u,c,l,s]}}}),[e,a,o,t,i,n,l,s])}(),n=(0,ut.cT)();return(0,r.tZ)(c.G,{css:hi,children:(0,r.tZ)(Jn.X,{onSelect:function(e){if("openPane"===e.data.type){var t=e.data.pane;return(0,g.j)(g.U3.TOOL_OPENED,{source:"Sidebar Search",tool:t.type}),void n({pane:t})}},command:e,openOnInput:!0})})}var mi=t(19358),gi=t(92153),Zi=t(81202),bi=t.n(Zi),xi=(0,d.createContext)(void 0);function yi(){var e=(0,d.useContext)(xi);if(!e)throw new Error("Expected store in context");return e}function wi(e){var n=yi();return(0,nt.Dv)(e,{store:n})}var ki=function(e){var n=yi();return(0,nt.b9)(e,{store:n})};function Ci(e){var n=(0,d.useState)((function(){return(0,et.MT)()}))[0];return(0,r.tZ)(xi.Provider,{value:n,children:e.children})}function Si(e){var n=e.sections,t=e.id,r=n.findIndex((function(e){return e.id===t}));if(-1===r)throw new Error("");var i=n[r],o=i.height;i.height=0;var a=n.slice(r),l=n.slice(0,r).reverse(),s=!0,c=!1,u=void 0;try{for(var d,p=(0,Qe.Z)(a).concat((0,Qe.Z)(l))[Symbol.iterator]();!(s=(d=p.next()).done);s=!0){var f=d.value;if(0!==f.height)return void(f.height+=o)}}catch(h){c=!0,u=h}finally{try{s||null==p.return||p.return()}finally{if(c)throw u}}}var Ri=t(56581),Ti=t(13525),Ei=40,Ii=(0,et.cn)({}),Gi=(0,et.cn)(null,(function(e,n,t){n(Ii,(function(e){return(0,gi.ZP)(e,(function(e){e[t.id]=t.preferredHeight}))}))}));function Di(){return ki(Gi)}var Bi=(0,Ri.O4)("sidebarSections",[]),Pi=(0,et.cn)(0);function _i(e,n){return e.map((function(e){var t=e.id,r=e.percent;return{id:t,height:n*(r/100)}}))}var Ai=(0,et.cn)(null,(function(e,n,t){var r=t.height-t.sections.length*Ei;n(Pi,t.height);var i=e(Bi);if(i.length===t.sections.length){for(var o=[],a=i.map((function(e){return e.height})).reduce((function(e,n){return e+n}),0),l=0;l<i.length;l++){var s,c;if((null===(s=i[l])||void 0===s?void 0:s.id)!==(null===(c=t.sections[l])||void 0===c?void 0:c.id))return void n(Bi,_i(t.sections,r));var u=i[l];o.push((0,he.Z)((0,R.Z)({},u),{percent:0===a?0:u.height/a*100}))}n(Bi,_i(o,r))}else n(Bi,_i(t.sections,r))}));function Ui(e){var n=yi(),t=function(e){return(0,at.Z)((function(){return(0,et.cn)((function(n){var t;return Ei+((null===(t=n(Bi).find((function(n){return n.id===e})))||void 0===t?void 0:t.height)||0)}))}),[e])}(e);return(0,Ti.b)(t,n)}var Li=(0,Ri.kv)(Bi,(function(e){return e.map((function(e){return e.id}))}),bi());var zi=(0,et.cn)(null,(function(e,n,t){n(Pi,t),n(Bi,(function(e){return(0,gi.ZP)(e,(function(e){var n=e.reduce((function(e,n){return e+n.height}),0),r=t-e.length*Ei-n,i=!0,o=!1,a=void 0;try{for(var l,s=e[Symbol.iterator]();!(i=(l=s.next()).done);i=!0){var c=l.value;if(c.height>0){var u=0===n?0:c.height/n;c.height=Math.max(0,c.height+r*u)}}}catch(d){o=!0,a=d}finally{try{i||null==s.return||s.return()}finally{if(o)throw a}}}))}))}));var Oi=(0,et.cn)(null,(function(e,n,t){var r=e(Bi),i=e(Ii)[t],o=r.find((function(e){return e.id===t}));if(!o)throw new Error("");0===o.height?n(Bi,(0,gi.ZP)(r,(function(n){!function(e){var n=e.sections,t=e.preferredHeight,r=e.id,i=n.findIndex((function(e){return e.id===r}));if(-1===i)throw new Error("Expected sectionIndex");var o=n.reduce((function(n,t){return n+(t.height+e.headerHeight)}),0),a=e.totalHeight-o,l=n[i];if(a>0)l.height=a;else{var s=n.slice(i+1).find((function(e){return e.height>0}))||n.slice(0,i).reverse().find((function(e){return e.height>0}));if(s){if(void 0!==t&&t<s.height)return l.height=t,void(s.height-=t);l.height=s.height,s.height=0}}}({sections:n,id:t,totalHeight:e(Pi),headerHeight:Ei,preferredHeight:i})}))):(n(Gi,{id:o.id,preferredHeight:o.height}),n(Bi,(0,gi.ZP)(r,(function(e){return Si({sections:e,id:t})}))))}));function Xi(){return ki(Oi)}function ji(e){var n=(0,at.Z)((function(){return(0,et.cn)((function(n){var t;return 0===(null===(t=n(Bi).find((function(n){return n.id===e})))||void 0===t?void 0:t.height)}))}),[e]);return wi(n)}var Ni,Mi=(0,et.cn)(null),Fi=(0,et.cn)(null,(function(e,n,t){var r=e(Bi);if("start"!==t.type){var i=e(Mi);if(!i)throw new Error("");if("update"!==t.type)n(Bi,(0,gi.ZP)(r,(function(e){var n=!0,t=!1,r=void 0;try{for(var i,o=e[Symbol.iterator]();!(n=(i=o.next()).done);n=!0){var a=i.value;a.height>=32||Si({sections:e,id:a.id})}}catch(l){t=!0,r=l}finally{try{n||null==o.return||o.return()}finally{if(t)throw r}}}))),n(Mi,null);else{var o=e(Pi);n(Bi,(0,gi.ZP)(i.sectionStart,(function(e){var n=i.heightStart+t.delta;!function(e){var n=e.sections,t=e.id,r=e.totalHeight-n.reduce((function(n,t){return n+(t.height+e.headerHeight)}),0),i=n.findIndex((function(e){return e.id===t}));if(-1===i)throw new Error("Expected sectionIndex");var o=r+n.slice(i).reduce((function(e,n){return e+n.height}),0),a=n[i],l=e.height>a.height,s=Math.min(o,e.height),c=Math.abs(a.height-s);if(l){a.height=Math.max(0,s);var u=!0,d=!1,p=void 0;try{for(var f,h=n.slice(i+1)[Symbol.iterator]();!(u=(f=h.next()).done);u=!0){var v=f.value;if(0!==v.height){if(!(v.height<c)){v.height-=c;break}c-=v.height,v.height=0}}}catch(S){d=!0,p=S}finally{try{u||null==h.return||h.return()}finally{if(d)throw p}}}else{var m=n[i+1];if(e.height>=0)return a.height=e.height,void(m&&(m.height+=c));var g=a.height;a.height=0;var Z=-1*e.height,b=!0,x=!1,y=void 0;try{for(var w,k=n.slice(0,i).reverse()[Symbol.iterator]();!(b=(w=k.next()).done);b=!0){var C=w.value;if(C.height>Z){g+=Z,C.height-=Z;break}g+=C.height,Z-=C.height,C.height=0}}catch(S){x=!0,y=S}finally{try{b||null==k.return||k.return()}finally{if(x)throw y}}m&&(m.height+=g)}}({headerHeight:Ei,totalHeight:o,sections:e,id:i.id,height:n})})))}}else{var a=r.find((function(e){return e.id===t.id}));if(!a)throw new Error("");n(Mi,{id:t.id,heightStart:a.height,sectionStart:r})}})),Wi=(0,et.cn)((function(e){return Boolean(e(Mi))}));function Vi(e){var n=e.id,t=(0,at.Z)((function(){return(0,et.cn)((function(e){var t;return(null===(t=e(Mi))||void 0===t?void 0:t.id)===n}))}),[n]);return wi(t)}!function(e){e.Files="files",e.Dock="dock",e.Kaboom="kaboom",e.Resources="resources"}(Ni||(Ni={}));var Hi=t(57913),Yi=t(1261),qi=t(11619),Ki=t(42256),$i=t(24370),Qi=t(43118),Ji=t(65532),eo=t(65225),no=t(12583),to=t(39133),ro=t(44807),io=t(67183),oo=t(43746),ao=t(74441),lo=t(9020),so=t(52143),co=t(88467),uo=t(50013),po=t(63740),fo=t(62405),ho=t(84815),vo=t(13354);function mo(e){var n=e.uploadFiles,t=(0,Ae.Z)(),i=(0,ze.OM)(),o=(0,ze.t9)(),a=(0,d.useRef)(null),l=(0,d.useRef)(null),s=(0,ut.BN)(),c=(0,ro.Z)(),u=d.useCallback((function(){var e=[{icon:(0,r.tZ)(co.Z,{}),label:to.st.UploadFile.text,run:function(){a.current&&(a.current.click(),(0,oo.Z)({replId:t,action:"uploaded",fileType:An.Tv.File}))}}];return c&&e.push({icon:(0,r.tZ)(vo.Z,{}),label:to.st.UploadFolder.text,run:function(){l.current&&(l.current.click(),(0,oo.Z)({replId:t,action:"uploaded",fileType:An.Tv.Directory}))}}),e.push({icon:(0,r.tZ)(uo.Z,{}),label:to.st.OpenPane.text,run:function(){s({pane:{type:"commands",data:{autoFocus:!0}},edge:"left"})}},{icon:(0,r.tZ)(po.Z,{}),label:to.st.DownloadZip.text,run:function(){return(0,ao.R)(t)}},{icon:o?(0,r.tZ)(fo.Z,{}):(0,r.tZ)(ho.Z,{}),label:o?to.st.HideHiddenFiles.text:to.st.ShowHiddenFiles.text,run:function(){i(!o)}}),{data:{type:"context",label:"Search actions",icon:(0,r.tZ)(ht.Z,{})},commands:function(){return e.map((function(e){return{match:lt.pl,data:{type:"action",label:e.label,run:e.run,icon:e.icon}}}))}}}),[o,i,t,c,s]),p=(0,so.av)().openContextMenu,f=(0,d.useRef)(null);return(0,r.BX)(r.HY,{children:[(0,r.tZ)(ue.h,{alt:"menu",tooltipHidden:!0,innerRef:f,onClick:function(){return f.current&&p({target:f.current,command:u()})},children:(0,r.tZ)(lo.MoreVertical,{})}),(0,r.tZ)(io.Q,{fileUploadInputRef:a,dirUploadInputRef:l,uploadFiles:n})]})}var go=t(73941),Zo=t(55749),bo=t(71045),xo=t(35273),yo=t(7909),wo=t(1050),ko=t(49085),Co=t(15544),So=t(49747),Ro=t(54873),To=t(47031),Eo=t(91046),Io=t(68710),Go=t(10671);function Do(e,n){return Bo.apply(this,arguments)}function Bo(){return Bo=(0,tt.Z)((function(e,n){var t,r;return(0,rt.__generator)(this,(function(i){switch(i.label){case 0:return[4,e.data];case 1:if(!(t=i.sent())||"object"!==typeof t)throw new Error("Invalid command");return r={data:{label:t.label,description:t.description,type:t.type,iconPath:t.icon,id:t.id,contributions:t.contributions},extension:n.extension},"context"===t.type?r.commands=function(){var t=(0,tt.Z)((function(t){var r,i,o,a,l,s,c,u;return(0,rt.__generator)(this,(function(d){switch(d.label){case 0:r=t.active,i=t.search,o=null,d.label=1;case 1:return d.trys.push([1,3,,4]),[4,e.commands({active:r,search:i})];case 2:return o=d.sent(),[3,4];case 3:return a=d.sent(),n.logger.error(a.message,{commandError:a,api:"command"}),[2,[]];case 4:return[4,o.length];case 5:l=d.sent(),s=[],c=0,d.label=6;case 6:return c<l?(u=s.push,[4,Do(o[c],n)]):[3,9];case 7:u.apply(s,[d.sent()]),d.label=8;case 8:return c++,[3,6];case 9:return[2,s]}}))}));return function(e){return t.apply(this,arguments)}}():r.run=(0,tt.Z)((function(){var t;return(0,rt.__generator)(this,(function(r){switch(r.label){case 0:return r.trys.push([0,2,,3]),[4,e.run()];case 1:return r.sent(),[2,void 0];case 2:return t=r.sent(),n.logger.error(t.message,{runError:t,api:"command"}),[2,{type:"error",message:t.message}];case 3:return[2]}}))})),[2,r]}}))})),Bo.apply(this,arguments)}function Po(e){if(!["context","action"].includes(e.data.type))throw new Error("Command type not supported: "+e.data.type);if("action"===e.data.type)return{match:lt.pl,data:{label:e.data.label,description:e.data.description,icon:(0,r.tZ)(be.Z,{src:(0,Eo.Vh)(e.extension.baseUrl,e.data.iconPath),layout:"fill",alt:""}),type:"action",run:(0,tt.Z)((function(){var n;return(0,rt.__generator)(this,(function(t){switch(t.label){case 0:if(!(n=e.run))throw new Error("Action command must have run");return[4,n()];case 1:return[2,t.sent()]}}))}))}};var n=e.commands;if(!n)throw new Error("Context command must have commands");return{match:lt.pl,data:{label:e.data.label,description:e.data.description,icon:(0,r.tZ)(be.Z,{src:(0,Eo.Vh)(e.extension.baseUrl,e.data.iconPath),layout:"fill",alt:""}),type:e.data.type},commands:function(){var e=(0,tt.Z)((function(e){var t,r;return(0,rt.__generator)(this,(function(i){switch(i.label){case 0:return t=e.active,r=e.search,[4,n({active:t,search:r})];case 1:return[2,i.sent().map(Po)]}}))}));return function(n){return e.apply(this,arguments)}}()}}function _o(e){return{match:lt.pl,data:{type:"action",label:"Rename",icon:(0,r.tZ)(wo.Z,{}),run:e}}}function Ao(e){return[{label:"Copy file path",icon:(0,r.tZ)(ko.Z,{}),run:function(){return(0,Jt.Z)(e)}},{label:"Copy URL",icon:(0,r.tZ)(Co.Z,{}),run:function(){return(0,Jt.Z)((0,So.dr)({path:e}))}}].map((function(e){var n=e.label,t=e.icon,r=e.run;return{match:lt.pl,data:{type:"action",label:n,icon:t,run:r}}}))}function Uo(e){return{match:lt.pl,data:{type:"action",icon:(0,r.tZ)(Ro.Z,{}),label:"Delete",run:e}}}function Lo(e){var n=e.size,t=e.iconUrl,i=e.name;return(0,r.tZ)(be.Z,{src:t,width:n,height:n,alt:"Icon for file opener: ".concat(i)})}function zo(e,n,t){var i=[],o=!0,a=!1,l=void 0;try{for(var s,c=function(){var n=s.value,o=(0,Io.Z)(n.glob);if(!o||!o.exec(e))return"continue";var a=n.icon?n.icon:n.extension.manifest.icon,l=n.name?n.name:n.extension.manifest.name,c=a?(0,Eo.Vh)(n.extension.baseUrl,a):null;i.push({match:lt.pl,data:{type:"action",icon:c?(0,r.tZ)(Lo,{size:16,name:l,iconUrl:c}):(0,r.tZ)(ho.Z,{}),label:"Open with "+l,run:function(){return t({path:e,opener:{paneType:"extension",supports:function(){return!0},extensionFileHandler:n}})}}})},u=n[Symbol.iterator]();!(o=(s=u.next()).done);o=!0)c()}catch(d){a=!0,l=d}finally{try{o||null==u.return||u.return()}finally{if(a)throw l}}return i}function Oo(e,n){return{match:lt.pl,data:{type:"action",label:"Open shell here",icon:(0,r.tZ)(Go.Z,{}),run:function(){n({pane:{type:"shell",data:{initialPwd:e}},edge:"left"})}}}}function Xo(){var e=(0,Ae.Z)(),n=(0,pe.Z)().fs,t=(0,ut.CA)(),i=(0,ut.BN)(),o=(0,yo.c_)(),a=(0,yo.s6)(),l=(0,x.P5)({controlName:"flag-open-with",type:"boolean",default:!1,logFlagToAnalytics:!1}),s=(0,d.useCallback)((function(i,s){var c,u=i.path,d=[{data:{type:"group",key:"rename"},commands:function(){return[_o((function(){return s.rename(u)}))]}}];if(d.push({data:{type:"group",key:"open"},commands:function(){return function(e){var n=e.path,t=e.getSelectedNodes,i=e.openFile,o=[{type:An.Tv.File,path:n}],a=!0,l=!1,s=void 0;try{for(var c,u=t()[Symbol.iterator]();!(a=(c=u.next()).done);a=!0){var d=(0,w.Z)(c.value,2),p=d[0],f=d[1];f!==An.Tv.Directory&&p!==n&&o.push({path:p,type:f})}}catch(m){l=!0,s=m}finally{try{a||null==u.return||u.return()}finally{if(l)throw s}}var h=o.length,v=1===h?"Open":"Open ".concat(h," files");return[{label:v,icon:(0,r.tZ)(ho.Z,{}),run:function(){var e=!0,n=!1,t=void 0;try{for(var r,a=o[Symbol.iterator]();!(e=(r=a.next()).done);e=!0){var l=r.value;i({path:l.path,newTab:!0})}}catch(m){n=!0,t=m}finally{try{e||null==a.return||a.return()}finally{if(n)throw t}}}},{label:v+" in split",icon:(0,r.tZ)(uo.Z,{}),run:function(){var e=(0,Zo.Z)(o),n=e[0],t=e.slice(1);i({path:n.path,newPane:!0});var r=!0,a=!1,l=void 0;try{for(var s,c=t[Symbol.iterator]();!(r=(s=c.next()).done);r=!0){var u=s.value;i({path:u.path,newTab:!0})}}catch(m){a=!0,l=m}finally{try{r||null==c.return||c.return()}finally{if(a)throw l}}}}].map((function(e){var n=e.label,t=e.icon,r=e.run;return{match:lt.pl,data:{type:"action",label:n,icon:t,run:r}}}))}({path:u,getSelectedNodes:s.getSelectedNodes,openFile:t})}}),l){var p=zo(u,o,t);p.length&&d.push({data:{type:"group",key:"extensions"},commands:function(){return p}})}return d.push({data:{type:"group",key:"copy"},commands:function(){return Ao(u)}}),d.push((c=(0,tt.Z)((function(){var r;return(0,rt.__generator)(this,(function(i){switch(i.label){case 0:r=null,i.label=1;case 1:return i.trys.push([1,3,,4]),[4,(0,bo.Z)(u,n)];case 2:return r=i.sent(),[3,4];case 3:return i.sent(),[2,{type:"error",message:"Error duplicating file"}];case 4:return(0,oo.Z)({replId:e,action:"duplicated",fileType:An.Tv.File}),t({path:r}),[2]}}))})),{match:lt.pl,data:{type:"action",label:"Duplicate",icon:(0,r.tZ)(Qt.Z,{}),run:c}})),d.push((0,xo.H4)(u,n)),d.push({data:{type:"group",key:"deleteFile"},commands:function(){return[Uo((function(){return s.deleteNodes(i)}))]}}),d.push({data:{type:"group",key:"extensions"},commands:function(){return a.filter((function(e){return e.data.contributions.includes(To.YC.FiletreeContextMenu)})).map(Po)}}),d}),[t,e,a,o,n,l]),c=(0,ze.OM)(),u=(0,ze.t9)(),p=(0,d.useCallback)((function(e,n){var t,o=e.path,a=o===no.Ql,l=a?[]:[{data:{type:"group",key:"rename"},commands:function(){return[_o((function(){return n.rename(e.path)}))]}}];return(t=l).push.apply(t,(0,Qe.Z)(function(e){return[{label:"Add file",icon:(0,r.tZ)(Qi.Z,{}),run:function(){return e(An.Tv.File)}},{label:"Add folder",icon:(0,r.tZ)(Ji.Z,{}),run:function(){return e(An.Tv.Directory)}}].map((function(e){var n=e.label,t=e.icon,r=e.run;return{match:lt.pl,data:{type:"action",label:n,icon:t,run:r}}}))}((function(t){return n.create(t,e.path)})))),l.push({data:{type:"group",key:"openShell"},commands:function(){return[Oo(o,i)]}}),a||l.push({data:{type:"group",key:"copy"},commands:function(){return Ao(o)}}),a||l.push({data:{type:"group",key:"deleteFile"},commands:function(){return[Uo((function(){return n.deleteNodes(e)}))]}}),a&&l.push({data:{type:"group",key:"hiddenFiles"},commands:function(){return[{match:lt.pl,data:{type:"action",label:(u?"Hide":"Show")+" hidden files",icon:u?(0,r.tZ)(fo.Z,{}):(0,r.tZ)(ho.Z,{}),run:function(){c(!u)}}}]}}),l}),[u,c,i]);return(0,d.useCallback)((function(e,n){return{data:{type:"context",label:"Search actions",icon:(0,r.tZ)(ht.Z,{})},commands:function(){return e.type===An.Tv.Directory?p(e,n):s(e,n)}}}),[s,p])}var jo=t(68243);function No(e){var n="For example, here is a code block in ".concat(e);switch(e){case"python3":return"".concat(n,'\n```python\ndef hello_world():\n  print("hello world!")\n```\n');case"java10":return"".concat(n,'\n```java\npublic class Main {\n  public static void main(String[] args) {\n    System.out.println("hello world");\n  }\n}\n```\n');case"html":return"".concat(n,"\n```python\n<html>\n<body>\n  <h1>hello world</h1>\n</body>\n</html>\n``")}return""}function Mo(e){var n=e.language;return"# Lesson plan\n  \n  ** this file should contain teacher lesson plan details ** \n\n  __ students will never see this __\n\n  ## Learning Objectives\n  1. \n  2. \n  3. \n\n  Use [Markdown](https://gist.github.com/cuonggt/9b7d08a597b167299f0d) to format your lesson plan.\n\n  ".concat(No(n),"\n  ")}function Fo(e){var n=e.language;return"# Instructions  \n\n  ** this file should contain student lesson instructions **\n\n  _ students will see these instructions in a read-only workspace tab _\n\n  ## Steps\n  1. \n  2. \n  3. \n\n  Use [Markdown](https://gist.github.com/cuonggt/9b7d08a597b167299f0d) to format your instructions.\n\n  ".concat(No(n),"\n  ")}var Wo="iVBORw0KGgoAAAANSUhEUgAAATcAAABeCAYAAABGrlMUAAAACXBIWXMAAAWJAAAFiQFtaJ36AAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAABiXSURBVHgB7Z1bcxNXtseXuGM4FTGVPOakzWuqDnISLoEHBHlJKtTBwxSvg8kHiO18gCCfDwBmPgCIvKZOEFNJpSpViZs8hEAYbOZ9cFN5SkgFpwowd83/397tacu9+yJ1y5K8flVtyeqL1N27/3vttfZeW0RRFEVRFEVRFEVRFEVRFEVRFEVRFEVRFEVRFEVRFEVRFEVRFEVRFEWJoCSKouRKtVqVx48fO1Hrtm3btuC67oIohbNJFEXJDSNsw81m807U+kePHk3hpSZK4XRd3A4cOOC8fPmygptfLpVKDpYyPn6F6/DZXfPqcdm5c+ec1nLKeuTkyZPieV4Fz8do1PoNGzbM//jjj5ekDWq1muC5Kj948KAStX5QnruuixvNctRsCxCvN7A4WPbgBvoXGa8Sfl1cXJT9+/d7eDuH7Rq4oVdxQz1RlAHn3r17fBnBs3Amaj2ehxm8tCVuEC5alyMbN278LurQEL2j3Ez6nELEbe/evb5l1vo5bhRrAw8C5Uro4tGaw0sVFt3xiJqK62jhjeKYFDsK3bQKnaIoceQqbhCpKoSHNU3Vto2xxvh2DosHQXOfP39+++bNm3X8X4fPooxaZdQcx4k4BE31uhG6Ot5PqcgpitJKLuJmRO0clkqG3bhtBRaYb6nt27dvAULlwuHauHHjRh0f1VOI5RjWj6nIKYrSygbpADYnISwzpv2fRdhWYQILo7TKcMx5iB1Fzbt+/foRfHaa72N2p8jNYL8JURRFkQ7EDUIyjiblrMQ0QTuAPrYaBQsidwoWWf3Jkycj+Px83D5YzlFsjQ9PUZR1TGZxo08MAnIRb6eNtVUkjrHkZhFlLcOKm0AzdhKiFxemZlN25p133qmKoijrlkziRosIAQE2QcekuzD6OsMo7LVr16bx/ojEN1MdhLlnTNNWUZR1SGpxo7Dl4VvrAAdWG5uc1Z9++mkOFt2RBAuOfryaCpzSj3Ckw44dOy6jDA9blo9EiSVVtDQkbI6sLWX8jsuw4I7ADzfHV3w2E9c8NgIniMBOiaL0CRxFABbMorRBouXWQ8IWUIYFd5m/ixYcmp+JoqUWnKKsPxLFjZaS9I6wBVBwGdQQ44NrJO1gBG5UFEVZF8Q2SxGlPCcZfWz0g0FIOPrg9suXL+kbW4CltcK0fvHiBaOgDt4G40odyU6V3UTQ3Lz09OnT01u2bKkmRW+x/iIsvjnt7Ksog49V3ODPGsNLqk6xRtAuYWlcv37dlYwEY0txnFOSod8crTE4Xq8wgwGOcd6MZoijbCzREVEUZaCJFDfjZ0vjo/KwTA8NDV3qJEWKsaTqsjTkiimRahCuUyl2ZdeUMf6Gx48fT8N6G0/R964Ci68Gi68mPY4ZZ1t+/vy5s2nTJq8IizP4DljT5SDZAb+rX5MqBokiw+fD1gMij56mz1pfRGbixcNfjxMXY6lNwUqblhgoVHww0Swth7OEsLBBwBbiCl1akcNx5yBUI2afWkpR5neP5C0WtHZNc3sFPM+ka0UoNA8fPjyF60UrdkUzG/9P5SHI7EqD63rYuANiXQJhFwPEonHz5k1XcsaIEX9TNWo9Ks5pmygFeclwzUZxzQ7LktXviIUuno81WWXa+8hzazQaZVTYka0nnK9rsutEfT+fnTGJx4l5tupBbsU46OtmUE96lFWWGzvKJgiKiwt7ulUYzIO5opAxcweimf76IEdbAD5nQso5WF4L+E6mMbpNEXj27Jk3Nze3YI4/ZgTLGq3lQ8rRCCyotN62bt2aRtzKJiBxRHIE525rVntYrOLGa/fo0aNxLByBEVgbkhfB8XFMjsF10h7biGuVC+7XuMmt5+adpIDCZslb1sQ9rUtLd4jgAf76668n6MoIrlkSUeeD/evY/1Kv+WGZcw3W8y5bZY1r5m9m2X3Ycj3TMpaijDSZUFaWsvv0JKvEDTf6nG3jqFqHEUhciHGIVBX7SgIulga2v5K2MHG7SqUyAtGq4d/xqG1QUBkFdSmKKLCupPPbVQNRlDWEY3QhPLVSQUPZcj6+I2uYiSWw1FDW+OD6Fk2HlUAwhnmMrRXtCzlYrBA3k2Koatl2Ejd/2fowTbBzKR+aoLZ3pQ0oWniZwO9biKrJ8Nnh0L9XJGVQAqLIY7myBhhritbjaJ5WWgAtcFQ2PH6liOPLksgdhiiwwmsrI2wWmHb7q6++GsE5fSH5d03yRQ6CfQqvRzWaPhisMLVQWMct200GPiM+NMy8wQcnhbB5HCbFtEXtClsYHIMWyKralU1TigXfQ7BcSU91LQbY87dyjK4tP36n0FrDsbsxVI7Nn4tFd5BmM/Tnn39mZcq02I4UB31ltzR11mCwbLmZCOmqh800RX1h40OD/2t4m2itYbtLcAZP5B2hosDht0qrBQexoPV25YcffpgziS9TNcOCJq10EZN8oBDhwbU5w3uU0VrzjLM9uFeOpBeRkrF63kAlVsh4R1i4f6aIpjmn0Hl45n+WAydDs3wXlrMoQ69oMzV/HsxICRbVdxl3aw4dkaMZ9/mPuEUJGzgf+NiyPDR5RfZsUOBQ+Pa0WD7DwRtTuFMV5pYmbeGk6RhtEgKwKc+I1Tycx39ICsdtcI+StuPxYXkzN54Lp7V1piPTtOX14XWuJhz2NNPHFyBwvK8XbCuNmLm4RlcQeW9EnUsogsjrPpqimxEF+wzO5480Ue5egueKKCtThMUGy3Dd2MPgbNQqLJM4/9uSAK535mACw4svs+eAbEobhMXtVItwedu3b6/xTdqHxhxnqht9yDgqAUGGcFcGJ7R6TlJaHqXic9Itk6JjtGu62LiSEQZ2UtwjuglOpz2+CfNzOY/fzpmYLpguJDbomL+bo8VTgiB9EXOP2MdyKql1wMijLFlyHh7+BoSOQQTeh/G478ZyFm6LubUOOmUhNODetW1jxL7E3gxRvHjx4nY/nbMNX9xMk3RFoaWvjIUm1BRNJIuwtXQdKZvlNo4xm2ZmKwYZ8LtPm24ixAn9jj8KcqJ3BM7L5pvyRaddv6S5f+cSNjvPyqpdNwGEbhb3bMQIg+08fIsHgnA1r4fDImzzTPnTzvUKhA7nMoFz4aiWOD9eCW6LL7Dtbu0A3H/4AQUodbXl8zrFxQyLSmuW19MIG0WNDmj4UeZNNG9M/tPsGTczW80z229SuvCWKQJfkR7GWG1O6+f0TUJ0RjoJuLCzs8R3XqU12LH/k8Lw6quvUtxOxOTSoyBcCAI8BTBrIpqudADP5f33359/8uTJWxLvc90FH+kFUfoOX9xQWKqhz7wgIhmyipJgE3YyaSOTyZeFM02/K3Y1SJwPIRQ9jd1urYmy2oylO9aJ6JguOXGjSXJ1E3z55ZccNXAZ5/NJzGbD7JAs+TOPcpZbVw024dACuM9jSrzAjWra+v4j6AqyJ/iAlgQLj83SiIJNqqQHtM28cE6SwLEGbyZk5E3Ak+JxZPV5n89DdGKauv7wmCL8n6b3/MWobjkBWPdxztYbm6JHi2ge4nc2YcGdEHtZoDX6qSh9RWC5Bf42Dw9L3V8R89C0UE/TRDDDnRzJznLuNhvMSNLy/xvS23DKwo4tG3a6Fvs15b1MtKbbxQgcxc21bLIrR+utWeRoCFpw5XL5fkLq7qpab/3FhharyG3DakuMjJnjVaV9/NxttpUQP1dCtW54kH4KEkPeecNgjeRA3ODowAKXYqHo/J9tJa03yQdmRCl0FIQRa7YCbN9D6+24KH0DLTcn+CcQqoxWm5e0kRlQ3hEc9C3247f2t3EkPZ50EfrA8hCdSqVSjvG1ed3ojhMIgtitt3IO1k4zTQWaE02Upbjv6rgcK91jA2r/wMpxTYS0KhmtthSTIFelc6o2H44RCy5y8ODBSpa+a4gU+8KIc+hGwV1u9ncKMw/HrHale8RZb3lYO4VbbQFGrD0pVqyVLrEhlNCvzlfLSIUo3MACYWJA20YUG8mJBw8exB3Lb14+e/Ys0/ft3LnTF7cM590Jbl5NxZYI9wpwP7oiBsR0CJ2LCerskc5wpbs0UeF/ZllXYq49UfqC8MD5q/yTdjhSIIZsHknMcKKQZVgoJrdU7EMfgWtSlDvShflYc25e2URjoZu9y40zPkgCGUUn15Vd6K9IF6FYo4Js2NbjPDsVa6VL+CMUmDQS0TsvaqRCDL4YDg0NOSgM1o04OQwsCSmawO+GwpdlrKj/4HTDaguuseQE75NlFMacdJknT57whZZzNWJ1meWqXYs1zRjHPKFYHzp0iElT5yxDzVTcOmAbiu6DNpLEPpqRtH1uA5qbOMgciy9UHFicctjScj5/WmZRqbWXf9SjR97WrVslD4ImZBSBv5CZZiUl+N1BDc0xhp4USHCN88AEE2wWcXX//v1tDTRuF5MV1gruCQXBk+wsrEVutc2bN9N6o6hGiZsjStuYfgJuhl1kcUZK7Qy238DJQJhP3nyQ1mpbrk3NNH3WfmUm0aQrHULLJ6kDZ4q88WEyB1A6JGvNY4XWsvQRuC+7pA0CV0O3oSUaSv+0ihQBNKUHYLR0IbCI0voTKDQtHzGSad2+tZNtO6DZOR23ngWulG7GLB+I8hR/c0gQ/5ACwffclZzolh9zrYkTmCJBS6PZ4agXpQfYQOslsIjSNunCNaqZnMNhvizb9viOunRmuczHdQcwIlWT9Fw2E8osC2KEYOdKL88SpCiDSOuMLo6kICxuQVeSpCYhh7Zg2/uSEe7DMYVx23AqtSxWG7b9pFUQ8dmsFIdaAYrSZZbFjQ97qY3EjaEuGONxTVNaiLDymF5mXtIf+z6W2CwQzP6KbVKnpAlGCLQKYp7NxgjyFjcvYX2zhxYJvWbFkbWj9xICKplYzsQb16xMCWdzGkMovW6yga7COPCPQkjOhIQlqhDxYeD8qB/FCRvFdHFxcULSR1IuclgS98NvPRuKDHv91GzEvVqIiUBfwXlNSA+xY8eOdsW9zHtlEkx2jadPnzLp5v/Y1uvsWP3BJumQsNOXU/2hIDLyai3MpmCchshNwYo6bjoNO2Y1rbt/MnqbJDbBzN54m5SBNmB2+/btfnP04cOHY/iecN82V/oIRqBtk+Dger7xwQcfeLYKps8om0rXky7Cfpm2yauL9s0q+dGWuG3cuHE56y07z4ZysdN6O3Ps2LFJJjWMw4jcebNkIhA2kyI6DTMQthNmNMJwa2IATjAifYYZEVCN+LzCiYtlQPx8Jkt0XboEK4VGo1E283OsYq0iuEp2EqeItzAcvGETKbyCTaJff/31z3H+t05oETYnYXOq7vT169f9JIfvvvsuJ8VYNanvtm3bujrEJyesPfcTxuD2ExzLebibViibwJs3b7aNWGEXkdw6YyvF0q64OcEb00nXC6/kLEkUoLwFLouwMRiBB+MEhG0y2Be+Pk5l1vrg1/tx8o/Q6IpVwLI+MyDNUnLcWKJd4dmzZxRUayYTlCFXlL5gWdxMM9FNud+e8MMTUZuVKUB5CRy/i1YXjncEheuWxAubb60NDQ3tvnbtmi8ARhRrEjGtXjczaORJQiaOajcFgdfXtuRAGZZolvHCbcPfyxE3eGsTN+/mzZtqufUJK3xuHEmAB6aaYr9q2K/DTLgR/cwcI3BHUWjm24l4UdS438zMzC6IGnPYT1jGvjbN5LyXsJwPR7OMKJ6xTEc336/zM9Ji3r9/P4U5cu5N+j5Pnjw5+fnnn0uR4N6WEiLt89IZzAk3gXO9AitcCobzpNZixle7onREOzPO01p52cZg+xXixpEEKEQUASdpR+PXcfmeKWLggL0YsRkF7hYetEk8BHwQm0kiF6rtSxC18uLiIh/e8YjIYBDFcLFcgaV2Kdy8NKlrSs+fP2dTNLJrRBczvBYCm6a4vuOWdROe532GCmK2qCaqETZbxUEobLulc2i5TeD7povqFhK4PHDd/mrZJDalupKOdmec/68j2SuWVT63tA88atPx4KFJGBzPDBYXOfejrZnKz2Bl+B1yaQWwqwa2/w7Lv7Dvp1gYnW2aEQ4zWKY5dyYioH9isADL+bCwmeMMQ9jYhLX1+ZrtVobXomiZt3UV8B39P61eKYCQ/9MmbBSDmuQDTalP+X1FCDXLnjmXb2M2c7V/W3+xqiuIsd7YxKwm7LuiaUpRTGjSjnE9rLgpNqcgTMtWHAXt7t27r3A9jrPLNAsaZrKOBY6C2LFjh5fk+D927Jjcu3ePO4+bjsJWvxPWnZABIOG6D+PafrF3796jH374YTMvYQgJW5wYMC3WZ5Ifu/h9KANv4/vv52XB8VwQ3d8VFUUPwey8n4jSV0T2c0shVIR92iZqS/hWBETLk/gmLTtGsvl6JiRy/NwzhTVzYsLAEmQTFIV0FMc/a74nbrfpQamFzXWfFruFWoUF9x0suBN5iAIrkN9++y0pYp2n1RZmGNb8tzj2X9r144Zh2cF5/AlCTZG2dZ+h+6OuiQ/6j0hxS/HA+HA8KQoYtwtbbxclmWWRQ2F1EaH6DN/noqnLaFWTgvfaa6/Jm2++KYG1EQQX+DmsM+bcovPXt/rwSktzPOXYWM5a3te+tlZwLabg82SEb9iySRXX6R+4Pu/hgfYkhe+zFV7/b775pvTLL79UIJaxVo4szYqWp9UWZoQWHM6n43OB+yPpXIinvrb+xDpCgf3D9u3bdxg3dkTs+CMSUMgmWcBMk5YO2bSRDQfLGERtDK9MmjkHobqKYMVtFLwFiBjHovrCySYwCnQZTnJ/zgYUSuaeO24bJmOhWdSs5WsJfZ5mzO4tNustm9HauoPKpM6H9eDBg96WLVuarCxsEVWKAKLJDB75wR34MMdTTPvIyiPPJpwnq8VnxbkEIscVNqFrDVSlPBeWl9Pqa+tPYodfsROsaX7YLAI/KofC/3cUnhkWLKY2SnjIbDhcwmM+UXil9T3WSwd8MqgF9fXXX4fue+/h7bcJ156+zzGO30XF1MA+/zx06NAcHnYxLgL/WrPCMNFq+kGZvv2vKSzjeVqHOVYevriYrC/DtnOhyLE7EsrG9zgXjyuYKjw4F76nhc+hXDgeLdzDKc6FAawpVPLar61PiVUKCgGE6kRSHjZYXheCSJZJbdRzzldTUKdlQKH15TjOLM7zvWa6vHn0T9Zxr27BX/k7/r9jItSszO7gvv+Oe/o7tmGz7eOUwna0gMqDZfAvCec0xnOhNcdzYZQ8fC5Pnz79netwrhcobmmF7caNGwPlvlhvJJpBdKTSgpP4nFzsz/YFamzfYmDztJf6kJmCWpMBhwKHqPIs7tfbkqHzrHnYHVmKkHNxStly+90pSNh8jGgzYWniOZnfzeBAVdo7F5bzSRW2/idVG48BhhSZdCuoKc+yY6fZp2YErt1EhbmwXoQtwMya7ltRpitNkdefx2bGlbeLbO4b0eZUe2x2dzriwQbPZR5W4lvsNylK35PagUVrLEXtSf/HBfg9SnTgUuBME3UtBK653oQtwAR3vKGhITbXPpKle5bnPQg6VE8GGVekYMw5MVixO+dKs2lS2U/h2G9pl4/BIZN3njfezGcQK3D0edAHx57f165dm8Y+u6W4GncVprB+tB6FLUwQwTaCQJHj6I5w+u8sBPvNUAiYmGAtLBxjmbJVsDtkmbZ1PoGo8Vxwnaa6INLt/taijjPQZE5WSYugUqm8tXXrVobROa4xqh9GhVFWROLYcXQWhcbDZ7sPHDhQg9n/cRuR1CzQ53RiLaKiOLdLUZMvr3WCQ9M9oo57UTeD3Kv4rRyvuccyq3oYj9lnmdAT+3zfC5aNOR9mGx7D+wlEfauylMkj9nxMcgX+/tscl1tEJJQtlkajcX/Lli1RPrsmyqbbzePEMM+WTdSxOZexFES7M863Q+oOYlFArBiKZ7YOa1cRXkBj8vudLTm/qBkaFaQX7+g3hL6H+dv+xqawKKkxnaP9PoQSSvfOP92oIMx8FrTEovqcsSvI7iy/wwwNY7ePMqL4Zbwu4HUB1t7CoPVvVOLpWFhgxZVRcCaMyNmO5xmRWzGmlOIIoftffD7awe/xe8SzM6d2tuw/8hY3RQnIxWoiKS2yFSLHDyh0KOC0HNiU9ZsWeK1EhO9bj8f9G9jubyY7htKHqLgpRZGbuAVQ5GTJp/NxyP/R+j2+yKEZeRWLPwyIhTyctSIQPByHWX2ZNskJ1nGUAqzFaW1m9D8qbkpR5C5uYSh0xho73mKNhb+XqY0aiFj9He/9fnRFJSRUeg8VN6UoOp63NI7W6fv27t1bMRYYX//bWGRcTi0uLp7C/9/DKqtLl+epVBRl8ChU3Fox3Qi4NERRFKVAOkqxoSiK0quouCmKMpCouCmKMpCouCmKMpCouCmKMpCouCmKMpCouCmKMpCouCmKMpCouCmKMpB0dYSCorRiphHkmOKoTM2abVZRFEVRFEVRFEVRlH7k30ucc3EstpUHAAAAAElFTkSuQmCC";function Vo(e){return Ho.apply(this,arguments)}function Ho(){return(Ho=(0,tt.Z)((function(e){var n,t,r,i,o,a,l;return(0,rt.__generator)(this,(function(s){switch(s.label){case 0:return n=e.fs,t=e.language,r=void 0===t?"python3":t,[4,n.createDir(".lesson")];case 1:return(i=s.sent()).error?[2,i]:[4,n.writeFile(".lesson/assets/logo.png",bt.Z.from(Wo,"base64"))];case 2:return(o=s.sent()).error?[2,o]:[4,n.writeFile(".lesson/lessonplan.md",bt.Z.from(Mo({language:r})))];case 3:return(a=s.sent()).error?[2,a]:[4,n.writeFile(".lesson/instructions.md",bt.Z.from(Fo({language:r})))];case 4:return(l=s.sent()).error?[2,l]:[2,{error:null}]}}))}))).apply(this,arguments)}function Yo(){var e=(0,T.Z)(["\n  query TeamsForEduLessonCta($replId: String!) {\n    repl(id: $replId) {\n      ... on Repl {\n        id\n        isProject\n      }\n    }\n  }\n"]);return Yo=function(){return e},e}var qo={},Ko=(0,E.Ps)(Yo());var $o=(0,xe.X)({root:[l.l0.p(8),l.l0.colWithGap(4),l.l0.backgroundColor.accentPrimaryDimmest,l.l0.borderRadius(8),{fontSize:cn.TV.fontSizeSmall}]});function Qo(){var e=(0,ut.CA)(),n=function(e){var n=(0,R.Z)({},qo,e);return $.a(Ko,n)}({variables:{replId:(0,Ae.Z)()}}).data,t=(0,pe.Z)().fs,i=(0,d.useState)(!1),o=i[0],a=i[1],l=(0,d.useState)(!1),s=l[0],u=l[1],p="Repl"===(null===n||void 0===n?void 0:n.repl.__typename)&&n.repl.isProject,f=(0,on.Z)().showError;if((0,d.useEffect)((function(){if(p){var e=!1;return function(){n.apply(this,arguments)}(),function(){e=!0}}function n(){return(n=(0,tt.Z)((function(){var n;return(0,rt.__generator)(this,(function(r){switch(r.label){case 0:return[4,t.readDir(no.oh)];case 1:return n=r.sent(),e?[2]:(!n.error&&n.children.length||a(!0),[2])}}))}))).apply(this,arguments)}}),[t,p]),!o)return null;function h(){return(h=(0,tt.Z)((function(){return(0,rt.__generator)(this,(function(n){switch(n.label){case 0:return u(!0),[4,Vo({fs:t})];case 1:return n.sent().error?(f("Something when wrong"),[2]):(e({path:no.oh+"/lessonplan.md"}),a(!1),[2])}}))}))).apply(this,arguments)}return(0,r.BX)(c.G,{css:$o.root,children:[(0,r.tZ)(ce.zx,{iconLeft:s?(0,r.tZ)(Ze.Z,{}):(0,r.tZ)(gt.Z,{}),text:"Add lesson contents",small:!0,onClick:function(){return h.apply(this,arguments)},disabled:s}),(0,r.tZ)("a",{href:"https://docs.replit.com/teams-edu/lesson-authoring",target:"_blank",children:"Learn more"})]})}var Jo=d.createContext(null),ea=Jo.Provider,na=(0,xe.X)({root:l.l0.coverContainer,inner:[l.l0.coverContainer,l.l0.pl(8)],loader:[l.l0.justify.start,l.l0.position.absolute,{top:2,left:16,overflow:"hidden"}]});var ta=(0,xe.X)({root:[l.l0.rowWithGap(4),l.l0.pr(2)]});function ra(){var e=d.useContext(Jo),n=(0,d.useState)(!1),t=n[0],i=n[1],o=ji(Ni.Files),a=Xi();if(!e)throw new Error("Expected filetree");return(0,d.useEffect)((function(){return e.onLoad((function(){return i(!0)}))}),[e]),(0,r.BX)(c.G,{css:ta.root,style:{opacity:t?1:0},children:[(0,r.tZ)(ue.h,{"data-cy":"filetree-add-file",alt:"New file",tooltipPlacement:"top",onClick:function(){o&&a(Ni.Files),e.create(An.Tv.File)},children:(0,r.tZ)(Qi.Z,{})}),(0,r.tZ)(ue.h,{alt:"New folder",tooltipPlacement:"top",onClick:function(){o&&a(Ni.Files),e.create(An.Tv.Directory)},children:(0,r.tZ)(Ji.Z,{})}),(0,r.tZ)(mo,{uploadFiles:e.upload})]})}function ia(){var e=d.useContext(Jo),n=(0,d.useState)(Boolean(null===e||void 0===e?void 0:e.hasLocalCache)),t=n[0],i=n[1];if(!e)throw new Error("Expected filetree");return(0,d.useEffect)((function(){return e.onLoad((function(){return i(!0)}))}),[e]),(0,r.BX)(c.G,{"data-cy":"sidebar-filetree-section",css:na.root,children:[t?null:(0,r.tZ)(c.G,{css:na.loader,style:{opacity:t?0:1},children:(0,r.tZ)(eo.Z,{path:no.Ql})}),(0,r.BX)(c.G,{css:na.inner,style:{opacity:t?1:0},children:[(0,r.tZ)(Qo,{}),(0,r.tZ)(Yi.s8,{store:e.store})]})]})}var oa={title:"Files",controls:(0,r.tZ)(ra,{}),content:(0,r.tZ)(ia,{})},aa=t(32973),la=t(80336),sa=(0,Ri.O4)("kaboom3000UpdateNoticeClosed",!1),ca=(0,xe.X)({notice:[l.l0.borderRadius(4),l.l0.p(8),l.l0.colWithGap(4)],title:[l.l0.rowWithGap(4),l.l0.align.center],titleRow:[l.l0.flex.row,l.l0.justify.spaceBetween,l.l0.align.center]});var ua=function(){var e=(0,pe.Z)().fs,n=(0,w.Z)(d.useState(!1),2),t=n[0],i=n[1],o=(0,w.Z)((0,nt.KO)(sa),2),a=o[0],l=o[1];return d.useEffect((function(){e.readFile("package.json").then((function(e){if(!e.error)try{var n,t=null===(n=JSON.parse(e.content.toString()).dependencies)||void 0===n?void 0:n.kaboom;if(t){var r=/\d+/.exec(t);if(null===r||void 0===r?void 0:r[0])Number(r[0])>=3e3&&i(!0)}}catch(o){}}))}),[e]),!t||a?null:(0,r.BX)(se.Tg,{elevated:!0,css:ca.notice,children:[(0,r.BX)(c.G,{css:ca.titleRow,children:[(0,r.BX)(c.G,{css:ca.title,children:[(0,r.tZ)("img",{alt:"mark",src:"/public/images/mark.png",width:"24",height:"24"}),(0,r.tZ)(s.xv,{variant:"subheadDefault",multiline:!1,children:"Update notice"})]}),(0,r.tZ)(ue.h,{onClick:function(){i(!1),l(!0)},alt:"Close",children:(0,r.tZ)(la.Z,{})})]}),(0,r.tZ)(s.xv,{children:"You're using Kaboom v3000! Things might work differently from v2000."}),(0,r.tZ)("a",{href:"https://kaboomjs.com/blog/3000",target:"_blank",children:"New features"}),(0,r.tZ)("a",{href:"https://kaboomjs.com/doc/migration-3000",target:"_blank",children:"Migration guide"})]})};var da=function(e){var n=e.title,t=e.sub,i=void 0!==t&&t,o=e.actions,a=void 0===o?[]:o;return(0,r.BX)(Me.Ug,{justify:"space-between",align:"center",children:[(0,r.tZ)(en(),{id:"fd8117a15303f4ca",children:".header-action.jsx-fd8117a15303f4ca{display:-webkit-box;display:-webkit-flex;display:-moz-box;display:-ms-flexbox;display:flex;-webkit-box-pack:center;-webkit-justify-content:center;-moz-box-pack:center;-ms-flex-pack:center;justify-content:center;-webkit-box-align:center;-webkit-align-items:center;-moz-box-align:center;-ms-flex-align:center;align-items:center;width:var(--space-24);height:var(--space-24);-webkit-border-radius:var(--border-radius-4);-moz-border-radius:var(--border-radius-4);border-radius:var(--border-radius-4);color:var(--foreground-dimmer)}.header-action.jsx-fd8117a15303f4ca:hover{background:var(--background-higher);cursor:pointer}"}),(0,r.tZ)(je.Z,{level:i?5:4,children:n}),(0,r.tZ)(Me.Ug,{spacing:"4px",align:"center",children:a?a.map((function(e,n){return(0,r.tZ)("div",{onClick:e.action,className:"jsx-fd8117a15303f4ca header-action",children:e.icon},n)})):null})]})},pa=t(97754),fa=t.n(pa);var ha=function(e){var n=e.fileDrag,t=e.children,i=(0,w.Z)(d.useState(!1),2),o=i[0],a=i[1],l=d.useRef(0);return(0,r.BX)("div",{onDragEnter:function(e){if(n){e.preventDefault(),e.stopPropagation();var t=!0;if(e.dataTransfer.items&&e.dataTransfer.items.length>0){if(n.accept)for(var r=e.dataTransfer.items,i=0;i<r.length;i++){var o=r[i];n.accept.includes(o.type)||(t=!1)}t&&(a(!0),l.current++)}}},onDragLeave:function(e){n&&(e.preventDefault(),e.stopPropagation(),l.current--,0===l.current&&a(!1))},onDrop:function(e){n&&(e.preventDefault(),e.stopPropagation(),l.current=0,a(!1),(0,Qe.Z)(e.dataTransfer.files).filter((function(e){return n.accept.includes(e.type)})).forEach(n.onDrop))},className:"jsx-68ea6c6d36b196a3 section",children:[(0,r.tZ)(en(),{id:"68ea6c6d36b196a3",children:".section.jsx-68ea6c6d36b196a3{position:relative;width:100%}.dragfilter.jsx-68ea6c6d36b196a3{position:absolute;width:100%;height:100%;top:0;left:0;background:var(--accent-primary-default);-webkit-border-radius:var(--border-radius-4);-moz-border-radius:var(--border-radius-4);border-radius:var(--border-radius-4);opacity:.2}.dragfilter.hidden.jsx-68ea6c6d36b196a3{display:none!important}"}),t,(0,r.tZ)("div",{className:"jsx-68ea6c6d36b196a3 "+(fa()("dragfilter",{hidden:!o})||"")})]})};var va=function(e){var n=e.openFile,t=(0,w.Z)(d.useState(!1),2),i=t[0],o=t[1];return(0,r.BX)(ha,{children:[(0,r.tZ)(da,{title:"Kaboom",actions:[{icon:(0,r.tZ)(Vr.Z,{rotate:i?0:-90}),action:function(){return o(!i)}}]}),i?(0,r.BX)(Me.gC,{spacing:1,children:[(0,r.tZ)("div",{}),(0,r.tZ)(We.Z,{Icon:wo.Z,size:"small",onClick:function(){return n("template.html")},children:"Edit HTML Template"})]}):null]})},ma=t(81669),ga=t(94971);var Za=t(63064),ba=t(20575);function xa(e){var n=e.path,t=e.initialExpanded,r=e.fs,i=(0,w.Z)(d.useState(null),2),o=i[0],a=i[1],l=(0,w.Z)(d.useState(null),2),s=l[0],c=l[1],u=(0,w.Z)(d.useState(Boolean(t)),2),p=u[0],f=u[1],h=(0,Za.Z)();d.useEffect((function(){if(p){var e=r.watchDir(n,{onChange:function(e){a(e.filter((function(e){return!(0,ba.C)(n===no.Ql?e.filename:n+"/"+e.filename)})))},onError:function(e){c(e)}});return function(){h.current&&a(null),e()}}}),[r,n,p,a,c]);var v=d.useCallback((function(){f(!0)}),[]),m=d.useCallback((function(){f(!1)}),[]);return p?s?{collapse:m,expand:v,children:null,expanded:p,loading:!1,error:s}:o?{collapse:m,expand:v,children:o,loading:!1,error:s,expanded:p}:{collapse:m,expand:v,children:o,loading:!0,error:s,expanded:p}:{collapse:m,expand:v,children:null,loading:!1,error:null,expanded:p}}var ya,wa=t(99964),ka=t(58946);function Ca(e){return function(n){for(var t in e)n.key===t&&e[t](n)}}function Sa(e,n){ya||(ya=document.createElement("input")).setAttribute("type","file"),ya.setAttribute("accept",n.join(","));var t=function(){ya.files&&((0,Qe.Z)(ya.files).forEach(e),ya.removeEventListener("change",t))};ya.addEventListener("change",t),ya.click()}var Ra=t(70804);var Ta=function(e){var n=e.isActive,t=e.name,i=e.icon,o=e.options,a=e.onClick,l=e.onRename,s=(0,w.Z)(d.useState(!1),2),c=s[0],u=s[1],p=(0,w.Z)(d.useState(null),2),f=p[0],h=p[1],v=(0,wa.Z)((function(){u(!1)}),[]),m=(0,wa.Z)((function(){h(null)}),[]);return d.useEffect((function(){m.current&&null!==f&&m.current.focus()}),[m,f]),(0,r.BX)("div",{onClick:a,className:"jsx-103c0085cc983ea1 "+(fa()("entry",{active:n&&null===f})||""),children:[(0,r.BX)(Me.Ug,{spacing:1,align:"center",children:[i,null===f?(0,r.tZ)("p",{className:"jsx-103c0085cc983ea1",children:t}):(0,r.tZ)(ga.ZP,{ref:m,value:f,onChange:function(e){h(e.currentTarget.value)},onKeyDown:Ca({Escape:function(){h(null)},Enter:function(){l&&f&&l(f),h(null)}})})]}),o&&o.length>0?(0,r.tZ)("div",{onClick:function(e){e.stopPropagation(),u(!c)},className:"jsx-103c0085cc983ea1 "+(fa()("options-icon",{active:n})||""),children:(0,r.tZ)(Ra.Z,{})}):null,o&&o.length>0&&c?(0,r.tZ)("div",{ref:v,onKeyDown:Ca({Escape:function(){u(!1)}}),className:"jsx-103c0085cc983ea1 options-box",children:o.map((function(e){return e?(0,r.tZ)("div",{onClick:function(n){n.stopPropagation(),u(!1),e.action(),"Rename"===e.name&&h(t)},className:"jsx-103c0085cc983ea1 "+(fa()("option",{danger:e.danger})||""),children:e.name},e.name):null}))}):null,(0,r.tZ)(en(),{id:"103c0085cc983ea1",children:".entry.jsx-103c0085cc983ea1{width:100%;display:-webkit-box;display:-webkit-flex;display:-moz-box;display:-ms-flexbox;display:flex;-webkit-box-align:center;-webkit-align-items:center;-moz-box-align:center;-ms-flex-align:center;align-items:center;-webkit-box-pack:justify;-webkit-justify-content:space-between;-moz-box-pack:justify;-ms-flex-pack:justify;justify-content:space-between;-webkit-border-radius:var(--border-radius-4);-moz-border-radius:var(--border-radius-4);border-radius:var(--border-radius-4);padding:var(--space-8);color:var(--foreground-dimmer);position:relative}.entry.active.jsx-103c0085cc983ea1{background:var(--accent-primary-default)!important;color:var(--white)!important;font-weight:var(--font-weight-medium)!important}.entry.jsx-103c0085cc983ea1:hover{color:var(--foreground-default);background:var(--background-higher);cursor:pointer}.options-icon.jsx-103c0085cc983ea1{display:-webkit-box;display:-webkit-flex;display:-moz-box;display:-ms-flexbox;display:flex;-webkit-box-pack:center;-webkit-justify-content:center;-moz-box-pack:center;-ms-flex-pack:center;justify-content:center;-webkit-box-align:center;-webkit-align-items:center;-moz-box-align:center;-ms-flex-align:center;align-items:center;width:var(--space-16);height:var(--space-16);opacity:0;color:var(--foreground-dimmest)}.options-icon.jsx-103c0085cc983ea1:hover{color:var(--foreground-dimmest)}.options-icon.active.jsx-103c0085cc983ea1{opacity:1!important;color:var(--white)!important}.entry.jsx-103c0085cc983ea1:hover .options-icon.jsx-103c0085cc983ea1{opacity:1}.options-box.jsx-103c0085cc983ea1{position:absolute;top:var(--space-32);right:var(--space-16);padding:var(--space-4);background:var(--background-default);border:1px solid var(--outline-dimmest);-webkit-border-radius:var(--border-radius-4);-moz-border-radius:var(--border-radius-4);border-radius:var(--border-radius-4);font-size:var(--font-size-subhead-default);font-weight:var(--font-weight-regular)!important;z-index:500}.option.jsx-103c0085cc983ea1{padding:var(--space-8);-webkit-border-radius:var(--border-radius-4);-moz-border-radius:var(--border-radius-4);border-radius:var(--border-radius-4);color:var(--foreground-default)}.option.danger.jsx-103c0085cc983ea1{color:var(--accent-negative-default)}.option.jsx-103c0085cc983ea1:hover{background:var(--background-higher)}.option.danger.jsx-103c0085cc983ea1:hover{background:var(--accent-negative-default);color:var(--white)}"})]})};function Ea(e){var n=e.close,t=e.entries,i=e.openFile,o=(0,pe.Z)().fs,a=(0,wa.Z)(n,[]),l=(0,on.Z)().showError,s=(0,w.Z)(function(e){var n=(0,w.Z)(d.useState(e),2),t=n[0],r=n[1];return[t,r,function(e){var n=null;switch(e.currentTarget.type){case"checkbox":n=e.currentTarget.checked;break;case"number":case"range":n=Number(e.currentTarget.value);break;default:n=e.currentTarget.value}r((0,he.Z)((0,R.Z)({},t),(0,C.Z)({},e.currentTarget.name,n)))}]}({name:""}),3),c=s[0],u=s[2];return d.useEffect((function(){a.current&&a.current.focus()}),[a]),(0,r.tZ)(ga.ZP,{ref:a,name:"name",onChange:u,onKeyDown:Ca({Escape:n,Enter:function(){var e="".concat(c.name,".js"),r="code/".concat(e);t.includes(e)?l("file '".concat(c.name,"' already exists")):(o.writeFile(r,bt.Z.from("")).then((function(){i(r)})),n())}})})}var Ia=function(e){var n=e.onFileOpen,t=(0,pe.Z)().fs,i=(0,ze.R3)(),o=(0,w.Z)(d.useState(!1),2),a=o[0],l=o[1],s=(0,on.Z)().showError,c=(0,w.Z)(d.useState(null),2),u=c[0],p=c[1],f=(xa({path:"code",initialExpanded:!0,fs:t}).children||[]).filter((function(e){return e.type===An.Tv.File})).map((function(e){return e.filename})).sort();return(0,r.BX)(ha,{fileDrag:{accept:["text/javascript"],onDrop:function(e){var n="code/".concat(e.name);f.includes(n)?s("scene '".concat((0,Un.eb)(e.name),"' already exists")):e.text().then((function(e){t.writeFile(n,bt.Z.from(e))}))}},children:[(0,r.tZ)(da,{sub:!0,title:"Code",actions:[{icon:(0,r.tZ)(gt.Z,{}),action:function(){return l(!0)}}]}),(0,r.tZ)(ma.Z,{height:"4px"}),(0,r.tZ)("div",{children:f.map((function(e){var o="code/".concat(e),a=(0,Un.eb)(e),l=[{name:"Rename",action:function(){}}];return"main"!==a&&l.push({name:"Delete",action:function(){return p(o)},danger:!0}),(0,r.tZ)(Ta,{isActive:o===i,onClick:function(){return n(o)},onRename:function(e){t.moveFile(o,"code/".concat(e,".js")).then((function(e){e.error&&s("failed to rename")}))},name:a,options:l},a)}))}),a?(0,r.tZ)(Ea,{entries:f,close:function(){return l(!1)},openFile:n}):null,u?(0,r.tZ)(tn.u,{isOpen:Boolean(u),onRequestClose:function(){return p(null)},children:(0,r.tZ)(ka.Z,{danger:!0,prompt:"Delete scene '".concat((0,Un.eb)(u),"' ?"),desc:"Are you sure you want to delete this scene? This action cannot be undone.",onCancel:function(){return p(null)},confirmText:"Yes, delete this scene",icon:(0,r.tZ)(Ro.Z,{}),onConfirm:function(){t.deleteFile(u),p(null)}})}):null]})},Ga=t(9396),Da=t(42332),Ba=t(31672),Pa=t(39137),_a=t(45005),Aa=t.n(_a);var Ua=function(e){var n=e.kind,t=e.renderItem,i=e.onRequestClose,o=e.onAdd,a=e.openFile,l=function(e){var t="".concat(m,"/").concat(e);Aa()(t).then((function(e){return e.arrayBuffer()})).then((function(r){var l="".concat(n,"/").concat(e);s.writeFile(l,bt.Z.from(r)).then((function(n){if(n.error)throw new Error(n.error);a(l),o&&o(e,t)})),i()})).catch((function(){return g("Failed to fetch ".concat(e))}))},s=(0,pe.Z)().fs,c=(0,w.Z)(d.useState([]),2),u=c[0],p=c[1],f=(0,w.Z)(d.useState(""),2),h=f[0],v=f[1],m="https://kaboomjs.com/".concat(n),g=(0,on.Z)().showError;return d.useEffect((function(){Aa()("https://kaboomjs.com/api/assets/".concat(n)).then((function(e){return e.json()})).then((function(e){return p(e)})).catch((function(){return g("Failed to fetch assets lib listing")}))}),[p,g,m]),(0,r.BX)("div",{className:"jsx-d616aed56d26af98 assets",children:[(0,r.BX)(Me.gC,{spacing:2,children:[(0,r.tZ)(je.Z,{level:3,children:"Assets Lib (beta)"}),0===u.length?(0,r.tZ)(Ne.Z,{foreground:2,children:"Loading..."}):(0,r.BX)(r.HY,{children:[(0,r.tZ)(ga.ZP,{large:!0,label:"Search",onChange:function(e){v(e.target.value)}}),(0,r.tZ)("div",{className:"jsx-d616aed56d26af98 box",children:u.filter((function(e){return!h||e.includes(h)})).map((function(e){return(0,r.tZ)(d.Fragment,{children:t({name:e,url:"".concat(m,"/").concat(e),add:function(){return l(e)}})},e)}))}),(0,r.tZ)(We.Z,{size:"small",onClick:function(){u.length>0&&l(u[Math.floor(Math.random()*u.length)])},children:"I\u2019m Feeling Lucky"})]})]}),(0,r.tZ)(en(),{id:"d616aed56d26af98",children:".assets.jsx-d616aed56d26af98{padding:var(--space-24)}.box.jsx-d616aed56d26af98{width:100%;height:320px;overflow-x:hidden;overflow-y:scroll}"})]})};function La(e){var n=e.url,t=e.add;return(0,r.BX)(r.HY,{children:[(0,r.tZ)("img",{src:n,loading:"lazy",onClick:t,alt:"sprite asset",className:"jsx-4ad892a0258c4ced entry"}),(0,r.tZ)(en(),{id:"4ad892a0258c4ced",children:".entry.jsx-4ad892a0258c4ced{padding:var(--space-16);height:120px;-ms-interpolation-mode:nearest-neighbor;image-rendering:-webkit-optimize-contrast;image-rendering:-moz-crisp-edges;image-rendering:-o-pixelated;image-rendering:pixelated;-webkit-border-radius:var(--border-radius-4);-moz-border-radius:var(--border-radius-4);border-radius:var(--border-radius-4)}.entry.jsx-4ad892a0258c4ced:hover{cursor:pointer;background:var(--background-root)}"})]})}function za(e){var n=e.close,t=e.entries,i=e.onFileOpen,o=(0,pe.Z)().fs,a=(0,wa.Z)(n,[]),u=d.useRef(null),p=(0,on.Z)().showError,f=(0,w.Z)(d.useState({name:"",width:32,height:32}),2),h=f[0],v=f[1];d.useEffect((function(){u.current&&u.current.focus()}),[u]);var m=function(){if(0!==h.name.length){var e=h.width,r=h.height;if(isNaN(e)||isNaN(r)||e<=0||r<=0)p("invalid width / height!");else if(e>256||r>256)p("only supports sprites smaller than 256x256 yet");else{var a="".concat(h.name,".pedit"),l="sprites/".concat(a);t.includes(a)?p("sprite '".concat(h.name,"' already exists")):(o.writeFile(l,bt.Z.from(JSON.stringify({fromKaboom:!0,width:h.width,height:h.height}))).then((function(){i(l)})),n())}}else p("invalid 'name'")},g=(0,Ln.H)();return(0,r.tZ)("div",{ref:a,className:"dialog",onKeyDown:Ca({Escape:n,Enter:m}),children:(0,r.tZ)(se.Tg,{elevated:!0,css:[l.l0.borderRadius(8),l.l0.p(8),l.l0.mt(8)],children:(0,r.BX)(c.G,{css:[l.l0.colWithGap(16)],children:[(0,r.BX)(c.G,{css:[l.l0.colWithGap(4)],children:[(0,r.tZ)("label",{htmlFor:g("name"),children:(0,r.tZ)(s.xv,{color:"dimmer",variant:"small",multiline:!1,children:"Name"})}),(0,r.tZ)(Pa.II,{id:g("name"),ref:u,value:h.name,onChange:function(e){v((0,he.Z)((0,R.Z)({},h),{name:e.target.value}))}})]}),(0,r.BX)(c.G,{css:[l.l0.rowWithGap(8)],children:[(0,r.BX)(c.G,{css:[l.l0.colWithGap(4),{flex:"1 1 0px"}],children:[(0,r.tZ)("label",{htmlFor:g("width"),children:(0,r.tZ)(s.xv,{color:"dimmer",variant:"small",multiline:!1,children:"Width"})}),(0,r.tZ)(Pa.II,{id:g("width"),value:"".concat(h.width),onChange:function(e){return v((0,he.Z)((0,R.Z)({},h),{width:parseInt(e.target.value,10)||0}))}})]}),(0,r.BX)(c.G,{css:[l.l0.colWithGap(4),{flex:"1 1 0px"}],children:[(0,r.tZ)("label",{htmlFor:g("height"),children:(0,r.tZ)(s.xv,{color:"dimmer",variant:"small",multiline:!1,children:"Height"})}),(0,r.tZ)(Pa.II,{id:g("height"),value:"".concat(h.height),onChange:function(e){return v((0,he.Z)((0,R.Z)({},h),{height:parseInt(e.target.value,10)||0}))}})]})]}),(0,r.BX)(c.G,{css:[l.l0.rowWithGap(12),l.l0.justify.end],children:[(0,r.tZ)(ce.zx,{onClick:n,text:"Cancel"}),(0,r.tZ)(ce.zx,{colorway:"primary",onClick:m,text:"Create",iconLeft:(0,r.tZ)(gt.Z,{})})]})]})})})}var Oa=function(e){var n=e.onFileOpen,t=(0,pe.Z)().fs,i=(0,on.Z)().showError,o=(0,ze.R3)(),a=(0,ze.Qt)(),l=(0,w.Z)(d.useState(!1),2),s=l[0],c=l[1],u=(0,w.Z)(d.useState(!1),2),p=u[0],f=u[1],h=(0,w.Z)(d.useState(null),2),v=h[0],m=h[1],g=(0,Ba.Z)(o),Z=(0,Da.Z)({fs:t,onContentProcess:function(e,n){if(n.endsWith("pedit")){var t=JSON.parse(e.toString());if(!t.fromKaboom)return t.frames[0]}else{var r=(0,Un.yC)(n);if(r)return"data:".concat(r,";base64,").concat(e.toString("base64"))}return""}}),b=(xa({path:"sprites",initialExpanded:!0,fs:t}).children||[]).filter((function(e){return e.type===An.Tv.File})).map((function(e){return e.filename})).sort(),x=["image/png","image/jpeg",".pedit"],y=function(e){var n="sprites/".concat(e.name);if(b.includes(n))return i("sprite '".concat((0,Un.eb)(e.name),"' already exists"));e.arrayBuffer().then((function(e){t.writeFile(n,bt.Z.from(e))}))},k=[{icon:(0,r.tZ)(Ga.Z,{}),action:function(){return f(!0)}},{icon:(0,r.tZ)(co.Z,{}),action:function(){return Sa(y,x)}},{icon:(0,r.tZ)(gt.Z,{}),action:function(){return c(!0)}}];return(0,r.BX)(ha,{fileDrag:{accept:x,onDrop:y},children:[(0,r.tZ)(da,{sub:!0,title:"Sprites",actions:k}),(0,r.tZ)(ma.Z,{height:"4px"}),(0,r.tZ)("div",{className:"jsx-286709118fe5858",children:b.map((function(e){var l="sprites/".concat(e),s=(0,Un.r6)(e),c=(0,Un.eb)(e),u=Z(l),d=g?[{name:"Insert load code",action:function(){var e,n,t,r="".concat("pedit"===s?"loadPedit":"loadSprite","(").concat(JSON.stringify(c),", ").concat(JSON.stringify(l),");");g({code:r,insertAt:null!==(t=null===(e=a())||void 0===e||null===(n=e.position)||void 0===n?void 0:n.offset)&&void 0!==t?t:0})}}]:[];return(0,r.tZ)(Ta,{isActive:l===o,onClick:function(){return n(l)},onRename:function(e){t.moveFile(l,"sprites/".concat(e,".").concat(s)).then((function(e){e.error&&i("failed to rename")}))},icon:(0,r.tZ)("div",{className:"jsx-286709118fe5858 preview-img",children:u.state===Da.j.Ready&&(0,r.tZ)("img",{src:u.content,alt:"",className:"jsx-286709118fe5858"})}),name:c,options:(0,Qe.Z)(d).concat([{name:"Rename",action:function(){}},{name:"Delete",action:function(){return m(l)},danger:!0}])},c)}))}),s?(0,r.tZ)(za,{entries:b,close:function(){return c(!1)},onFileOpen:n}):null,v?(0,r.tZ)(tn.u,{isOpen:Boolean(v),onRequestClose:function(){return m(null)},children:(0,r.tZ)(ka.Z,{danger:!0,prompt:"Delete sprite '".concat((0,Un.eb)(v),"' ?"),desc:"Are you sure you want to delete this sprite? This action cannot be undone.",confirmText:"Yes, delete this sprite",icon:(0,r.tZ)(Ro.Z,{}),onCancel:function(){return m(null)},onConfirm:function(){t.deleteFile(v),m(null)}})}):null,(0,r.tZ)(tn.u,{isOpen:p,onRequestClose:function(){return f(!1)},maxWidth:872,children:(0,r.tZ)(Ua,{kind:"sprites",renderItem:La,onRequestClose:function(){return f(!1)},openFile:n})}),(0,r.tZ)(en(),{id:"286709118fe5858",children:".preview-img.jsx-286709118fe5858{width:var(--space-32);height:var(--space-32);display:-webkit-box;display:-webkit-flex;display:-moz-box;display:-ms-flexbox;display:flex;-webkit-box-pack:center;-webkit-justify-content:center;-moz-box-pack:center;-ms-flex-pack:center;justify-content:center;-webkit-box-align:center;-webkit-align-items:center;-moz-box-align:center;-ms-flex-align:center;align-items:center;overflow:hidden}.preview-img.jsx-286709118fe5858 img.jsx-286709118fe5858{width:100%;-ms-interpolation-mode:nearest-neighbor;image-rendering:-webkit-optimize-contrast;image-rendering:-moz-crisp-edges;image-rendering:-o-pixelated;image-rendering:pixelated;image-rendering:-webkit-optimize-contrast;image-rendering:-moz-crisp-edges;image-rendering:crisp-edges}"})]})};function Xa(e){var n=e.name,t=e.url,i=e.add;return(0,r.BX)(Me.Ug,{justify:"space-between",align:"center",children:[(0,r.BX)(Me.gC,{spacing:1,children:[(0,r.tZ)(Ne.Z,{children:n}),(0,r.tZ)("audio",{src:t,controls:!0})]}),(0,r.tZ)(We.Z,{onClick:i,children:"Import"})]})}var ja=function(e){var n=e.onFileOpen,t=(0,pe.Z)().fs,i=(0,ze.R3)(),o=(0,ze.Qt)(),a=(0,on.Z)().showError,l=(0,w.Z)(d.useState(null),2),s=l[0],c=l[1],u=(0,w.Z)(d.useState(!1),2),p=u[0],f=u[1],h=(0,Ba.Z)(i),v=(xa({path:"sounds",initialExpanded:!0,fs:t}).children||[]).filter((function(e){return e.type===An.Tv.File})).map((function(e){return e.filename})).sort(),m=["audio/ogg","audio/mpeg","audio/wav"],g=function(e){var n="sounds/".concat(e.name);if(v.includes(n))return a("sound '".concat((0,Un.eb)(e.name),"' already exists"));e.arrayBuffer().then((function(e){t.writeFile(n,bt.Z.from(e))}))},Z=[{icon:(0,r.tZ)(Ga.Z,{}),action:function(){return f(!0)}},{icon:(0,r.tZ)(co.Z,{}),action:function(){return Sa(g,m)}}];return(0,r.BX)(ha,{fileDrag:{accept:m,onDrop:g},children:[(0,r.tZ)(da,{sub:!0,title:"Sounds",actions:Z}),(0,r.tZ)(ma.Z,{height:"4px"}),(0,r.tZ)("div",{children:v.map((function(e){var l,s=(0,Un.eb)(e),u="sounds/".concat(e),d=h?[{name:"Insert load code",action:function(){var e,n;return h({insertAt:null!==(l=null===(e=o())||void 0===e||null===(n=e.position)||void 0===n?void 0:n.offset)&&void 0!==l?l:0,code:"loadSound(".concat(JSON.stringify(s),", ").concat(JSON.stringify(u),");")})}}]:[];return(0,r.tZ)(Ta,{isActive:u===i,onClick:function(){return n(u)},onRename:function(n){t.moveFile(u,"sounds/".concat(n,".").concat((0,Un.r6)(e))).then((function(e){e.error&&a("failed to rename")}))},name:s,options:(0,Qe.Z)(d).concat([{name:"Rename",action:function(){}},{name:"Delete",action:function(){return c(u)},danger:!0}])},s)}))}),s?(0,r.tZ)(tn.u,{isOpen:Boolean(s),onRequestClose:function(){return c(null)},children:(0,r.tZ)(ka.Z,{danger:!0,prompt:"Delete sound '".concat((0,Un.eb)(s),"' ?"),desc:"Are you sure you want to delete this sound? This action cannot be undone.",confirmText:"Yes, delete this sound",icon:(0,r.tZ)(Ro.Z,{}),onCancel:function(){return c(null)},onConfirm:function(){t.deleteFile(s),c(null)}})}):null,(0,r.tZ)(tn.u,{isOpen:p,onRequestClose:function(){return f(!1)},maxWidth:872,children:(0,r.tZ)(Ua,{kind:"sounds",renderItem:Xa,onRequestClose:function(){return f(!1)},onAdd:function(e,n){return new window.Audio(n).play()},openFile:n})})]})},Na=t(88477);function Ma(e){var n=e.file,t=e.name,i=(0,ut.cT)();return(0,r.BX)("div",{onClick:function(){i({pane:{type:"markdown",data:{path:n}}})},className:"jsx-148e6ca45d3ccd5a entry",children:[(0,r.BX)(Me.Ug,{spacing:1,align:"center",children:[(0,r.tZ)(Na.Z,{}),(0,r.tZ)(Ne.Z,{foreground:2,fontWeight:"regular",children:null!==t&&void 0!==t?t:(0,Un.eb)(n)})]}),(0,r.tZ)(en(),{id:"148e6ca45d3ccd5a",children:".entry.jsx-148e6ca45d3ccd5a{cursor:pointer}"})]})}var Fa=function(){var e=(0,w.Z)(d.useState(!0),2),n=e[0],t=e[1],i=(0,w.Z)(d.useState(!1),2),o=i[0],a=i[1],l=(0,pe.Z)().fs,s=xa({path:"learn",initialExpanded:!0,fs:l});d.useEffect((function(){var e=!1;return l.stat("README.md").then((function(n){e||n.exists&&a(!0)})),function(){e=!0}}),[l]);var c=(s.children||[]).filter((function(e){return e.type===An.Tv.File&&(0,Un.gK)(e.filename)})).map((function(e){return e.filename})).sort();return(0,r.BX)(ha,{children:[(0,r.tZ)(da,{sub:!0,title:"Learn",actions:[{icon:(0,r.tZ)(Vr.Z,{rotate:n?0:-90}),action:function(){return t(!n)}}]}),n?(0,r.BX)(Me.gC,{spacing:1,children:[(0,r.tZ)("div",{}),o?(0,r.tZ)(Ma,{name:"Intro",file:"README.md"}):null,c.map((function(e){return(0,r.tZ)(Ma,{file:"learn/".concat(e)},e)}))]}):null]})};function Wa(e){var n=e.onFileOpen;return(0,r.tZ)(c.G,{css:[l.l0.p(8),l.l0.flex.growAndShrink(1),l.l0.overflow("scroll"),{userSelect:"none"}],children:(0,r.BX)(Me.gC,{spacing:1,children:[(0,r.tZ)(ua,{}),(0,r.tZ)(va,{openFile:n}),(0,r.tZ)(Ia,{onFileOpen:n}),(0,r.tZ)(Oa,{onFileOpen:n}),(0,r.tZ)(ja,{onFileOpen:n}),(0,r.tZ)(Fa,{}),(0,r.tZ)("div",{}),(0,r.tZ)(We.Z,{Icon:aa.Z,size:"small",onClick:function(){return window.open("https://kaboomjs.com")},children:"Docs"}),(0,r.tZ)(We.Z,{Icon:aa.Z,size:"small",onClick:function(){return window.open("https://kaboomjs.com/play")},children:"Examples"}),(0,r.tZ)(We.Z,{Icon:aa.Z,size:"small",onClick:function(){return window.open("https://kaboomjs.com/doc/migration-3000")},children:"v3000 migration guide"})]})})}function Va(){var e=(0,ut.CA)();return(0,r.tZ)(Wa,{onFileOpen:function(n){return e({path:n})}})}var Ha={title:"Kaboom",content:(0,r.tZ)(Va,{})},Ya=t(73162),qa=t(70523),Ka=(0,xe.X)({header:[l.l0.fontWeight.medium]});function $a(){var e=Di(),n=(0,ri.Z)((function(n){n.height&&e({id:Ni.Resources,preferredHeight:n.height})}));return(0,r.tZ)(c.G,{innerRef:n,children:(0,r.tZ)(Ya.Kq,{})})}function Qa(e){var n=(0,qa.Z)();return e.collapsed?(0,r.tZ)(Ya.lR,{resources:n}):(0,r.tZ)(c.G,{css:[Ka.header],children:"Repl Resources"})}var Ja={title:(0,r.tZ)(Qa,{collapsed:!0}),content:(0,r.tZ)($a,{})},el=t(86419),nl=t(23271),tl=function(e){return(0,i.iv)({"body *":{cursor:"".concat(e," !important")}})},rl=(0,i.iv)({"body *":{userSelect:"none",WebkitTouchCallout:"none",WebkitUserSelect:"none"}}),il={"n-resize":tl("n-resize"),"ne-resize":tl("ne-resize"),"nesw-resize":tl("nesw-resize"),"s-resize":tl("s-resize"),"se-resize":tl("se-resize"),"sw-resize":tl("sw-resize"),"e-resize":tl("e-resize"),"ew-resize":tl("ew-resize"),"row-resize":tl("row-resize"),"col-resize":tl("col-resize"),grabbing:tl("grabbing")};function ol(e){var n=e.cursor;return(0,r.tZ)(i.xB,{styles:[rl,il[n]]})}var al=t(46995),ll=t(3455),sl=t(2255),cl=t(19522),ul={root:l.l0.px(4),rowWrap:(0,i.iv)([l.l0.borderRadius(8)]),row:(0,i.iv)([de.gU.nofill,l.l0.rowWithGap(8),l.l0.p(4),l.l0.minHeight(32),l.l0.align.center,{transition:"initial"}]),icon:(0,i.iv)([l.l0.position.relative,{"& > svg":l.l0.color.foregroundDimmer}]),textWrap:[l.l0.colWithGap(2),l.l0.flex.growAndShrink(1)],heading:[l.l0.flex.growAndShrink(1),{opacity:.5}],text:[l.l0.flex.growAndShrink(1)]};function dl(e){var n=e.title,t=e.icon,i=e.active,o=e.highlightRanges,a=e.heading,u=e.dragRef;return(0,r.tZ)(c.G,{css:ul.root,children:(0,r.tZ)(se.Tg,{elevated:i,css:ul.rowWrap,children:(0,r.BX)(se.Tg,{innerRef:u,css:ul.row,children:[(0,r.tZ)(c.G,{css:ul.icon,children:t}),(0,r.BX)(c.G,{css:ul.textWrap,children:[a?(0,r.tZ)(s.xv,{variant:"small",color:"dimmest",css:ul.heading,multiline:!1,children:a}):null,(0,r.tZ)(s.xv,{multiline:!1,css:ul.text,color:(null===o||void 0===o?void 0:o.length)?"dimmest":"default",children:(null===o||void 0===o?void 0:o.length)?(0,r.tZ)(sl.xK,{style:{color:l.TV.foregroundDimmest},matchStyle:{fontWeight:l.TV.fontWeightBold,color:l.TV.foregroundDefault},source:n,matches:o.map((function(e){return{column:e.from,length:e.to-e.from}}))}):n})]})]})})})}var pl=(0,d.createContext)({toolTourMap:{}}),fl=function(e){return(0,d.useContext)(pl).toolTourMap[e.type]},hl=function(e){var n=e.children;return(0,r.tZ)(pl.Provider,{value:{toolTourMap:{}},children:n})},vl=t(34204),ml=t(71321),gl={38:20},Zl={root:(0,i.iv)([de.gU.filled,l.l0.position.relative,l.l0.center,l.l0.borderRadius(8),l.l0.overflow("hidden"),{"& > svg":l.l0.color.foregroundDimmer}]),hovered:(0,i.iv)({backgroundColor:de.vb.interactiveBackgroundActive,"& > svg":l.l0.color.foregroundDefault}),active:(0,i.iv)([de.gU.filled["@media (hover: hover)"][":not([disabled])"][":active"],{"& > svg":l.l0.color.foregroundDimmer}]),focused:(0,i.iv)([{boxShadow:"0 0 0 2px "+l.TV.accentPrimaryDefault,outline:"2px solid transparent",outlineOffset:"4px"}])};function bl(e){var n=e.indicator,t=e.children,i=e.isDragging,o=e.className,a=e.size,l=void 0===a?38:a;return(0,r.BX)(c.G,{className:o,css:i?[Zl.root,Zl.active]:Zl.root,style:{width:l,height:l},children:[(0,d.cloneElement)(t,{size:gl[l]}),n?(0,r.tZ)(ml.B,{small:!0}):null]})}var xl={root:(0,i.iv)([l.l0.viewStyle,l.l0.reset.button,l.l0.colWithGap(4),l.l0.cursor.pointer,l.l0.center,l.l0.pt(2),l.l0.pt(4),{"&:hover":[l.l0.color.foregroundDefault]},{"&:hover .text":[l.l0.color.foregroundDefault]},{"&:hover .icon":[Zl.hovered]},{"&:active .icon":[Zl.active]},{"&:focus-visible .icon":[Zl.focused]}]),text:(0,i.iv)([l.l0.flex.growAndShrink(1),{fontSize:10}])};function yl(e){var n=e.pane,t=e.onClick,i=e.dragRef,o=e.buttonRef,a=e.onKeyDown,l=e.tabIndex,s=(0,it.Se)(),c=s.Icon({pane:n,size:20}),u=s.getTitle(n),p=(0,ze.b2)({paneType:n.type}),f=fl(n),h=(0,vl.lq)(null===f||void 0===f?void 0:f.buttonRef,o,i),v=(0,d.useCallback)((function(e){t(e),null===f||void 0===f||f.dismissTour()}),[t,f]);return(0,r.BX)("button",{css:xl.root,onClick:v,ref:h,onKeyDown:a,tabIndex:l,children:[(0,r.tZ)(bl,{className:"icon",indicator:p,children:c}),(0,r.tZ)(kl,{className:"text",children:u})]})}var wl={root:(0,i.iv)([l.l0.flex.growAndShrink(1),{fontSize:10,textAlign:"center"}])};function kl(e){var n=e.children,t=e.className;return(0,r.tZ)(s.xv,{className:t,css:wl.root,multiline:!1,children:n})}var Cl={root:(0,i.iv)([l.l0.position.absolute]),icon:(0,i.iv)([l.l0.shadow(2)]),textContainer:(0,i.iv)([l.l0.position.absolute,l.l0.left("50%"),l.l0.bottom("0"),l.l0.width("200%"),l.l0.center,{transform:"translate(-50%, calc(100% + ".concat(4,"px))")}])};function Sl(e){var n=e.pane,t=e.x,i=e.y,o=(0,it.Se)(),a=o.Icon({pane:n,size:20}),l=o.getTitle(n),s=(0,ze.b2)({paneType:n.type});return(0,r.BX)(c.G,{css:Cl.root,style:{transform:"translate(".concat(t,"px, ").concat(i,"px)")},children:[(0,r.tZ)(bl,{isDragging:!0,css:Cl.icon,indicator:s,children:a}),(0,r.tZ)(c.G,{css:Cl.textContainer,children:(0,r.tZ)(kl,{children:l})})]})}var Rl={root:(0,i.iv)([l.l0.position.absolute,l.l0.shadow(2),l.l0.borderRadius(8),l.l0.minWidth(100)])};function Tl(e){var n=e.pane,t=e.x,i=e.y,o=(0,it.Se)(),a=o.Icon({pane:n,size:20}),l=o.getTitle(n);return(0,r.tZ)(c.G,{css:Rl.root,style:{transform:"translate(".concat(t,"px, ").concat(i,"px)")},children:(0,r.tZ)(dl,{active:!0,icon:a,title:l})})}function El(){var e=(0,ll.u)();if(!e.display)return null;var n=e.item,t=e.monitor.getSourceClientOffset();return t?n.grid?(0,r.BX)(r.HY,{children:[(0,r.tZ)(ol,{cursor:"grabbing"}),(0,r.tZ)(Sl,{pane:n.pane,x:t.x,y:t.y})]}):(0,r.BX)(r.HY,{children:[(0,r.tZ)(ol,{cursor:"grabbing"}),(0,r.tZ)(Tl,{pane:n.pane,x:t.x,y:t.y})]}):null}var Il=(0,i.iv)({position:"fixed",pointerEvents:"none",zIndex:ut.MI.filetreeDragLayer,left:0,top:0,width:"100%",height:"100%"});function Gl(){var e=(0,al.f)((function(e){return{item:e.getItem(),itemType:e.getItemType(),isDragging:e.isDragging()}})),n=e.isDragging,t=e.itemType===el.z.NewPane;return n&&t?(0,r.tZ)("div",{css:Il,children:(0,r.tZ)(El,{})}):null}var Dl=t(1169),Bl=t(1468),Pl={ghostwriterChat:{background:l.TV.backgroundDefault,foreground:l.TV.blurpleStronger},deployments:{background:l.TV.backgroundDefault,foreground:l.TV.greenStrongest},docs:{background:l.TV.backgroundDefault,foreground:l.TV.yellowStrongest},chat:{background:l.TV.backgroundDefault,foreground:l.TV.blueStronger},threadInbox:{background:l.TV.backgroundDefault,foreground:l.TV.blueStronger},packager:{background:l.TV.backgroundDefault,foreground:l.TV.purpleStrongest},git:{background:l.TV.backgroundDefault,foreground:l.TV.greenStrongest},debugger:{background:l.TV.backgroundDefault,foreground:l.TV.orangeStronger},database:{background:l.TV.backgroundDefault,foreground:l.TV.blurpleStronger},shell:{background:l.TV.backgroundDefault,foreground:l.TV.blueStrongest},runnerOutput:{background:l.TV.backgroundDefault,foreground:l.TV.yellowStrongest},webview:{background:l.TV.backgroundDefault,foreground:l.TV.foregroundDimmer},replAuth:{background:l.TV.backgroundDefault,foreground:l.TV.orangeStrongest},adminPanel:{background:l.TV.backgroundDefault,foreground:l.TV.redStronger},unitTests:{background:l.TV.backgroundDefault,foreground:l.TV.greenStrongest},extensionStore:{background:l.TV.backgroundDefault,foreground:l.TV.yellowStronger},neon:{background:l.TV.backgroundDefault,foreground:l.TV.blueStrongest},sshConfigurator:{background:l.TV.backgroundDefault,foreground:l.TV.yellowStrongest},preferences:{background:l.TV.backgroundDefault,foreground:l.TV.greyStrongest}},_l=(0,Hr.$)(["background","foreground"]),Al=_l.cssVars,Ul=_l.styleTokens,Ll={root:(0,i.iv)([l.l0.viewStyle,l.l0.reset.button,l.l0.colWithGap(4),l.l0.cursor.pointer,l.l0.center,l.l0.pt(2),l.l0.pt(4),{"&:hover":[l.l0.color.foregroundDefault],"&:active .frame":{opacity:.5},"&:focus-visible .icon":[{boxShadow:"0 0 0 2px ".concat(Ul.foreground),outline:"2px solid transparent",outlineOffset:"4px"}]}]),text:[l.l0.flex.growAndShrink(1),{fontSize:10}]},zl={root:(0,i.iv)([de.gU.filled,l.l0.position.relative,l.l0.center,l.l0.borderRadius(8),{"> svg":{filter:"drop-shadow(0 0 3px rgba(255, 255, 255, 0.5))"}},{background:Ul.background,border:"none","& > svg":{fill:Ul.foreground},"& img":[l.l0.borderRadius(8)]}]),frame:(0,i.iv)([l.l0.position.absolute,l.l0.top(0),l.l0.left(0),l.l0.right(0),l.l0.bottom(0),l.l0.borderRadius(8),{border:"1px solid ".concat(Ul.foreground),opacity:.15}])};function Ol(e){var n,t=e.indicator,i=e.children,o=e.className,a=e.size,l=void 0===a?38:a,s=e.background,u=e.foreground;return(0,r.BX)(c.G,{className:o,css:zl.root,style:(n={width:l,height:l},(0,C.Z)(n,Al.background,s),(0,C.Z)(n,Al.foreground,u),n),children:[(0,r.tZ)(c.G,{className:"frame",css:zl.frame}),(0,d.cloneElement)(i,{size:gl[l]}),t?(0,r.tZ)(ml.B,{}):null]})}var Xl={background:l.TV.backgroundDefault,foreground:l.TV.foregroundDimmer};function jl(e){var n,t,i=e.pane,o=e.onClick,a=e.dragRef,s=e.buttonRef,c=e.onKeyDown,u=e.tabIndex,p=(0,it.Se)(),f=p.Icon({pane:i,size:20}),h=p.getTitle(i),v=(0,ze.b2)({paneType:i.type});(0,x.P5)({controlName:"flag-colored-tool-icons-ghostwriter-marketing",logFlagToAnalytics:!1})&&"ghostwriterChat"===i.type&&(n={background:l.TV.blurpleDimmest,foreground:l.TV.blurpleStrongest});var m=null!==(t=null!==n&&void 0!==n?n:Pl[i.type])&&void 0!==t?t:Xl,g=m.background,Z=m.foreground,b=fl(i),y=(0,vl.lq)(null===b||void 0===b?void 0:b.buttonRef,s,a),w=(0,d.useCallback)((function(e){o(e),null===b||void 0===b||b.dismissTour()}),[o,b]);return(0,r.BX)("button",{css:Ll.root,onClick:w,ref:y,onKeyDown:c,tabIndex:u,children:[(0,r.tZ)(Ol,{background:g,foreground:Z,className:"icon",indicator:v,children:f}),(0,r.tZ)(kl,{className:"text",children:h})]})}function Nl(e){return(0,x.P5)({controlName:"flag-colored-tool-icons",logFlagToAnalytics:!1})?(0,r.tZ)(jl,(0,R.Z)({},e)):(0,r.tZ)(yl,(0,R.Z)({},e))}function Ml(e){var n=e.pane,t=(0,ut.cT)(),i=(0,ut.N8)(),o=(0,w.Z)((0,nl.c)({type:el.z.NewPane,item:function(){return{type:el.z.NewPane,pane:n,grid:!0}},end:function(){i()}}),3),a=o[1],l=o[2],s=d.useRef(null),c=(0,w.Z)((0,Dl.XZ)(s,!1),4),u=c[0],p=c[1],f=c[2],h=c[3];return(0,Dl.Ym)(p,s),(0,cl.K)(l),(0,r.tZ)(Nl,{pane:n,dragRef:a,buttonRef:s,tabIndex:u,onKeyDown:f,onClick:function(){h(),t({pane:n}),function(e){var n={action:"opened"};switch(Bl.c_.addBreadcrumb({category:"dock",message:"Opened ".concat(e)}),(0,g.j)(g.U3.TOOL_OPENED,{source:"Sidebar Dock",tool:e}),e){case"git":return(0,g.j)(g.U3.GIT_FEATURE_USED,{action:"pane-opened",source:"git-pane"});case"envEditor":return(0,g.j)(g.U3.ENV_EDITOR_USED,n);case"database":return(0,g.j)(g.U3.DATABASE_USED,{action:"opened",type:"ReplitKV",provider:"replit"});case"neon":return(0,g.j)(g.U3.DATABASE_USED,{action:"opened",type:"PostgreSQL",provider:"neon"});case"replAuth":return(0,g.j)(g.U3.AUTH_SIDEBAR_USED,n);case"packager":return(0,g.j)(g.U3.PACKAGE_MANAGER_USED,n);case"unitTests":return(0,g.j)(g.U3.REPL_UNIT_TEST_USED,n);case"debugger":return(0,g.j)(g.U3.DEBUGGER_USED,n);case"extensionStore":(0,g.j)(g.U3.EXTENSION_STORE_VIEWED,{source:"tools-sidebar"})}}(n.type)}})}var Fl=(0,i.iv)([l.l0.pl(8),{display:"grid",gap:8,gridTemplateColumns:"repeat(auto-fill, minmax(".concat(60,"px, 1fr))"),gridAutoFlow:"dense"}]);function Wl(){var e=ji(Ni.Dock),n=(0,ft.B)(),t=n.length,i=Di();return(0,d.useEffect)((function(){var e=Math.min(300,40*t);i({id:Ni.Dock,preferredHeight:e})}),[t,i]),(0,r.tZ)(hl,{panes:n,isCollapsed:e,children:(0,r.BX)(r.HY,{children:[(0,r.tZ)(Gl,{}),(0,r.tZ)(c.G,{role:"toolbar",css:Fl,"aria-label":"Dock","aria-orientation":"horizontal",children:(0,r.tZ)(Dl.uP,{options:{direction:"horizontal",loopAround:!0},children:n.map((function(e){return(0,r.tZ)(Ml,{pane:e},"extension"===e.type?e.data.installationId:e.type)}))})})]})})}var Vl={title:"Tools",content:(0,r.tZ)(Wl,{})},Hl=t(12808),Yl={kaboom:Ha,files:oa,dock:Vl,resources:Ja},ql={root:(0,i.iv)([l.l0.rowWithGap(4),l.l0.align.center,l.l0.height(Ei),{userSelect:"none"}]),header:(0,i.iv)([l.l0.reset.button,l.l0.focusRing,l.l0.borderRadius(4),l.l0.ml(8),l.l0.flex.growAndShrink(1),l.l0.rowWithGap(4),l.l0.align.center,l.l0.cursor.pointer]),title:(0,i.iv)([l.l0.fontWeight.medium]),border:(0,i.iv)([l.l0.position.absolute,l.l0.top(0),l.l0.right(0),l.l0.width("calc(100% - ".concat(l.TV.space8,")")),{pointerEvents:"none",borderTop:"1px solid",borderColor:l.TV.outlineDimmest}]),content:(0,i.iv)([l.l0.flex.growAndShrink(1),l.l0.overflowY("auto"),l.l0.scrollbar.hidden])},Kl=(0,d.memo)((function(e){var n=ji(e.id),t=Xi(),i=Yl[e.id],o=i.title,a=i.controls;return(0,r.BX)(c.G,{css:ql.root,children:[(0,r.BX)(c.G,{id:"sidebar-section-header-".concat(e.id),tag:"button",onClick:function(){(0,g.j)(g.U3.WS_SIDEBAR_SECTION_TOGGLED,{section:e.id,action:n?"open":"close"}),t(e.id)},css:ql.header,"aria-expanded":!n,"aria-controls":"sidebar-section-content-".concat(e.id),children:[(0,r.tZ)(Hi.Z,{rotate:n?0:90}),"string"===typeof o?(0,r.tZ)(s.xv,{css:ql.title,multiline:!1,children:o}):d.cloneElement(o,{collapsed:n})]}),a||null]})})),$l=(0,d.memo)((function(e){var n=Yl[e.id].content,t=ji(e.id);return(0,r.tZ)(c.G,{id:"sidebar-section-content-".concat(e.id),inert:t?"true":void 0,css:[ql.content,"files"===e.id?l.l0.position.relative:{}],children:(0,r.tZ)(c.G,{css:l.l0.pb(8),children:n})})})),Ql={root:(0,i.iv)([l.l0.position.relative,l.l0.height(0),l.l0.width("100%"),{zIndex:1,"&:hover > div":{transform:"scaleY(2)"},cursor:"ns-resize"}]),hoverArea:(0,i.iv)([l.l0.position.relative,l.l0.height(8),l.l0.top(-4)])},Jl=(0,d.memo)((function(e){var n=ki(Fi),t=Vi({id:e.id});return(0,r.tZ)(c.G,{css:Ql.root,onPointerDown:function(t){Nr(t,{start:function(){n({type:"start",id:e.id})},move:function(e){var t=e.delta;n({type:"update",delta:t.y})},end:function(e){var t=e.delta;n({type:"end",delta:t.y})}})},children:(0,r.tZ)(c.G,{style:t?{transform:"scaleY(100)"}:void 0,css:Ql.hoverArea})})}));function es(e){var n=d.useRef(null),t=(0,Mt.T)(),i=Vi({id:e.id}),o=wi(Wi),a=Ui(e.id);return d.useEffect((function(){return(0,Hl.A)(n,"height",a.current+"px"),a.subscribe((function(e){(0,Hl.A)(n,"height",e+"px")}))}),[a]),(0,r.BX)(c.G,{innerRef:n,style:{zIndex:i?2:void 0,position:"relative",transition:t||o?void 0:"height 120ms ease-out"},children:[e.border?(0,r.tZ)(c.G,{css:ql.border}):null,(0,r.tZ)(Kl,{id:e.id}),(0,r.tZ)($l,{id:e.id}),e.resizable?(0,r.tZ)(Jl,{id:e.id}):null]})}var ns=t(91291),ts=t(29552),rs=t(52624),is=t(59937),os=t(39985),as=t(76357),ls={container:(0,i.iv)([l.l0.position.absolute,l.l0.top(0),l.l0.left(0),l.l0.width("100%"),l.l0.height("100%"),l.l0.minWidth(ut.T0)]),header:(0,i.iv)([l.l0.pl(8),{zIndex:3}]),content:(0,i.iv)([l.l0.flex.growAndShrink(1)]),footer:(0,i.iv)([l.l0.pl(8),l.l0.pt(4),l.l0.colWithGap(8),{zIndex:2}]),help:(0,i.iv)([l.l0.pb(8),l.l0.flex.growAndShrink(1),l.l0.justify.center])};function ss(){var e=(0,ut.cT)(),n=(0,Tt.gf)(Lt.id),t=Dt(),i=[{type:"button",key:"shortcuts",onClick:function(){t(),(0,g.j)(g.U3.KEYBOARD_SHORTCUTS_OPENED)},content:(0,r.BX)(r.HY,{children:[(0,r.tZ)(ns.Z,{}),(0,r.tZ)(s.xv,{multiline:!1,children:"Shortcuts"}),n?(0,r.tZ)(Tt.bM,{keyCombo:n,small:!0}):null]})}];return(0,r.BX)(c.G,{css:ls.footer,children:[(0,r.tZ)(mi.M,{}),(0,r.tZ)(c.G,{css:ls.help,children:(0,r.tZ)(oi.Z,{extraItems:i,onDocsClick:function(n){n.preventDefault(),e({pane:{type:"docs",data:{url:null}}})}})})]})}function cs(){var e=ki(Ai),n=ki(zi),t=(0,ii.oj)(),r=(0,d.useRef)(null),i=(0,x.P5)({controlName:"flag-resources-in-header",logFlagToAnalytics:!1});(0,d.useEffect)((function(){if(r.current){var n=r.current.getBoundingClientRect().height;e(t?{height:n,sections:[{id:Ni.Files,percent:0},{id:Ni.Kaboom,percent:60},{id:Ni.Dock,percent:40},{id:Ni.Resources,percent:0}]}:i?{height:n,sections:[{id:Ni.Files,percent:60},{id:Ni.Dock,percent:40}]}:{height:n,sections:[{id:Ni.Files,percent:60},{id:Ni.Dock,percent:40},{id:Ni.Resources,percent:0}]})}}),[e,t,i]);var o=(0,ri.Z)((function(e){e&&n(e.height)}),{wait:100,type:"debounce"});return(0,ti.l)(o,r)}var us=(0,d.memo)((function(){var e=function(){var e=(0,Ae.Z)(),n=(0,w.Z)(d.useState(null),2),t=n[0],r=n[1],i=(0,ut.CA)(),o=(0,$i.L)(),a=(0,dt.T)(!0),l=(0,d.useCallback)((function(e){return!a(e.filename)}),[a]),s=(0,pe.Z)().fs,c=(0,qi.Z)().preferences,u=(0,ut.lz)(),p="cmdOrCtrlKey"===(null===c||void 0===c?void 0:c.multiselectModifierKey)?"cmdOrCtrlKey":"altKey",f=(0,ze.AA)(),h=(0,d.useCallback)((function(e){return(0,go.mn)(e,f)}),[f]),v=(0,x.P5)({controlName:"flag-filetree-local-cache",logFlagToAnalytics:!1}),m=(0,so.av)().onContextMenu,g=Xo(),Z=(0,Yi.pR)({fs:s,filter:l,fontSize:c.fontSize,onFileDoubleClick:function(e,n){u(n)},onFileSelect:function(e){var n=e.path,t=e.type,r=e.event,a="click"===t&&"altKey"===p?(0,Ki.j)(r):r.altKey;i({path:n,newTab:a}),o(n,{newTab:a})},onCreate:function(e){e.type===An.Tv.File&&i({path:e.path})},multiselectModifierKey:p,onConflicts:function(e){return r({type:"conflicts",data:e})},onDeleteNodes:function(e){return r({type:"deleteNode",data:e})},onContextMenu:function(e,n){return m(e,{command:g(n,Z)})},autocomplete:h,localCacheKey:v?e+":sidebar":void 0}),b=(0,jo.O)();d.useEffect((function(){return Z.setFileStatus(b)}),[Z,b]);var y=(0,ze.Y_)();return(0,d.useEffect)((function(){function e(e){return n.apply(this,arguments)}function n(){return(n=(0,tt.Z)((function(e){return(0,rt.__generator)(this,(function(n){switch(n.label){case 0:return null===e?(Z.select(null),[2]):[4,Z.select({path:e,type:An.Tv.File})];case 1:return n.sent(),y.current!==e||Z.scrollToPath(e),[2]}}))}))).apply(this,arguments)}return e(y.current),y.subscribe(e)}),[y,Z]),{filetree:Z,activeModal:t,closeModal:function(){return r(null)}}}(),n=e.filetree,t=e.activeModal,i=e.closeModal,o=(0,is.HQ)();return(0,d.useEffect)((function(){return n.setPresenceState(o.current),o.subscribe(n.setPresenceState)}),[n,o]),(0,r.BX)(ea,{value:n,children:[(0,r.tZ)(ds,{}),(0,r.BX)(tn.u,{isOpen:Boolean(t),onRequestClose:i,children:["conflicts"===(null===t||void 0===t?void 0:t.type)?(0,r.tZ)(os.Z,{paths:t.data.conflicts.map((function(e){return e.path})),onCancel:i,onConfirm:function(){var e=t.data;"move"===e.type?n.move({nodes:e.nodes,to:e.to,overwrite:!0}):n.upload({files:e.files,parentPath:e.to,overwrite:!0}),i()}}):null,"deleteNode"===(null===t||void 0===t?void 0:t.type)?(0,r.tZ)(as.Z,(0,he.Z)((0,R.Z)({},(0,rs.B)(t.data.nodes)),{delete:function(){return t.data.confirm()},hideModal:i})):null]})]})})),ds=(0,d.memo)((function(){var e=wi(Li),n=cs(),t=(0,yr.Z)(u.y.Sidepane),i=(0,ts.Z)().isTutorial?null:t,o=e[e.length-1];return(0,r.BX)(c.G,{innerRef:i,css:ls.container,children:[(0,r.tZ)(c.G,{css:ls.header,children:(0,r.tZ)(vi,{})}),(0,r.tZ)(c.G,{css:ls.content,innerRef:n,children:e.map((function(e,n){return(0,r.tZ)(es,{id:e,resizable:e!==o,border:0!==n},e)}))}),(0,r.tZ)(ss,{})]})})),ps={id:"sidebar.toggle",name:"Toggle sidebar",description:"Opens or closes the sidebar",default:(0,Ut.l2)({cmdOrCtrl:!0,shift:!0,key:"b"})},fs=(0,Hr.$)(["width","visibility"]),hs=fs.cssVars,vs=fs.styleTokens,ms=(0,i.iv)([l.l0.height("100%"),l.l0.position.absolute,l.l0.top(0),l.l0.left(0),l.l0.flex.row,l.l0.flex.growAndShrink(1),l.l0.overflow("auto"),{width:vs.width,visibility:vs.visibility}]);function gs(){var e=(0,d.useRef)(null),n=(0,ut.Ap)();return(0,Fr.j)(e,n.width,(function(e){return(0,C.Z)({},hs.width,e+"px")})),(0,Fr.j)(e,n.isOpen,(function(e){return(0,C.Z)({},hs.visibility,e?"visible":"hidden")})),(0,r.BX)(r.HY,{children:[(0,r.tZ)(Ci,{children:(0,r.tZ)(c.G,{css:ms,innerRef:e,children:(0,r.tZ)(us,{})})}),(0,r.tZ)(ni,{})]})}var Zs=(0,d.memo)(gs),bs=t(36538),xs=t(17586),ys=t(47350),ws=t(23220),ks=t(46398),Cs=t(82781);var Ss={id:"DesktopAppNavMenu",title:"Native App Navigation",content:function(){return(0,r.tZ)(c.G,{children:(0,r.tZ)(s.xv,{children:"In the app, you can use this menu to switch between your Repls, create new ones, and open multiple workspace windows."})})}};function Rs(e){var n=e.targetElement,t=(0,Ve.Z)("workspace","desktop-app-nav-menu"),i=t.shouldDisplay,o=t.register,a=t.dismiss;return d.useEffect((function(){o()}),[o]),n&&i?(0,r.BX)(r.HY,{children:[(0,r.tZ)(ks.w,{targetElement:n}),(0,r.tZ)(Cs.k,{placement:"bottom-start",targetElement:n,activeStep:Ss,currentStepIndex:0,done:a,goto:function(){},totalSteps:1,disableAnimation:!0,onClickOutside:a})]}):null}var Ts=(0,xe.X)({button:_r,wrapper:[l.l0.borderRadius(8),l.l0.width(300),l.l0.maxHeight("60vh"),l.l0.flex.column],newReplButtonWrapper:[l.l0.p(8)],newWindowButtonWrapper:[l.l0.p(8),l.l0.pt(0)],replsListContainer:[l.l0.flex.shrink(1),l.l0.borderRadius(8)]});function Es(){var e=(0,d.useState)(!1),n=e[0],t=e[1],i=(0,d.useState)(!1),o=i[0],a=i[1],l=(0,b.useRouter)(),s=(0,d.useRef)(null);return(0,r.BX)(r.HY,{children:[(0,r.BX)(He.x,{background:"default",isOpen:n,onOpenChange:function(e){o||t(e)},placement:"bottom start",label:"Navigation menu",noArrow:!0,children:[function(e){var n=e.ref,t=(0,vr.Z)(e,["ref"]);return(0,r.BX)("button",(0,he.Z)((0,R.Z)({css:Ts.button,"data-cy":"global-nav-dropdown-btn",ref:(0,ti.l)(n,s)},t),{children:[(0,r.tZ)(Zr.N2,{color:cn.TV.foregroundDefault,size:20}),(0,r.tZ)(ur.Z,{color:cn.TV.foregroundDimmest,size:12})]}))},(0,r.BX)(c.G,{css:Ts.wrapper,children:[(0,r.tZ)(c.G,{css:Ts.newReplButtonWrapper,children:(0,r.tZ)(ce.zx,{colorway:"primary",text:"Create a Repl",iconLeft:(0,r.tZ)(gt.Z,{}),onClick:function(){return a(!0)}})}),(0,r.tZ)(c.G,{css:Ts.newWindowButtonWrapper,children:(0,r.tZ)(ce.zx,{text:"New window",iconLeft:(0,r.tZ)(ys.Z,{}),onClick:function(){ws.X.openNewWindow()}})}),(0,r.tZ)(c.G,{css:Ts.replsListContainer,children:(0,r.tZ)(bs.Z,{onClick:function(e,n){n?ws.X.openWindow(e):l.push({pathname:"/replEnvironmentDesktop",query:{replUrl:e}},{pathname:e})}})})]})]}),(0,r.tZ)(tn.u,{isOpen:o,onRequestClose:function(){return a(!1)},maxWidth:600,centered:!0,children:(0,r.tZ)(xs.Z,{onCancel:function(){return a(!1)}})}),(0,r.tZ)(Rs,{targetElement:s.current})]})}var Is=t(34937),Gs=t(80587),Ds=t(88254),Bs=t(28518),Ps=t(45157),_s=t(81462),As=t(65673),Us=t(11116),Ls=t(95308),zs=t(66195),Os=t(74230),Xs=t(14227),js=t(70232),Ns=t(65443),Ms=t(61029),Fs=t(85686),Ws=t(33280),Vs={query:_s.s8},Hs={query:Bs.BW};function Ys(){var e=(0,Ae.Z)(),n=(0,Ns.BZ)({variables:{replId:e}}),t=n.data,i=n.refetch,o="Repl"===(null===t||void 0===t?void 0:t.repl.__typename)?t.repl:null;return o?(0,r.tZ)(qs,{repl:o,refetch:i}):(0,r.tZ)(c.G,{css:[l.l0.center,l.l0.p(16)],children:(0,r.tZ)(Ze.Z,{})})}function qs(e){var n,t=e.repl,i=(0,x.P5)({controlName:"flag-storage-utilization",logFlagToAnalytics:!1}),o=(0,b.useRouter)(),a=(0,w.Z)(d.useState(null),2),u=a[0],p=a[1],f=(0,w.Z)(d.useState(null),2),h=f[0],v=f[1],m=(0,w.Z)(d.useState(t.hasGpu),2),Z=m[0],y=m[1],k=(0,w.Z)(d.useState(t.isRenamed?t.title:""),1)[0],C=(0,w.Z)(d.useState(t.description||""),2),T=C[0],E=C[1],I=(0,w.Z)(d.useState(t.rawTemplateLabel),1)[0],G=(0,qa.Z)(),D=(0,Ns.zu)().data,B=null===D||void 0===D||null===(n=D.currentUser)||void 0===n?void 0:n.userSubscriptionType,P=(0,on.Z)().showError;d.useEffect((function(){E(t.description||"")}),[t.description]);var _=(0,Za.Z)(),A=(0,Us.Z)(),U=d.useRef(t),L=(0,w.Z)((0,Ns.vi)({onError:function(e){return P((0,As.Z)(e.message))},onCompleted:function(e){var n=e.updateRepl.repl,r=U.current,i={};r.description!==n.description&&(i.description=n.description),r.title!==n.title&&(i.title=n.title),r.url!==n.url&&(i.url=n.url,o.push({pathname:A,query:{replUrl:n.url}},n.url+"#"+window.location.search)),r.isRenamed!==n.isRenamed&&(i.isRenamed=!!n.isRenamed),U.current=t}}),1)[0],z=(0,w.Z)((0,Ns.pr)({onCompleted:function(e){"UserError"===e.setAlwaysOn.__typename&&P(e.setAlwaysOn.message)},onError:function(e){return P((0,As.Z)(e.message))},refetchQueries:[Vs,Hs]}),2),O=z[0],X=z[1].loading,j=(0,w.Z)((0,Ns.vN)({onCompleted:function(e){"UserError"!==e.setGpu.__typename&&"UnauthorizedError"!==e.setGpu.__typename?((0,Xs.Z)({replId:t.id}).catch((function(e){Ds.Tb(e),_.current&&P("Something went wrong when adding a GPU to your Repl. Please refresh or try again.")})),_.current&&"Repl"===e.setGpu.__typename&&y(e.setGpu.hasGpu)):P(e.setGpu.message)},onError:function(e){Ds.Tb(e),P((0,As.Z)(e.message))},refetchQueries:[Vs,Hs]}),2),N=j[0],M=j[1].loading,F=(0,Ns.l9)({fetchPolicy:"cache-and-network",ssr:!1}),W=F.data,V=F.error,H=d.useMemo((function(){return!(!k||k===t.title)||(I!==t.rawTemplateLabel||!(""===T&&!t.description)&&T!==t.description)}),[t,k,T,I]),Y=(0,jt.Z)(H),q=d.useCallback((function(){if(H){var e={id:t.id,title:k.trim()||t.title,description:T,templateLabel:t.currentUserPermissions.changeTemplateLabel?I:void 0};L({variables:{input:e}})}}),[H,L,t,k,T,I]),K=(0,jt.Z)(q);d.useLayoutEffect((function(){return function(){Y.current&&K.current()}}),[K,Y]);var $=d.useCallback((function(e){switch(e){case"always-on":return"PowerUpCostsType"===t.powerUpCosts.__typename?t.powerUpCosts.alwaysOn.explanation:null;case"private":var n,r,i;return"UserPowerUpsTypes"===(null===W||void 0===W||null===(n=W.currentUser)||void 0===n?void 0:n.userPowerUpsByType.__typename)?null===(i=null===(r=W.currentUser.userPowerUpsByType)||void 0===r?void 0:r.privateRepls.cost)||void 0===i?void 0:i.explanation:null;case"gpu":var o,a;return"PowerUpCostsType"===t.powerUpCosts.__typename?null===(o=t.powerUpCosts)||void 0===o||null===(a=o.gpu)||void 0===a?void 0:a.explanation:null;default:(0,js.Z)(e)}}),[W,t]),Q=function(e){re.goTo({step:"power_up_details",powerUpCategory:e})},J=function(){L({variables:{input:{id:t.id,isPrivate:!t.isPrivate}},optimisticResponse:{__typename:"RootMutationType",updateRepl:{__typename:"UpdateReplPayload",repl:(0,he.Z)((0,R.Z)({},t),{isPrivate:!t.isPrivate})}},refetchQueries:[{query:Ns.WM,variables:{replId:t.id}},Vs,Hs]}),(0,g.j)(g.U3.PRIVATE_TOGGLED,{enabled:!t.isPrivate,source:"workspace_info_modal"})},ee=function(){if(!X){var e=!t.isAlwaysOn;O({variables:{replId:t.id,enabled:e},optimisticResponse:{__typename:"RootMutationType",setAlwaysOn:(0,he.Z)((0,R.Z)({},t),{__typename:"Repl",powerUpCosts:{__typename:"PowerUpCostsType",alwaysOn:{__typename:"PowerUpCostDetailType",cycles:0,explanation:S.Ch.ActivateExistingOrder},gpu:{__typename:"PowerUpCostDetailType",cycles:0,explanation:S.Ch.ActivateExistingOrder}},isAlwaysOn:e})}})}},ne=function(){if(!M){var e=!Z;N({variables:{replId:t.id,enabled:e},optimisticResponse:{__typename:"RootMutationType",setGpu:(0,he.Z)((0,R.Z)({},t),{__typename:"Repl",hasGpu:e,powerUpCosts:{__typename:"PowerUpCostsType",gpu:{__typename:"PowerUpCostDetailType",cycles:0,explanation:S.Ch.ActivateExistingOrder},alwaysOn:{__typename:"PowerUpCostDetailType",cycles:0,explanation:S.Ch.ActivateExistingOrder}}})}})}},te=(0,x.P5)({controlName:"flag-gpus",logFlagToAnalytics:!1}),re=(0,zs.P)({step:"not_shown"});return(0,r.tZ)("div",{css:{overflow:"auto",maxHeight:"80vh"},children:"not_shown"!==re.currentStep.step?(0,r.tZ)(Ls.s,(0,he.Z)((0,R.Z)({},re),{analyticsContext:"workspace_info_modal",onRequestPowerUp:(0,tt.Z)((function(){return(0,rt.__generator)(this,(function(e){switch(h){case null:case"boost":case"hosting_tier":break;case"always-on":ee();break;case"private":J();break;case"gpu":ne();break;default:(0,js.Z)(h)}return[2]}))}))})):(0,r.BX)(c.G,{css:[l.l0.p(8),l.l0.colWithGap(8)],children:[(0,r.BX)(c.G,{css:[l.l0.colWithGap(8)],children:[(0,r.tZ)(Ks,{resources:G}),t.currentUserPermissions.changeAlwaysOn!==S.fn.Disallowed&&(0,r.BX)(r.HY,{children:[(0,r.tZ)(Ws.R,{css:l.l0.mt(8)}),(0,r.tZ)(s.xv,{multiline:!1,css:{fontWeight:l.TV.fontWeightMedium},children:"Power ups"}),(0,r.tZ)(Ms.Z,{isAlwaysOn:t.isAlwaysOn,isAlwaysOnLoading:X||null==$("always-on"),isGpu:Z,isGpuLoading:Boolean(M||null==$("gpu")),canGpu:te,onAlwaysOnChange:function(){var e=$("always-on");v("always-on"),null==e||X?P("You're too fast for us! Please try again in a moment."):V?P("This action is currently unavailable. Please refresh and try again."):((0,g.j)(g.U3.POWER_UP_TOGGLE_REQUESTED,{powerUp:"always-on",setting:!t.isAlwaysOn,source:"workspace_info_modal",costExplanation:e}),t.isAlwaysOn||"NEEDS_CYCLES"!==e&&"SPEND_CYCLES"!==e?ee():Q("always-on"))},onGpuChange:function(){var e=$("gpu");v("gpu"),null!=e?V?P("This action is currently unavailable. Please refresh and try again."):((0,g.j)(g.U3.POWER_UP_TOGGLE_REQUESTED,{powerUp:"gpu",setting:!Z,source:"workspace_info_modal",costExplanation:e}),Z||"NEEDS_CYCLES"!==e&&"SPEND_CYCLES"!==e?ne():Q("gpu")):P("You're too fast for us! Please try again in a moment.")},showManageStorageModal:function(){return p(Fs.x.ManageStorage)},goToPowerUpDetails:function(e){return re.goTo({step:"power_up_details",powerUpCategory:e})}})]}),"HACKER_PRO"!==B?(0,r.tZ)(ce.zx,{outlined:!0,iconLeft:(0,r.tZ)(wr.Z,{}),text:"Upgrade",onClick:function(){(0,g.j)(g.U3.UPGRADE_SELECTED,{source:"workspace_info_modal"}),p(Fs.x.BuyCycles)}}):null]}),(0,r.tZ)(Ps.Z,{context:"workspace_info_modal",isOpen:u===Fs.x.PowerUp,uponPurchaseGoTo:"workspace",replTitle:t.title,onRequestClose:function(){p(null)},onRequestPowerUp:(0,tt.Z)((function(){return(0,rt.__generator)(this,(function(e){switch(e.label){case 0:switch(h){case null:case"boost":case"hosting_tier":break;case"always-on":ee();break;case"private":J();break;case"gpu":ne();break;default:(0,js.Z)(h)}return[4,new Promise((function(e){return setTimeout(e,3e3)}))];case 1:return e.sent(),p(null),[2]}}))})),powerUp:null!==h&&void 0!==h?h:"boost"},u),i?(0,r.tZ)(Os.s,{isOpen:u===Fs.x.ManageStorage,onRequestClose:function(){return p(null)}}):null,(0,r.tZ)(kr.Z,{initialTab:"default",isOpen:u===Fs.x.BuyCycles,onRequestClose:function(){return p(null)},uponPurchaseGoTo:"workspace",context:"workspace_info_modal",replTitle:t.title}),(0,r.tZ)(en(),{id:"9428185b7782bf0d",children:".always-on-indicator.jsx-9428185b7782bf0d{margin-left:var(--space-4);margin-right:var(--space-8);width:8px;height:8px;-webkit-border-radius:100%;-moz-border-radius:100%;border-radius:100%;background-color:var(--accent-green-default);-webkit-box-shadow:0 0 12px var(--accent-green-default);-moz-box-shadow:0 0 12px var(--accent-green-default);box-shadow:0 0 12px var(--accent-green-default)}"})]})})}function Ks(e){var n=e.resources;return(0,r.BX)(r.HY,{children:[(0,r.tZ)(s.xv,{multiline:!1,css:{fontWeight:l.TV.fontWeightMedium},children:"Resources"}),(0,r.tZ)(Gs.Z,{inactive:!1,resources:n}),(0,r.BX)(s.xv,{multiline:!0,color:"dimmer",variant:"small",children:["These resources are for the cloud machine that hosts this Repl."," ",(0,r.tZ)("a",{href:"https://blog.replit.com/repl-resources",target:"_blank",children:"Learn more"})," ","about resource limits."]})]})}var $s=(0,xe.X)({popover:[l.l0.width(360)],button:[de.gU.nofill,l.l0.height(32),l.l0.flex.row,l.l0.rowWithGap(4),l.l0.center,l.l0.py(2),l.l0.px(4),l.l0.borderRadius(6),l.l0.color.foregroundDefault]});function Qs(){var e=(0,w.Z)(d.useState(!1),2),n=e[0],t=e[1],i=(0,qa.Z)();return(0,r.BX)(He.x,{isOpen:n,onOpenChange:t,placement:"bottom start",label:"Repl resources",noArrow:!0,css:$s.popover,children:[function(e){var o=e.ref,a=(0,vr.Z)(e,["ref"]);return(0,r.BX)("button",(0,he.Z)((0,R.Z)({ref:o,"aria-label":"Repl resources","aria-expanded":n},a),{onClick:function(){(0,g.j)(g.U3.REPL_RESOURCES_OPENED),t(!n)},css:$s.button,children:[(0,r.tZ)(Gs.Z,{tiny:!0,inactive:!1,resources:i}),(0,r.tZ)(ur.Z,{color:l.TV.foregroundDimmest,size:12})]}))},(0,r.tZ)(c.G,{children:(0,r.tZ)(Ys,{})})]})}var Js=(0,xe.X)({root:[l.l0.rowWithGap(8),l.l0.align.center]});function ec(e){return(0,r.BX)(c.G,{css:Js.root,children:[(0,r.tZ)(s.xv,{multiline:!1,children:e.text}),(0,r.tZ)(Tt.bM,{small:!0,keyCombo:e.shortcut})]})}var nc=(0,xe.X)({root:[l.l0.reset.button,de.gU.nofill,l.l0.height(32),l.l0.width(32),l.l0.center,l.l0.cursor.pointer,l.l0.borderRadius(6),{"& > div":{opacity:.75,transition:"opacity 0.1s"},"&:hover > div":{opacity:1}}],iconContainer:[l.l0.flex.row,l.l0.align.center,{height:14,width:16,border:"1px solid ".concat(l.TV.foregroundDefault),borderRadius:l.TV.borderRadius2}],icon:[{height:"100%",borderRight:"1px solid ".concat(l.TV.foregroundDefault),transition:"0.1s ease-out width, 0.1s background-color"}]});function tc(){var e=(0,ut.Ap)(),n=(0,Wr.Z)(e.isOpen),t=(0,yr.Z)(u.y.SidebarButton),i=e.toggle;(0,Tt.Il)((function(){return[ps.id,function(){return i()}]}),[i]);var o=(0,Tt.gf)(ps.id),a=(n?"Close":"Open")+" sidebar",s=(0,w.Z)(d.useState(!1),2),p=s[0],f=s[1],h=o?(0,r.tZ)(ec,{shortcut:o,text:a}):a;return(0,r.tZ)(me.u,{tooltip:h,placement:"bottom-start",children:(0,r.tZ)(c.G,{tag:"button",alt:a,innerRef:t,css:nc.root,"aria-label":"Toggle sidebar","aria-expanded":n,onClick:function(){i(),f(!1)},onMouseEnter:function(){return f(!0)},onMouseLeave:function(){return f(!1)},children:(0,r.BX)(c.G,{css:nc.iconContainer,children:[(0,r.tZ)(c.G,{css:nc.icon,style:{width:n&&!p||!n&&p?"40%":"20%",backgroundColor:n?l.TV.foregroundDefault:"transparent"}}),(0,r.tZ)(c.G,{})]})})})}function rc(e){var n=e.repl,t=e.currentUser,i=(0,Is.Z)(),o=(0,ut.cT)(),a=(0,x.P5)({controlName:"flag-resources-in-header",logFlagToAnalytics:!1});return(0,r.BX)(c.G,{css:[l.l0.flex.row,l.l0.align.center,l.l0.justify.start],children:[(0,r.tZ)(c.G,{css:l.l0.noDragRegion,children:(0,r.tZ)(tc,{})}),(0,r.tZ)(c.G,{css:l.l0.noDragRegion,children:i?(0,r.tZ)(Es,{}):(0,r.tZ)(zr,{})}),(0,r.tZ)(c.G,{css:[l.l0.flex.shrink(1),l.l0.flex.row,l.l0.maxWidth(530),l.l0.align.center,{"& > span":[l.l0.viewStyle,l.l0.flex.shrink(1)]},l.l0.noDragRegion],children:(0,r.tZ)(fr,{repl:n,onDeployClick:function(){o({pane:{type:"deployments"}})}})}),a?(0,r.BX)(c.G,{css:[l.l0.noDragRegion,l.l0.pl(4)],children:[(0,r.tZ)(Qs,{}),(null===t||void 0===t?void 0:t.isFirewallMode)?(0,r.tZ)(hr.Z,{isWorkspace:!0}):null]}):null,(0,r.BX)(c.G,{css:[l.l0.noDragRegion,l.l0.pl(4)],children:[(0,r.tZ)(Or.m,{}),(null===t||void 0===t?void 0:t.isFirewallMode)?(0,r.tZ)(hr.Z,{isWorkspace:!0}):null]})]})}var ic,oc=t(95014),ac=t(69505),lc=t(11484),sc=t(35004),cc=t(29892),uc=t(97933),dc={button:(0,i.iv)([l.l0.position.relative,l.l0.viewStyle,l.l0.reset.button,l.l0.center,l.l0.height(32),l.l0.width(32),l.l0.cursor.pointer,l.l0.borderRadius(8),de.gU.listItem]),badge:(0,i.iv)([l.l0.position.absolute,l.l0.center,l.l0.textAlign.center,l.l0.borderRadius(16),l.l0.backgroundColor.accentNegativeDimmer,l.l0.color.accentNegativeStrongest,{pointerEvents:"none",boxShadow:"0 0 0 2px ".concat(l.TV.backgroundRoot)}]),count:(0,i.iv)([l.l0.minWidth(16),l.l0.py(2),l.l0.px(4),{top:-10,right:-10}]),dot:(0,i.iv)([l.l0.width(8),l.l0.height(8),l.l0.backgroundColor.accentNegativeStronger,{top:-2,right:-2}])},pc=function(e){var n=e.unreadNotifications,t=e.isOpen,i=e.setIsOpen,o=e.pathname,a=e.showCount,l=void 0===a||a,u=(0,vr.Z)(e,["unreadNotifications","isOpen","setIsOpen","pathname","showCount"]);return(0,r.BX)(c.G,(0,he.Z)((0,R.Z)({tag:"button"},u),{css:dc.button,"aria-label":n?n+" notifications":"No notifications",onClick:function(){(0,g.j)(g.U3.SIDEBAR_LAYOUT_NOTIFICATIONS_TOGGLED,{open:!t,source:o.replace(/\//g,"")}),i(!t)},children:[(0,r.tZ)(cc.Z,{size:16}),n>0?(0,r.tZ)(c.G,{css:[dc.badge,l?dc.count:dc.dot],children:l?(0,r.tZ)(s.xv,{variant:"small",multiline:!1,children:n}):null}):null]}))},fc=(0,xe.X)({popover:[l.l0.borderRadius(8),{width:"calc(100% - 24px)",maxWidth:350}],header:[l.l0.p(12),l.l0.rowWithGap(8),l.l0.align.center,l.l0.justify.spaceBetween,l.l0.width("100%"),{borderBottom:"".concat(l.TV.borderWidthDefault," solid ").concat(l.TV.outlineDimmest)}],list:[l.l0.maxHeight("calc(100vh - 160px)"),l.l0.overflowY("auto")]}),hc=function(e){var n=e.pathname,t=e.sidebarIsOpen,i=e.showCount,o=void 0===i||i,a=(0,w.Z)(d.useState(!1),2),l=a[0],u=a[1],p=(0,lc.Z)().count,f=((0,uc.i)().width||0)<Le.j.tabletMin?"bottom":"right bottom";return(0,d.useEffect)((function(){t||u(!1)}),[t]),(0,r.BX)(He.x,{label:"Notifications",css:fc.popover,isOpen:l,onOpenChange:function(e){e||u(!1)},placement:f,children:[function(e){var t=e.ref,i=(0,vr.Z)(e,["ref"]);return(0,r.tZ)(pc,(0,he.Z)((0,R.Z)({},i),{innerRef:t,pathname:n,isOpen:l,setIsOpen:u,unreadNotifications:p,showCount:o}))},(0,r.BX)(r.HY,{children:[(0,r.BX)(c.G,{role:"heading","aria-level":1,css:fc.header,children:[(0,r.tZ)(s.xv,{variant:"subheadBig",multiline:!1,children:"Notifications"}),(0,r.tZ)($t.Z,{href:"/notifications",prefetch:!1,text:"View all",iconRight:(0,r.tZ)(sc.Z,{}),onClick:function(){return u(!1)},small:!0,outlined:!0})]}),(0,r.tZ)(c.G,{css:fc.list,children:(0,r.tZ)(ac.Z,{compact:!0,count:10,loadMore:!0,markAsSeen:!0})})]})]})},vc=t(60471),mc=t(25528),gc=t(80731),Zc=t(42317),bc=t(75665),xc=function(e){return e&&e.args?(e.args&&e.args.length>=3&&"sh"===e.args[0]&&"-c"===e.args[1]?e.args.slice(2):e.args).join(" "):""},yc=function(e){var n=e.hideModal,t=(0,pe.Z)().dotReplit,i=(0,Za.Z)(),o=(0,on.Z)().showError,a=(0,w.Z)(d.useState(!1),2),u=a[0],p=a[1],f=(0,w.Z)(d.useState(""),2),h=f[0],v=f[1],m=(0,ut.CA)(),g=d.useCallback((function(){return o("Failed to update run command, please try again or contact support")}),[o]),Z=(0,w.Z)(d.useState(null),2),b=Z[0],x=Z[1];d.useEffect((function(){var e=function(){var e=(0,tt.Z)((function(){var e,n,r;return(0,rt.__generator)(this,(function(o){switch(o.label){case 0:return[4,t.getConfig()];case 1:return n=o.sent(),i.current?(n.errorMessage?x({error:n.error,errorMessage:n.errorMessage}):x(null),r=null===n||void 0===n||null===(e=n.config)||void 0===e?void 0:e.run,v(xc(r)),[2]):[2]}}))}));return function(){return e.apply(this,arguments)}}();e()}),[t,i]);var y=d.useCallback((0,tt.Z)((function(){var e;return(0,rt.__generator)(this,(function(r){switch(r.label){case 0:if(!i.current)return[2];r.label=1;case 1:return r.trys.push([1,3,4,5]),e=h?(0,bc.KQ)(h):(0,bc.xz)("run"),p(!0),[4,t.updateDotReplit([e])];case 2:return r.sent(),i.current?(n(),[3,5]):[2];case 3:return r.sent(),g(),[3,5];case 4:return i.current&&p(!1),[7];case 5:return[2]}}))})),[h,g,t,n]);return(0,r.BX)(c.G,{css:[l.l0.colWithGap(8),l.l0.p(2),u&&l.l0.cursor.progress],children:[(0,r.tZ)(s.h4,{level:1,variant:"text",css:[l.l0.fontWeight.normal,l.l0.color.foregroundDimmer],children:"Run Command"}),b?(0,r.tZ)(s.xv,{multiline:!1,children:b.errorMessage}):(0,r.BX)(r.HY,{children:[(0,r.tZ)(Pa.II,{value:h,onChange:function(e){return v(e.target.value)},spellCheck:!1,placeholder:"Command to run"}),(0,r.BX)(c.G,{css:[l.l0.rowWithGap(12),l.l0.mt(12)],children:[(0,r.tZ)(ce.zx,{onClick:function(){n(),m({path:Zc.Z})},text:"Advanced"}),(0,r.tZ)(c.G,{css:l.l0.flex.grow(1)}),(0,r.tZ)(ce.zx,{colorway:"blue",text:"Save",onClick:y})]})]})]})};!function(e){e[e.Closed=0]="Closed",e[e.MenuOpen=1]="MenuOpen",e[e.EditorOpen=2]="EditorOpen"}(ic||(ic={}));var wc=(0,i.iv)([l.l0.position.relative,l.l0.noDragRegion,(0,C.Z)({},l.BC.min("tabletMin"),[l.l0.position.absolute,l.l0.right(-28)])]),kc=(0,i.iv)([l.l0.color.foregroundDimmest,l.l0.height(32),l.l0.borderRadius(6)]),Cc=(0,i.iv)([l.l0.p(8),l.l0.maxWidth(300)]);function Sc(e){var n,t=e.runner,i=e.shortcut,o=(0,ze.R3)(),a=(0,ut.Vu)(),p=(0,vc.T)(),f=d.useMemo((function(){return(0,mc.Z)(p||null,a.map((function(e){return e.filePath||""})),o,(null===p||void 0===p?void 0:p.entrypoint)||"")}),[o,a,p]),h=(0,d.useState)(void 0),v=h[0],g=h[1];d.useEffect((function(){(f.length>0&&!v||v&&!f.find((function(e){return e.runner.id===v.runner.id&&e.filePath===v.filePath})))&&g(f[0])}),[f]);var Z=(0,w.Z)(d.useState(ic.Closed),2),b=Z[0],x=Z[1],y=(0,m.e)(u.y.Run),k=[];return(n=k).push.apply(n,(0,Qe.Z)(f.map((function(e,n){return(0,r.tZ)(gc.ck,{"aria-label":"Run ".concat(e.filePath," (").concat(e.runner.name,")"),children:(0,r.tZ)(c.G,{css:l.l0.rowWithGap(8),children:(0,r.BX)(s.xv,{multiline:!1,children:["Run ",e.filePath,"\xa0(",e.runner.name,")"]})})},n)})))),k.push((0,r.tZ)(gc.ck,{"aria-label":"custom",children:(0,r.tZ)(c.G,{css:l.l0.rowWithGap(8),children:(0,r.tZ)(s.xv,{multiline:!1,children:"Custom..."})})},"custom")),(0,r.BX)(c.G,{css:l.l0.flex.row,children:[(0,r.BX)(He.x,{onOpenChange:function(e){x(e?ic.MenuOpen:ic.Closed)},isOpen:b!==ic.Closed,label:"Run Options",noArrow:!0,children:[(0,r.tZ)(fe.ZP,{shortcut:i,runner:t,runConfig:v,disableTooltip:null===y||void 0===y?void 0:y.isActive}),(0,r.BX)(c.G,{css:Cc,children:[b===ic.MenuOpen&&(0,r.tZ)(gc.v2,{label:"Configure Repl run",onAction:function(e){if("custom"===e)x(ic.EditorOpen);else{x(ic.Closed);var n=f[Number(e)];g(n),t.run(n)}},children:k}),b===ic.EditorOpen&&(0,r.tZ)(yc,{hideModal:function(){return x(ic.Closed)}})]})]}),(0,r.tZ)(c.G,{css:wc,children:(0,r.tZ)(ue.h,{alt:"Configure Repl run",onClick:function(){x((function(e){return e===ic.Closed?ic.MenuOpen:ic.Closed}))},css:kc,children:(0,r.tZ)(ur.Z,{})})})]})}var Rc=t(91015),Tc=t(35856);function Ec(e,n){var t=n.onReceiveAnnotationUpdate,r=void 0===t?function(){}:t,i=(0,on.Z)().showError,o=(0,w.Z)(d.useState(null),2),a=o[0],l=o[1],s=(0,Rc.xT)({variables:{replId:e}}),c=function(){var e,n=null===(e=s.data)||void 0===e?void 0:e.currentUser;return n?{user:{__typename:"User",id:n.id,username:n.username,image:n.image}}:null},u=function(n,t){var r=n.readQuery({query:Rc.yi,variables:{replId:e}});if(!r)throw new Error("expected data");if("Repl"!==r.repl.__typename)throw new Error("expected repl");var i=[],o=r.repl.annotationAnchors,a=o.findIndex((function(e){return e.id===t.id}));i=-1===a?(0,Qe.Z)(o).concat([t]):(0,Qe.Z)(o.slice(0,a)).concat([t],(0,Qe.Z)(o.slice(a+1))),n.writeQuery({query:Rc.yi,variables:{replId:e},data:(0,he.Z)((0,R.Z)({},r),{repl:(0,he.Z)((0,R.Z)({},r.repl),{annotationAnchors:i})})})},p=(0,w.Z)((0,Rc.AS)({onError:function(e){return i(e.message)},update:function(e,n){var t;if(n.errors)n.errors.forEach((function(e){return i(e.message)}));else{var r=null===(t=n.data)||void 0===t?void 0:t.createAnnotationAnchor;r&&("UserError"===r.__typename?i(r.message):"AnnotationAnchor"===r.__typename&&u(e,r))}}}),1),f=p[0],h=(0,w.Z)((0,Rc.gE)({onError:function(e){return i(e.message)},update:function(e,n){var t;if(n.errors)n.errors.forEach((function(e){return i(e.message)}));else{var r=null===(t=n.data)||void 0===t?void 0:t.createAnnotationMessage;r&&("UserError"===r.__typename?i(r.message):"AnnotationAnchor"===r.__typename&&u(e,r))}}}),1),v=h[0],m=(0,w.Z)((0,Rc.Rp)({onError:function(e){return i(e.message)},update:function(e,n){var t;if(n.errors)n.errors.forEach((function(e){return i(e.message)}));else{var r=null===(t=n.data)||void 0===t?void 0:t.updateAnnotationAnchor;r&&("UserError"===r.__typename?i(r.message):"AnnotationAnchor"===r.__typename&&u(e,r))}}}),1),g=m[0],Z=(0,w.Z)((0,Tc.n)(),1)[0],b=(0,w.Z)((0,Rc.Hj)(),1)[0];(0,Rc.Tt)({variables:{replId:e},onData:function(e){var n=e.data.data,t=e.client,i=null===n||void 0===n?void 0:n.updatedAnnotation;i&&(u(t,i),r(i))}});var x=(0,w.Z)(d.useState([]),2),y=x[0],k=x[1];d.useEffect((function(){var e,n,t=[];"Repl"===(null===(e=s.data)||void 0===e?void 0:e.repl.__typename)&&(n=t).push.apply(n,(0,Qe.Z)(s.data.repl.annotationAnchors));a&&t.push((0,he.Z)((0,R.Z)({},a),{isGeneral:Boolean(a.isGeneral),messages:[],isResolved:!1,__typename:"AnnotationAnchor"})),k(t)}),[s,a]);var C=d.useMemo((function(){return y.find((function(e){return e.isGeneral}))}),[y]),S=d.useMemo((function(){return y.reduce((function(e,n){return n.isResolved?e:n.messages.some((function(e){return!1===e.seen}))?e+1:e}),0)}),[y]),T=function(e){var n=e.annotationAnchor,t=e.annotationMessage,r=e.highlight;f({variables:{annotationAnchor:n,annotationMessage:t,highlight:r},optimisticResponse:{__typename:"RootMutationType",createAnnotationAnchor:(0,he.Z)((0,R.Z)({},c(),n),{isGeneral:Boolean(n.isGeneral),__typename:"AnnotationAnchor",messages:t?[(0,he.Z)((0,R.Z)({},c(),t),{content:{text:t.text,__typename:"TextMessageContentType"},anchor:{id:n.id,__typename:"AnnotationAnchor"},__typename:"AnnotationMessage",timeCreated:(new Date).toISOString(),currentUserIsAuthor:!0,seen:!0})]:[],isResolved:!1})}})},E=(0,at.Z)((function(){return jr()(b,1e3,{trailing:!1})}),[b]);return{annotations:y,loading:s.loading,generalThread:C,unreadThreadCount:S,placeholderAnchorId:null===a||void 0===a?void 0:a.id,createAnnotationAnchorPlaceholder:function(e){var n=e.annotationAnchor;l(n)},deleteAnnotationAnchorPlaceholder:function(){l(null)},createAnnotationAnchor:T,createAnnotationMessage:function(n){var t=n.anchor,r=n.annotationMessage,i=n.highlight;(null===a||void 0===a?void 0:a.id)===t.id?(l(null),T({annotationAnchor:(0,R.Z)({},a),annotationMessage:r,highlight:i})):v({variables:{replId:e,anchorId:t.id,annotationMessage:r,highlight:i},optimisticResponse:{__typename:"RootMutationType",createAnnotationMessage:(0,he.Z)((0,R.Z)({},t),{messages:(0,Qe.Z)(t.messages.filter((function(e){return!e.id.startsWith("chat-")}))).concat([(0,he.Z)((0,R.Z)({},c(),r),{content:{text:r.text,__typename:"TextMessageContentType"},anchor:{id:t.id,__typename:"AnnotationAnchor"},__typename:"AnnotationMessage",timeCreated:(new Date).toISOString(),currentUserIsAuthor:!0,seen:!0})])})}})},updateAnnotationAnchor:function(e){var n=e.annotationAnchor,t=e.changes;g({variables:{id:n.id,changes:t},optimisticResponse:{__typename:"RootMutationType",updateAnnotationAnchor:(0,he.Z)((0,R.Z)({},n,t),{isResolved:"boolean"===typeof t.isResolved?t.isResolved:n.isResolved})}})},updateThreadPreview:function(e){var n=e.threadId,t=e.messageId;E({variables:{threadId:n,messageId:t}})},markAllMessagesInReplAsSeenByUser:function(){Z({variables:{replId:e}})}}}var Ic=function(e){var n=Ec(e,{onReceiveAnnotationUpdate:function(){}}).generalThread;return(0,d.useMemo)((function(){return n?n.messages.filter((function(e){return!1===e.seen})).length:0}),[n])},Gc=t(22642);function Dc(e){var n=Ec(e,{onReceiveAnnotationUpdate:function(){}}).annotations;return(0,d.useMemo)((function(){return n.reduce((function(e,n){return n.isGeneral?e:e+n.messages.filter((function(e){return!1===e.seen})).length}),0)}),[n])}var Bc={container:(0,i.iv)([l.l0.position.relative]),button:(0,i.iv)([l.l0.position.relative,de.gU.filled,l.l0.width(32),l.l0.height(32),l.l0.borderRadius(8,0,0,8)]),notificationDot:(0,i.iv)(l.l0.display.none)},Pc=function(){var e=(0,Ae.Z)(),n=Ic(e),t=Dc(e),i=(0,ut.LR)(),o=(0,ut.cT)();return(0,r.tZ)(c.G,{css:[l.l0.flex.row,l.l0.align.center,{"&:only-child .open-chat-button":[l.l0.width(32),l.l0.height(32),l.l0.borderRadius(8),de.gU.nofill],"&:only-child .notification-dot-on-button":[l.l0.display.block],"&:not(:only-child) .notification-dot-on-icon":[l.l0.display.block]}],children:(0,r.tZ)(ue.h,{alt:"Open Chat and Threads",onClick:function(){i(),o({pane:{type:"chat"}})},css:Bc.button,className:"open-chat-button",children:(0,r.BX)(r.HY,{children:[n>0||t>0?(0,r.tZ)(c.G,{className:"notification-dot-on-button",css:Bc.notificationDot,children:(0,r.tZ)(ml.B,{})}):null,(0,r.BX)(c.G,{css:Bc.container,children:[n>0||t>0?(0,r.tZ)(c.G,{className:"notification-dot-on-icon",css:Bc.notificationDot,children:(0,r.tZ)(ml.B,{})}):null,(0,r.tZ)(Gc.Z,{})]})]})})})},_c=t(66016),Ac=t(21568),Uc=t(10841),Lc=t(48667),zc=t(48712),Oc=t(75863),Xc=t(16918),jc=t(49944),Nc=t(22107),Mc=t(12379);function Fc(){var e=(0,T.Z)(["\n  fragment ReplEnvironmentDesktopMyReplsSearchRepl on Repl {\n    id\n    title\n    timeUpdated\n    url\n    iconUrl\n    owner {\n      ... on User {\n        id\n        username\n        image\n      }\n      ... on Team {\n        id\n        username\n        image\n      }\n    }\n  }\n"]);return Fc=function(){return e},e}function Wc(){var e=(0,T.Z)(["\n  query ReplEnvironmentDesktopMyReplsSearch($query: String, $count: Int) {\n    currentUser {\n      id\n      search {\n        repls(query: $query, count: $count) {\n          id\n          ...ReplEnvironmentDesktopMyReplsSearchRepl\n        }\n      }\n    }\n  }\n  ","\n"]);return Wc=function(){return e},e}var Vc=(0,E.Ps)(Fc()),Hc=(0,E.Ps)(Wc(),Vc);var Yc=(0,xe.X)({root:[l.l0.rowWithGap(8),l.l0.align.center,l.l0.px(8),{textDecoration:"none"}],info:[l.l0.colWithGap(2),l.l0.flex.growAndShrink(1)],meta:{fontSize:10}});function qc(e){var n=e.repl,t=e.height,i=e.isActive,o=e.search,a=n.title,l=(0,d.useMemo)((function(){return o?Xc.Z.match(o,a):null}),[o,a]);return(0,r.tZ)(Sr(),{href:n.url,passHref:!0,children:(0,r.BX)(c.G,{tag:"a",style:{height:t},css:Yc.root,children:[(0,r.tZ)(Oc.ZP,{alt:n.title,size:32,iconUrl:n.iconUrl}),(0,r.BX)(c.G,{css:Yc.info,children:[(0,r.tZ)(jc.x,{text:n.title,highlight:null===l||void 0===l?void 0:l.ranges,dimmed:!i}),(0,r.BX)(s.xv,{css:Yc.meta,color:"dimmest",multiline:!1,children:[n.owner.username," \u2022 edited ",(0,Nc.F)(n.timeUpdated)]})]})]})})}function Kc(e,n){return function(){return{score:1,render:{height:44,content:(0,r.tZ)(qc,{repl:n,height:44,search:e})}}}}function $c(e){return Qc.apply(this,arguments)}function Qc(){return Qc=(0,tt.Z)((function(e){var n,t;return(0,rt.__generator)(this,(function(r){switch(r.label){case 0:if(!Mc.l)throw new Error("Expected apolloClient");return[4,Mc.l.query({query:Hc,variables:e})];case 1:return t=r.sent().data,[2,(null===(n=t.currentUser)||void 0===n?void 0:n.search.repls.filter((function(e){return Boolean(e.owner)})))||[]]}}))})),Qc.apply(this,arguments)}function Jc(e){var n=e.description,t=e.onRun,i=(0,jt.Z)(t);return(0,at.Z)((function(){return{match:(0,lt.zf)({defaultScore:.5}),data:{type:"context",label:"My Repls",icon:(0,r.tZ)(zc.Z,{}),description:n},commands:function(e){var n=e.search,t=e.active;return(0,tt.Z)((function(){return(0,rt.__generator)(this,(function(e){switch(e.label){case 0:return t?[4,$c({query:n,count:50})]:[2,[]];case 1:return[2,e.sent().map((function(e){return function(e){var n=e.repl,t=e.search,i=e.run;return{match:Kc(t,n),data:{type:"action",label:n.title,icon:(0,r.tZ)(Oc.ZP,{alt:n.title,size:16,iconUrl:n.iconUrl}),run:function(){return i(n)}}}}({repl:e,search:n,run:function(){return i.current(e)}})}))]}}))}))()}}}),[n,i])}var eu=t(53472);function nu(){var e=(0,eu.WU)(),n=(0,ut.L7)(),t=(0,ut.m2)(),r=(0,ut.TO)(),i=(0,ut.VD)(),o=(0,ut.HM)(),a=(0,ut.WL)();return(0,d.useCallback)((function(l){var s=l.pane,c=l.activate,u=l.replaceExistingType,d=l.updateOnReveal,p=void 0===d||d,f=(0,it.Ur)(s)?a():null;if(f||(f=function(e){var n,t,r=e.panes,i=e.pane,o=e.replaceExistingType;if((0,it.Ur)(i)){var a,l,s=i.data.path;return null!==(l=null===(a=r.find((function(e){var n=(0,w.Z)(e,2)[1];return(0,it.Ur)(n)&&n.data.path===s})))||void 0===a?void 0:a[0])&&void 0!==l?l:null}if((0,it.WQ)(i)){var c,u,d=i.data.url;return null!==(u=null===(c=r.find((function(e){var n=(0,w.Z)(e,2)[1];return(0,it.WQ)(n)&&n.data.url===d})))||void 0===c?void 0:c[0])&&void 0!==u?u:null}return(o||(0,it.b)(i.type))&&null!==(t=null===(n=r.find((function(e){return(0,w.Z)(e,2)[1].type===i.type})))||void 0===n?void 0:n[0])&&void 0!==t?t:null}({panes:(0,Qe.Z)(n()).concat((0,Qe.Z)(t())),pane:s,replaceExistingType:u})),f)return p&&o({paneId:f,pane:s}),i({paneId:f,activate:c}),f;var h=l.placement;return"secondary"!==(null===h||void 0===h?void 0:h.type)||h.relativeTo||(h={type:"secondary",relativeTo:e()}),r({pane:s,activate:c,placement:h})}),[t,n,e,r,i,o,a])}var tu={nextTab:{id:"tabs.next",name:"Switch to next tab",default:(0,C.Z)({},S.Bd.DesktopApp,(0,Ut.l2)({ctrl:!0,key:"Tab"}))},previousTab:{id:"tabs.previous",name:"Switch to previous tab",default:(0,C.Z)({},S.Bd.DesktopApp,(0,Ut.l2)({ctrl:!0,shift:!0,key:"Tab"}))},newTab:{id:"tabs.new",name:"New tab",description:"Opens a tab in the current active group",default:(0,C.Z)({},S.Bd.DesktopApp,(0,Ut.l2)({cmdOrCtrl:!0,key:"t"}))},closeTab:{id:"tabs.close",name:"Close tab",description:"Close the current active tab",default:(0,C.Z)({},S.Bd.DesktopApp,(0,Ut.l2)({cmdOrCtrl:!0,key:"w"}))},reopenClosedTab:{id:"tabs.reopenClosed",name:"Reopen closed tab",default:(0,C.Z)({},S.Bd.DesktopApp,(0,Ut.l2)({cmdOrCtrl:!0,shift:!0,key:"t"}))},findFile:{id:"files.find",name:"Find file",default:(0,Ut.l2)({cmdOrCtrl:!0,key:"p"})},searchFileContents:{id:"files.searchContents",name:"Search file contents",default:ct.q},run:{id:"repl.run",name:"Run Repl",default:(0,Ut.l2)({cmdOrCtrl:!0,key:"Enter"})},toggleInviteDialog:{id:"repl.multiplayers",name:"See multiplayers",default:(0,Ut.l2)({cmdOrCtrl:!0,key:"m"})},showShell:{id:"repl.showShell",name:"Show shell",default:(0,Ut.l2)({cmdOrCtrl:!0,shift:!0,key:"s"}),description:"Opens or reveals a Shell in a tab"},showConsole:{id:"repl.showConsole",name:"Show console",description:"Opens or reveals the Console in a tab",default:void 0},showDocs:{id:"repl.showDocs",name:"Show docs",description:"Opens or reveals the Replit Docs in a tab",default:void 0},showGhostwriter:{id:"repl.showGhostwriter",name:"Show Ghostwriter",description:"Opens or reveals Ghostwriter in a tab",default:void 0},showSettings:{id:"repl.showSettings",name:"Show settings",description:"Opens or reveals the Settings tab",default:(0,C.Z)({},S.Bd.DesktopApp,(0,Ut.l2)({cmdOrCtrl:!0,key:","}))},showGit:{id:"repl.showGit",name:"Show git",description:"Opens or reveals the Git tool in a tab",default:void 0},toggleFloatPaneGroup:{id:"paneGroup.toggleFloat",name:"Toggle float group",description:"Floats or un-floats the current active group",default:void 0},toggleMaximizePaneGroup:{id:"paneGroup.toggleMaximize",name:"Toggle maximize group",description:"Maximizes or restores the current active group",default:void 0},removePaneGroup:{id:"paneGroup.close",name:"Close group",description:"Closes all tabs in the current active group",default:void 0},removeOthersInPaneGroup:{id:"paneGroup.closeOthers",name:"Close other tabs in group",description:"Closes all tabs except the visible one in the current active group",default:void 0},insertPaneGroupUp:{id:"paneGroup.insertUp",name:"Insert group above",description:"Adds a new group above the current active group",default:void 0},insertPaneGroupRight:{id:"paneGroup.insertRight",name:"Insert group right",description:"Adds a new group to the right of the current active group",default:void 0},insertPaneGroupLeft:{id:"paneGroup.insertLeft",name:"Insert group left",description:"Adds a new group to the left of the current active group",default:void 0},insertPaneGroupDown:{id:"paneGroup.insertDown",name:"Insert group below",description:"Adds a new group below the current active group",default:void 0},moveTabUpGroup:{id:"tabs.move.groupUp",name:"Move tab into group above",description:"Moves the current active tab into the group above",default:void 0},moveTabRightGroup:{id:"tabs.move.groupRight",name:"Move tab into group right",description:"Moves the current active tab into the group to the right",default:void 0},moveTabLeftGroup:{id:"tabs.move.groupLeft",name:"Move tab into group left",description:"Moves the current active tab into the group to the left",default:void 0},moveTabDownGroup:{id:"tabs.move.groupDown",name:"Move tab into group below",description:"Moves the current active tab into the group below",default:void 0},moveFocusUp:{id:"paneGroup.focusUp",name:"Move focus to group above",description:"Move focus to the group above the current active group",default:void 0},moveFocusRight:{id:"paneGroup.focusRight",name:"Move focus to group right",description:"Move focus to the group to the right of the current active group",default:void 0},moveFocusLeft:{id:"paneGroup.focusLeft",name:"Move focus to group left",description:"Move focus to the group to the left of the current active group",default:void 0},moveFocusDown:{id:"paneGroup.focusDown",name:"Move focus to group below",description:"Move focus to the group below the current active group",default:void 0}},ru=Object.values(tu);function iu(e){var n=e.isAdmin,t=e.isServer,i=e.hostedUrl,o=Dt(),a=(0,d.useState)(!1),l=a[0],s=a[1],c=(0,ze.AA)(),u=(0,pe.Z)(),p=u.fs,f=u.container,h=u.runner,v=(0,fe.L7)(h),m=(0,dt.T)(),g=(0,ut.CA)(),Z=(0,ut.km)(),b=(0,ut.ii)(),x=(0,ut.zs)(),y=(0,ut.Fh)(),w=(0,ut.je)(),k=(0,ut.Hb)(),C=(0,ut._F)(),S=(0,ut.uD)(),R=(0,ut.OO)(),T=(0,ut.Lo)().toggleMaximizePane,E=(0,ut.lI)(),I=(0,ut.Kt)(),G=(0,ut.DR)(),D=(0,ut.Bd)(),B=(0,xt.Y6)(C),P=(0,Is.Z)();(0,Tt.Il)((function(){return[tu.newTab.id,function(){return Z()}]}),[Z]),(0,Tt.Il)((function(){return[tu.nextTab.id,function(){return k("next")}]}),[k]),(0,Tt.Il)((function(){return[tu.previousTab.id,function(){return k("previous")}]}),[k]),(0,Tt.Il)((function(){return[tu.closeTab.id,function(){return b()}]}),[b]),(0,Tt.Il)((function(){return[tu.reopenClosedTab.id,function(){return y()}]}),[y]),(0,Tt.Il)((function(){return[tu.moveTabUpGroup.id,function(){return x("above")}]}),[x]),(0,Tt.Il)((function(){return[tu.moveTabRightGroup.id,function(){return x("rightOf")}]}),[x]),(0,Tt.Il)((function(){return[tu.moveTabLeftGroup.id,function(){return x("leftOf")}]}),[x]),(0,Tt.Il)((function(){return[tu.moveTabDownGroup.id,function(){return x("below")}]}),[x]),(0,Tt.Il)((function(){return C?[tu.insertPaneGroupUp.id,function(){return D({paneId:C,placement:"above",autoFocus:!0})}]:void 0}),[C]),(0,Tt.Il)((function(){return C?[tu.insertPaneGroupRight.id,function(){return D({paneId:C,placement:"rightOf",autoFocus:!0})}]:void 0}),[C]),(0,Tt.Il)((function(){return C?[tu.insertPaneGroupLeft.id,function(){return D({paneId:C,placement:"leftOf",autoFocus:!0})}]:void 0}),[C]),(0,Tt.Il)((function(){return C?[tu.insertPaneGroupDown.id,function(){return D({paneId:C,placement:"below",autoFocus:!0})}]:void 0}),[C]),(0,Tt.Il)((function(){return[Lt.id,function(){return o()}]}),[o]);var _=(0,Tt.gf)(tu.findFile.id);(0,Tt.Il)((function(){return[tu.findFile.id,function(){return o(st.i({openFile:g,fs:p,shouldHideFile:m,getRecentFiles:c,keyboardShortcut:_}))}]}),[o]),zt(st.i({openFile:g,fs:p,shouldHideFile:m,getRecentFiles:c,keyboardShortcut:_}));var A=(0,Tt.gf)(tu.searchFileContents.id),U=nu();(0,Tt.Il)((function(){return[tu.searchFileContents.id,function(){if("searchReplace"!==(null===B||void 0===B?void 0:B.type)){var e,n=void 0;if("codeEditor"===(null===B||void 0===B?void 0:B.type))n=null===(e=B.getCurrentSelectionText)||void 0===e?void 0:e.call(B);U({pane:{type:"searchReplace",data:{initialQuery:n}},activate:!0,placement:{type:"secondary"},replaceExistingType:!0,updateOnReveal:void 0!==n})}else{var t;null===(t=B.focusSearchInput)||void 0===t||t.call(B)}}]}),[B,o,g,U]),(0,Tt.Il)((function(){return C?[tu.toggleFloatPaneGroup.id,function(){return R(C)}]:void 0}),[C]),(0,Tt.Il)((function(){return C?[tu.toggleMaximizePaneGroup.id,function(){return T(C)}]:void 0}),[C]),(0,Tt.Il)((function(){return S?[tu.removePaneGroup.id,function(){E({paneGroupId:S}),G()}]:void 0}),[S]),(0,Tt.Il)((function(){return C?[tu.removeOthersInPaneGroup.id,function(){I(C)}]:void 0}),[C]),(0,Tt.Il)((function(){return[tu.moveFocusUp.id,function(){return w("above")}]}),[]),(0,Tt.Il)((function(){return[tu.moveFocusDown.id,function(){return w("below")}]}),[]),(0,Tt.Il)((function(){return[tu.moveFocusRight.id,function(){return w("rightOf")}]}),[]),(0,Tt.Il)((function(){return[tu.moveFocusLeft.id,function(){return w("leftOf")}]}),[]),zt(mt()),zt(ct.F({container:f,keyboardShortcut:A,openFile:g})),(0,Tt.Il)((function(){if(v!==Uc.Ah.OFFLINE)return[tu.run.id,function(){v===Uc.Ah.RUNNING&&h.stopRun(),h.run()}]}),[v]);var L=(0,Tt.gf)(tu.run.id);return zt({match:lt.pl,data:{type:"action",icon:(0,r.tZ)(ys.Z,{}),label:"New window",keyboardShortcut:"Cmd-Shift-n",description:"Open a new window",run:function(){ws.X.openNewWindow()}}},{enabled:P}),zt({match:lt.pl,data:{type:"action",icon:(0,r.tZ)(_c.Z,{}),label:"Run",description:"Run Repl",run:function(){h.run()},keyboardShortcut:L}},{enabled:v===Uc.Ah.IDLE}),zt({match:lt.pl,data:{type:"action",icon:(0,r.tZ)(Ac.Z,{}),label:"Stop",description:"Stop Repl",run:function(){h.stopRun()}}},{enabled:v===Uc.Ah.RUNNING}),zt({match:lt.pl,data:{type:"action",icon:(0,r.tZ)(Lc.Z,{}),label:"Kill 1",description:"Kill the Repl pid1 process if it's in a bad state (admin only)",run:function(){f.exec("kill","1")}}},{enabled:n}),zt({match:lt.pl,data:{type:"action",icon:(0,r.tZ)(aa.Z,{}),label:"Open development URL",run:function(){window.open(i,"_blank")}}},{enabled:t}),zt(Jc({description:"Jump to another Repl",onRun:function(e){window.location.href=e.url}})),zt({match:(0,lt.zf)({defaultScore:.5}),data:{type:"action",label:"Create",icon:(0,r.tZ)(gt.Z,{}),description:"Create a new Repl",run:function(){s(!0)}}}),(0,r.tZ)(tn.u,{isOpen:l,onRequestClose:function(){return s(!1)},maxWidth:600,centered:!0,children:(0,r.tZ)(gr.Z,{})})}var ou=(0,d.memo)(iu),au=t(54659),lu=t(89010),su=t(98998),cu=t(66075),uu=t(57475),du=t(28170),pu=t(55523),fu=t(25570),hu=t(96742),vu=(0,xe.X)({self:[l.l0.position.relative,l.l0.borderRadius(8,0,0,8)],dotWrapper:[l.l0.position.absolute,l.l0.top("-3px"),l.l0.right("-3px"),l.l0.width("10px"),l.l0.height("10px"),l.l0.borderRadius("full"),l.l0.border({color:l.TV.backgroundDefault,width:2})],dot:[l.l0.width("100%"),l.l0.height("100%"),l.l0.borderRadius("full")]});function mu(e){var n=e.color;return(0,r.BX)(c.G,{css:vu.self,children:[(0,r.tZ)(uu.Z,{}),(0,r.tZ)(c.G,{as:"span",css:vu.dotWrapper,children:(0,r.tZ)(c.G,{as:"span",css:vu.dot,style:{backgroundColor:n,boxShadow:"0 0 6px ".concat(n)}})})]})}var gu=(0,i.iv)([l.l0.flex.growAndShrink(1),l.l0.borderRadius(8,0,0,8),(0,C.Z)({},l.BC.max("tabletMin"),{"div span":[l.l0.display.none],"div svg":[l.l0.mr(0)]})]),Zu=(0,i.iv)([gu,l.l0.borderRadius(8)]),bu={base:{self:gu,loading:(0,i.iv)([gu,Wt.p.backgroundPulse()])},rounded:{self:Zu,loading:(0,i.iv)([Zu,Wt.p.backgroundPulse()])}};function xu(e){var n=e.text,t=e.icon,i=e.disabled,o=e.rounded,a=e.onClick,l=e.tooltip,s=e.loading,c=(0,r.tZ)(ce.zx,{text:n,iconLeft:t,css:bu[o?"rounded":"base"][s?"loading":"self"],disabled:i,onClick:a});return l?(0,r.tZ)(me.u,{tooltip:l,children:c}):c}function yu(){var e,n,t=(0,pu.kW)(),i=(0,pu.Sl)(),o=(0,pu.gg)(),a=o.isDeployableRepl,s=o.reason,c=Boolean(i),u=void 0,d=!1,p=!1;switch(t){case fu.z.Ready:case fu.z.Suspended:case fu.z.ProcessingLifecycleCommand:e="Deploy",c?(n=(0,r.tZ)(mu,{color:l.TV.blueStronger}),u="Deploy active hosting tier"):n=(0,r.tZ)(uu.Z,{});break;case fu.z.Loading:e="Deploy",n=(0,r.tZ)(uu.Z,{}),d=!0,p=!0;break;case fu.z.Preparing:e="Preparing",n=(0,r.tZ)(uu.Z,{}),d=!0,p=!0;break;case fu.z.Deploying:e="Deploying",n=(0,r.tZ)(Ze.Z,{}),p=!0;break;default:(0,js.Z)(t)}a||(u=s,d=!0);var f=(0,ut.cT)();return(0,r.tZ)(xu,{text:e,icon:n,onClick:function(){f({pane:{type:"deployments"}}),t!==fu.z.Ready||c||(0,g.j)(g.U3.DEPLOY_PROJECT_SELECTED,{source:"deploy_button"})},tooltip:u,disabled:d,loading:p,rounded:!0})}var wu={self:l.l0.rowWithGap(1),open:(0,i.iv)([l.l0.borderRadius(0,8,8,0),l.l0.px(4)])};function ku(){var e,n,t=(0,pu.kW)(),i=(0,pu.$y)(),o=(0,pu.H7)(),a=(0,pu.ev)(),s=(0,pu._U)(),u=(0,pu.XA)(),p=(0,ut.cT)(),f=(0,on.Z)().showError,h=function(){var e=(0,tt.Z)((function(){var e,n;return(0,rt.__generator)(this,(function(r){switch(r.label){case 0:if(t===fu.z.Deploying||t===fu.z.Suspended||t===fu.z.ProcessingLifecycleCommand||t===fu.z.Preparing)return p({pane:{type:"deployments"}}),[2];if(m&&(g(void 0),m===S.Fe.Failed))return p({pane:{type:"deployments",data:{view:du.kO.History}}}),[2];if(a)return p({pane:{type:"deployments",data:{view:du.kO.History}}}),[2];r.label=1;case 1:return r.trys.push([1,3,,4]),e=i?i.envVars.map((function(e){return{name:e.name,value:e.value}})):[],[4,u({envVars:e.filter((function(e){return(0,hu.G)(e)})),subdomain:o})];case 2:return r.sent(),[3,4];case 3:return n=r.sent(),f(n.message),[3,4];case 4:return[2]}}))}));return function(){return e.apply(this,arguments)}}(),v=(0,w.Z)(d.useState(void 0),2),m=v[0],g=v[1];d.useEffect((function(){if(s&&"HostingBuildDeployStatusAction"===s.__typename)switch(s.status){case S.Fe.Success:case S.Fe.Failed:g(s.status)}}),[s]),d.useEffect((function(){t===fu.z.Deploying&&g(void 0)}),[t]);var Z=void 0,b=!1,x=!1;switch(t){case fu.z.Ready:e="Redeploy",n=(0,r.tZ)(uu.Z,{}),m&&(m===S.Fe.Success?(n=(0,r.tZ)(mu,{color:l.TV.accentPositiveDefault}),Z="Success"):(n=(0,r.tZ)(mu,{color:l.TV.accentNegativeDefault}),Z="An error occurred"));break;case fu.z.Suspended:e="Redeploy",n=(0,r.tZ)(mu,{color:l.TV.greyDefault}),Z="Deployment suspended";break;case fu.z.Loading:e="Redeploy",n=(0,r.tZ)(uu.Z,{}),b=!0,x=!0;break;case fu.z.ProcessingLifecycleCommand:e="Redeploy",n=(0,r.tZ)(mu,{color:l.TV.orangeStronger}),x=!0,Z="Updating deployment";break;case fu.z.Preparing:e="Preparing",n=(0,r.tZ)(Ze.Z,{}),x=!0,b=!0;break;case fu.z.Deploying:e="Deploying",n=(0,r.tZ)(Ze.Z,{}),x=!0;break;default:(0,js.Z)(t)}return a&&(e="Error",n=(0,r.tZ)(mu,{color:l.TV.accentNegativeDefault}),Z=a),(0,r.BX)(c.G,{css:wu.self,children:[(0,r.tZ)(xu,{text:e,icon:n,tooltip:Z,onClick:h,disabled:b,loading:x}),(0,r.tZ)(me.u,{tooltip:"Open Deployments pane",children:(0,r.tZ)(ce.zx,{text:"",iconLeft:(0,r.tZ)(lo.ChevronDown,{}),onClick:function(){p({pane:{type:"deployments"}})},css:wu.open})})]})}function Cu(){var e=(0,pu.hn)(),n=(0,pu.$y)(),t=Boolean(e),i=Boolean(n);return t&&i?(0,r.tZ)(ku,{}):(0,r.tZ)(yu,{})}var Su=(0,i.F4)("from{transform:rotate(0deg);}to{transform:rotate(359deg);}"),Ru=(0,xe.X)({wrapper:[l.l0.height(32),l.l0.width(32),l.l0.noDragRegion,l.l0.align.center,l.l0.justify.center],refreshButton:[l.l0.height(32),l.l0.width(32),l.l0.noDragRegion]});function Tu(){var e=(0,pe.Z)(),n=e.hotReloading,t=e.runner,i=(0,d.useState)((function(){return n.isDirty()})),o=i[0],a=i[1],s=(0,d.useState)(!1),u=s[0],p=s[1],f=(0,fe.L7)(t),h=(0,Za.Z)(),v=(0,x.P5)({controlName:"flag-toolchain-multiple-runners",logFlagToAnalytics:!1})?-64:-32,m=(0,C.Z)({},l.BC.min("tabletMin"),[l.l0.position.absolute,l.l0.right(v)]);return(0,d.useEffect)((function(){var e=n.onIsDirtyChanged((function(e){a(e)}));return function(){e()}}),[n]),n.isSupported()&&f===Uc.Ah.RUNNING?(0,r.tZ)(c.G,{css:[Ru.wrapper,m],children:o?(0,r.tZ)(ue.h,{onClick:function(){u||(p(!0),n.flushEvents().then((function(){h.current&&p(!1)})))},alt:"Refresh output with latest changes",css:Ru.refreshButton,children:(0,r.tZ)(Lc.Z,{size:16,fill:l.TV.accentPrimaryStronger,css:u&&{animation:"".concat(Su," infinite 0.5s")}})}):(0,r.tZ)(me.u,{tooltip:"Output synced with latest changes",children:(0,r.tZ)(Pn.Z,{size:16,fill:l.TV.accentPositiveStronger})})}):(0,r.tZ)(c.G,{css:Ru.wrapper})}var Eu=[S.Sy.Submit,S.Sy.Resubmit,S.Sy.UpdateModelSolution,S.Sy.PublishTemplate,S.Sy.EditTemplate,S.Sy.ReviewSubmission],Iu={root:(0,i.iv)([l.l0.width("100%"),l.l0.top(0),l.l0.left(0),l.l0.py(8),l.l0.px(12),l.l0.position.absolute,{userSelect:"none",display:"grid",gridTemplateColumns:"1fr max-content 1fr",alignItems:"center",gap:8," [data-repl-info-username]":{gridTemplateColumns:"0fr"},":hover":{"[data-repl-info-username]":{gridTemplateColumns:"1fr"}}}]),center:(0,i.iv)([l.l0.noDragRegion,l.l0.position.relative,l.l0.flex.row,l.l0.align.center]),right:(0,i.iv)([l.l0.rowWithGap(6),l.l0.align.center,l.l0.justify.end]),noDrag:(0,i.iv)([l.l0.noDragRegion]),socialGroup:(0,i.iv)([l.l0.rowWithGap(1),l.l0.align.stretch,l.l0.borderRadius(8),l.l0.noDragRegion,{overflow:"hidden"}]),inviteButton:(0,i.iv)([de.gU.filled,l.l0.borderRadius(0,8,8,0),l.l0.noDragRegion,(0,C.Z)({},l.BC.max("tabletMax"),{svg:[l.l0.mr(0)],span:[l.l0.display.none]})]),searchButton:(0,i.iv)([l.l0.height(32),l.l0.width(32),l.l0.noDragRegion])},Gu={macOSRootWithTrafficLights:(0,i.iv)([Iu.root,l.l0.dragRegion,{paddingLeft:84}]),macOSRootWithoutTrafficLights:(0,i.iv)([Iu.root,l.l0.dragRegion])};function Du(e){var n,t,i,o,a=(0,b.useRouter)(),p=(0,pe.Z)().runner,f=(0,Ae.Z)(),h=(0,w.Z)(d.useState(!1),2),v=h[0],Z=h[1],y=(0,m.e)(u.y.Run),k=(0,m.e)(u.y.Share),C=(0,yr.Z)(u.y.NotificationsButton),S=(0,Is.Z)(),T=(0,cu.NJ)(),E=(0,w.Z)(d.useState(!1),2),I=E[0],G=E[1],D=function(e){var n=(0,R.Z)({},re,e);return $.a(ae,n)}({variables:{id:f}}).data,B=(0,ut.cT)(),P=Nt((0,ut.CA)()),_=Dt(),A=(0,x.P5)({controlName:"flag-toolchain-multiple-runners",logFlagToAnalytics:!1}),U=(0,x.P5)({controlName:"flag-deployments",logFlagToAnalytics:!1}),L=(0,x.P5)({controlName:"flag-hot-reloading-ui",logFlagToAnalytics:!1}),z=(0,au.cR)(),O="Repl"===(null===D||void 0===D?void 0:D.repl.__typename)?D.repl:null,X=(null===O||void 0===O?void 0:O.multiplayers)&&O.multiplayers.length>0,j=(0,d.useRef)(null),N=(0,d.useRef)(null),M=(0,d.useRef)(v&&(null===k||void 0===k?void 0:k.isActive));(0,d.useEffect)((function(){M.current&&!(null===k||void 0===k?void 0:k.isActive)&&Z(!1),M.current=v&&(null===k||void 0===k?void 0:k.isActive)}),[k,v]),(0,d.useEffect)((function(){(null===k||void 0===k?void 0:k.isActive)&&(v&&N.current?null===k||void 0===k||k.delegateTooltip(N.current):k.delegateTooltip(j.current))}),[k,v,N]);var F="Team"===(null===O||void 0===O||null===(n=O.owner)||void 0===n?void 0:n.__typename),W=Boolean("Team"===(null===O||void 0===O||null===(t=O.owner)||void 0===t?void 0:t.__typename)&&(null===(i=null===O||void 0===O?void 0:O.owner.capabilities)||void 0===i?void 0:i.isEducationPlan)),V=Eu.find((function(e){return e===(null===O||void 0===O?void 0:O.workspaceCta)})),H=!W&&(null===O||void 0===O?void 0:O.currentUserPermissions.editMultiplayers),Y=Boolean(U&&(null===O||void 0===O?void 0:O.hostingDeploymentPermissions.canDeploy)&&!z);(0,Tt.Il)((function(){if(!W)return[tu.toggleInviteDialog.id,function(){return Z((function(e){return!e}))}]}),[Z]);var q=(0,Tt.gf)(tu.toggleInviteDialog.id);zt({match:lt.pl,data:{type:"action",label:"Multiplayer",icon:(0,r.tZ)(bn.Z,{}),description:"Open multiplayer mode",keyboardShortcut:q,run:function(){Z(!0)}}},{enabled:!W});var K=(0,Tt.gf)(tu.run.id),Q=(0,Tt.gf)(Lt.id),J=function(){var e=(0,Is.Z)(),n=(0,cu.NJ)(),t=(0,d.useState)(!1),r=t[0],i=t[1];return(0,d.useEffect)((function(){if(n&&e){var t=[];return t.push(ws.X.onEnterFullscreen((function(){return i(!0)}))),t.push(ws.X.onLeaveFullscreen((function(){return i(!1)}))),function(){t.forEach((function(e){return e()}))}}}),[e,n]),r}(),ee=Iu.root;return S&&T&&(ee=J?Gu.macOSRootWithoutTrafficLights:Gu.macOSRootWithTrafficLights),(0,r.BX)(se.Tg,{tag:"header",css:ee,children:[(0,r.tZ)(rc,{repl:e.repl,currentUser:e.currentUser}),(0,r.BX)(c.G,{innerRef:null===y||void 0===y?void 0:y.delegateTooltip,dataCy:"ws-run-btn",onClick:function(){(null===y||void 0===y?void 0:y.isActive)&&y.next()},css:Iu.center,children:[A?(0,r.tZ)(Sc,{runner:p,shortcut:K}):(0,r.tZ)(fe.ZP,{runner:p,disableTooltip:null===y||void 0===y?void 0:y.isActive,shortcut:K}),L?(0,r.tZ)(Tu,{}):null]}),(0,r.BX)(c.G,{css:Iu.right,children:[(null===O||void 0===O?void 0:O.lesson)?(0,r.tZ)(lr,{css:Iu.noDrag,lesson:O.lesson}):null,(0,r.tZ)(ue.h,{css:Iu.searchButton,onClick:function(){_()},alt:"Search & run commands",tooltipContents:(0,r.BX)(c.G,{children:[(0,r.tZ)(s.xv,{multiline:!1,children:"Search & run commands"}),Q?(0,r.tZ)(c.G,{css:[l.l0.center,l.l0.pt(4)],children:(0,r.tZ)(Tt.bM,{keyCombo:Q})}):null]}),tooltipPlacement:"bottom-end",children:(0,r.tZ)(ht.Z,{})}),(0,r.BX)(se.Tg,{css:[Iu.socialGroup],background:"root",children:[X?(0,r.tZ)(Pc,{}):null,(0,r.tZ)(Xe,{onAvatarClick:P}),H?(0,r.tZ)(r.HY,{children:(0,r.tZ)(c.G,{innerRef:j,css:{"&:only-child .invite-button":[l.l0.borderRadius(8)]},children:(0,r.tZ)(qe,{showPopover:O.currentUserPermissions.inviteGuests,children:(0,r.BX)(He.x,{isOpen:v,placement:"bottom end",label:"Invite",css:l.l0.width(400),onOpenChange:function(e){!v||I?(e&&(0,g.j)(g.U3.INVITE_MODAL_OPENED,{replId:O.id,source:"replEnvironment"}),Z(e)):Z(!1)},noArrow:!0,children:[(0,r.tZ)(ce.zx,{iconLeft:(0,r.tZ)(le.Z,{}),text:"Invite",css:[Iu.inviteButton],className:"invite-button"}),(0,r.tZ)("div",{ref:N,children:(0,r.tZ)(Cn,{handleUpgradeTriggered:function(e){return G(e)},replId:f,isTeamRepl:F})})]})})})}):null]}),Y&&O?(0,r.tZ)(c.G,{css:Iu.noDrag,children:(0,r.tZ)(Cu,{})}):null,z?(0,r.tZ)(ce.zx,{text:"Extension Devtools",iconLeft:(0,r.tZ)(lu.Z,{}),onClick:function(){B({pane:{type:"extensionDevtools"}})}}):null,V?(0,r.tZ)($n,{css:Iu.noDrag,cta:V,replId:f,isGroupProject:Boolean(null===O||void 0===O||null===(o=O.template)||void 0===o?void 0:o.isGroupProject),openIOtesterPane:function(){B({pane:{type:"autograder"}})}}):null,S?(0,r.tZ)(su.S,{}):(0,r.BX)(r.HY,{children:[(0,r.tZ)(c.G,{innerRef:C,children:(0,r.tZ)(hc,{sidebarIsOpen:!0,pathname:a.pathname,showCount:!1})}),(0,r.tZ)(oc.a,{})]})]})]})}var Bu=(0,d.memo)(Du),Pu=t(56997),_u=t(75205),Au={base:(0,i.iv)([l.l0.position.absolute,l.l0.borderRadius(8),{pointerEvents:"none",border:"1px solid",transitionProperty:"border, box-shadow",transitionDuration:Le.H.duration,transitionTimingFunction:Le.H.timingFunction}]),floating:(0,i.iv)([{borderColor:l.TV.outlineDimmest},l.l0.shadow(2)]),dragging:(0,i.iv)([{borderColor:l.TV.outlineStronger},l.l0.shadow(3)]),active:(0,i.iv)([{borderColor:l.TV.outlineDimmer}])};function Uu(e){var n=e.paneId,t=(0,ut.L0)(n),i=(0,Wr.Z)(t.isFloating),o=(0,Wr.Z)(t.isActive),a=(0,Wr.Z)(t.isBeingDragged),l=(0,Wr.Z)(t.hasBorder),s=(0,Wr.Z)(t.headerHeight);return l?(0,r.tZ)(c.G,{style:{width:"calc(100% + 2px)",left:-1,height:"calc(100% + ".concat(s,"px + 2px)"),top:-(s+1)},css:[Au.base,i&&Au.floating,o&&Au.active,a&&Au.dragging]}):null}var Lu=(0,d.memo)(Uu),zu=t(69341),Ou=c.K.div,Xu=(0,i.iv)([l.l0.width("100%"),l.l0.position.absolute,l.l0.left(0),{cursor:"ns-resize",zIndex:1,":hover":{transform:"scaleY(4)"}}]),ju=(0,i.iv)([l.l0.height("100%"),l.l0.position.absolute,l.l0.top(0),{cursor:"ew-resize",zIndex:1,":hover":{transform:"scaleX(4)"}}]),Nu=(0,i.iv)([l.l0.position.absolute,{zIndex:2,transform:"scale(2)",":hover":{transform:"scale(4)"}}]);function Mu(e){var n="topLeft"===e||"topRight"===e?"bottom":"top";return{transformOrigin:"".concat("topLeft"===e||"bottomLeft"===e?"right":"left"," ").concat(n)}}var Fu={topLeft:(0,i.iv)([l.l0.top(0),l.l0.left(0),Mu("topLeft")]),topRight:(0,i.iv)([l.l0.top(0),l.l0.right(0),Mu("topRight")]),bottomLeft:(0,i.iv)([l.l0.bottom(0),l.l0.left(0),Mu("bottomLeft")]),bottomRight:(0,i.iv)([l.l0.bottom(0),l.l0.right(0),Mu("bottomRight")])};function Wu(e){var n=e.edge,t=e.size,i=e.onPointerDown;if("top"===n||"bottom"===n)return(0,r.tZ)(Ou,{onPointerDown:i,style:(0,C.Z)({height:t},n,-t),css:Xu});if("right"===n||"left"===n)return(0,r.tZ)(Ou,{onPointerDown:i,style:(0,C.Z)({width:t},n,-t),css:ju});var o="topLeft"===n||"bottomRight"===n?"nwse-resize":"nesw-resize";return(0,r.tZ)(Ou,{onPointerDown:i,style:{height:t,width:t,cursor:o},css:[Nu,Fu[n]]})}var Vu=["bottom","right","left","bottomRight","bottomLeft"],Hu=(0,d.memo)((function(e){var n=(0,ut.ze)();return(0,r.tZ)(r.HY,{children:Vu.map((function(t){return(0,r.tZ)(Wu,{size:8,edge:t,onPointerDown:function(r){Nr(r,{start:function(){n({type:"start",paneId:e.paneId,edge:t})},move:function(e){var t=e.delta;n({type:"update",moveDelta:t})},end:function(){n({type:"end"})}})}},t)}))})})),Yu=["top","right","left","topRight","topLeft"],qu=(0,d.memo)((function(e){var n=(0,ut.ze)();return(0,r.tZ)(r.HY,{children:Yu.map((function(t){return(0,r.tZ)(Wu,{size:8,edge:t,onPointerDown:function(r){Nr(r,{start:function(){n({type:"start",paneId:e.paneId,edge:t})},move:function(e){var t=e.delta;n({type:"update",moveDelta:t})},end:function(){n({type:"end"})}})}},t)}))})}));var Ku=(0,Hr.$)(["fixedPositionOffsetX","fixedPositionOffsetY","transformX","transformY","scale","transformOriginX","width","height","transitionDuration","interactionBlanketDisplay","pointerEvents","userSelect"]),$u=Ku.cssVars,Qu=Ku.styleTokens,Ju=(0,i.iv)({transform:"translate(".concat(Qu.fixedPositionOffsetX,", ").concat(Qu.fixedPositionOffsetY,")")}),ed=(0,xe.X)({root:[l.l0.position.absolute,l.l0.top(0),l.l0.left(0),l.l0.borderRadius(0,0,8,8),l.l0.container("pane"),{transitionProperty:"transform",transitionTimingFunction:"ease-out",transform:"translate(".concat(Qu.transformX,", ").concat(Qu.transformY,") scale(").concat(Qu.scale,")"),transformOrigin:"".concat(Qu.transformOriginX," top"),width:Qu.width,height:Qu.height,transitionDuration:Qu.transitionDuration,"--fixed-position-offset-x":Qu.fixedPositionOffsetX,"--fixed-position-offset-y":Qu.fixedPositionOffsetY}],container:[l.l0.position.relative,l.l0.width("100%"),l.l0.flex.growAndShrink(1),{overflow:"auto",zIndex:1,userSelect:Qu.userSelect},!Pu.gn&&{"& .cm-editor > .cm-tooltip":Ju,"& .cm-editor > .cm-tooltip.cm-tooltip-thread":{left:"0px !important",transform:"translateY(".concat(Qu.fixedPositionOffsetY,"px)")},".cm-custom-context-menu":Ju,"& iframe":{pointerEvents:Qu.pointerEvents}}],interactionBlanket:[l.l0.coverContainer,{zIndex:1,display:Qu.interactionBlanketDisplay}]});function nd(e){var n=e.paneId,t=(0,Mt.T)(),i=(0,ut.Xo)(),o=function(e){var n=e.paneId,t=(0,w.Z)((0,_u.L)({accept:[An.Tv.File,el.z.Pane,el.z.NewPane],collect:function(e){return{isOver:e.isOver()}},hover:function(e,t){var r=t.getClientOffset();r&&o.drag({pageX:r.x,pageY:r.y,over:n})},drop:function(e,t){var r=t.getClientOffset();if(r)if(e.type!==el.z.Pane){if("nodes"===e.type){var i=(0,it.ME)(e.nodes);i.length>0&&o.drop({type:"newPaneGroup",panes:i,pageX:r.x,pageY:r.y,over:n})}if(e.type===el.z.NewPane){var a=e.pane;o.drop({type:"newPaneGroup",panes:[a],pageX:r.x,pageY:r.y,over:n})}}else o.drop({type:"pane",paneId:e.paneId,pageX:r.x,pageY:r.y,over:n})}}),2),r=t[0].isOver,i=t[1],o=(0,ut.s7)({isOver:r});return i}({paneId:n}),a=(0,ut.L0)(n),l=(0,Wr.Z)(a.isActive),s=(0,Wr.Z)(a.isFloating),u=(0,Wr.Z)(a.paneType),p=(0,Is.Z)(),f=(0,cu.NJ)()&&p?k.Mz:0,h=s,v=!s,m=(0,d.useRef)(null);(0,Fr.j)(m,a.size,(function(e){var n,t=e.width,r=e.height;return n={},(0,C.Z)(n,$u.width,t+"px"),(0,C.Z)(n,$u.height,r+"px"),n})),(0,Fr.j)(m,a.transform,(function(e){var n,t=e.x,r=e.y,i=e.scale;return n={},(0,C.Z)(n,$u.transformX,Math.round(t)+"px"),(0,C.Z)(n,$u.transformY,Math.round(r)+"px"),(0,C.Z)(n,$u.scale,i.toString()),n})),(0,Fr.j)(m,a.transformOriginXAtom,(function(e){return(0,C.Z)({},$u.transformOriginX,e)})),(0,Fr.j)(m,a.viewportInset,(function(e){var n,t=e.x,r=e.y;return n={},(0,C.Z)(n,$u.fixedPositionOffsetX,-t+"px"),(0,C.Z)(n,$u.fixedPositionOffsetY,-r-f+"px"),n})),(0,Fr.j)(m,a.isHidden,(function(e){return{opacity:e?"0":"1",visibility:e?"hidden":"visible"}})),(0,Fr.j)(m,a.animate,(function(e){return(0,C.Z)({},$u.transitionDuration,e&&t?"140ms":"0ms")})),(0,Fr.j)(m,a.zIndex,(function(e){return{"z-index":e.toString()}})),(0,Fr.j)(m,a.disableInteractions,(function(e){var n;return n={},(0,C.Z)(n,$u.interactionBlanketDisplay,e?"block":"none"),(0,C.Z)(n,$u.userSelect,e?"none":"auto"),(0,C.Z)(n,$u.pointerEvents,e?"none":"auto"),n}));var g=l?void 0:function(){i(n,{commit:"codeEditor"!==u})},Z=(0,xt.u1)();return(0,r.tZ)(xt.Xq,{value:n,children:(0,r.tZ)(se.Tg,{role:"tabpanel",id:n,"aria-labelledby":"tab-".concat(n),innerRef:(0,ti.l)(m,v?o:void 0),css:ed.root,elevated:!0,children:(0,r.BX)(zu.Z,{origin:"ErrorBoundary: PaneContainer",bsod:!0,tags:(0,at.Z)((function(){return{paneType:u}}),[u]),children:[(0,r.tZ)(Lu,{paneId:n}),(0,r.BX)(c.G,{css:ed.container,onMouseDown:g,onContextMenu:g,innerRef:function(e){return Z(n,e)},children:[(0,r.tZ)(c.G,{tabIndex:-1}),(0,r.tZ)(rd,{paneId:n})]}),h?(0,r.tZ)(Hu,{paneId:n}):null,(0,r.tZ)(c.G,{css:ed.interactionBlanket})]},n)})})}function td(e){var n=e.paneId,t=(0,it.Se)().Content,i=(0,ut.L0)(n),o=(0,Wr.Z)(i.isHidden),a=(0,Wr.Z)(i.data),l=(0,Wr.Z)(i.isActive),s=(0,Wr.Z)(i.isCommitted);(0,eu.Np)(n,a);var c=function(e){var n=nu(),t=(0,ut.HM)(),r=(0,ut.Z0)();return(0,at.Z)((function(){return function(i){switch(i.operation){case"commit":return void r(e);case"open":return void n({pane:i.pane,activate:!0,placement:i.secondary?{type:"secondary",relativeTo:e}:{type:"after",paneId:e}});case"replace":return void t({paneId:e,pane:i.pane});default:(0,js.Z)(i)}}}),[e,n,t,r])}(n);return(0,r.tZ)(t,{pane:a,options:{paneId:n,isHidden:o,performPaneOperation:c,isActive:l,isCommitted:s}})}var rd=(0,d.memo)(td),id=(0,d.memo)(nd),od=t(34495);var ad=t(33064),ld=(0,xe.X)({root:[l.l0.position.relative],count:[l.l0.top(-6),l.l0.right(-6),l.l0.minWidth(12),l.l0.borderRadius(8),l.l0.position.absolute,l.l0.backgroundColor.backgroundHighest,l.l0.shadow(3),{textAlign:"center",fontSize:10,border:"1px solid",borderColor:l.TV.outlineDefault}]});function sd(e){var n=e.count,t=(0,vr.Z)(e,["count"]);return(0,r.BX)(c.G,{css:ld.root,children:[(0,r.tZ)(la.Z,(0,R.Z)({},t)),(0,r.tZ)(c.G,{css:ld.count,children:n})]})}function cd(e){var n=e.paneId,t=(0,ut.L0)(n),i=(0,Wr.Z)(t.isCommitted),o=(0,ut.Z0)();if(!i)return{match:lt.pl,data:{type:"action",label:"Keep open",icon:(0,r.tZ)(ad.Z,{}),run:function(){o(n)}}}}function ud(e){var n=e.paneId,t=e.paneGroupId,i=(0,it.Se)(),o=(0,ut.ec)(n),a=(0,ut.A)(),l=(0,ut.Kt)(),s=(0,ut.R5)({paneGroupId:t});return(0,at.Z)((function(){var e=i.getTitle(o),t=[{match:lt.pl,data:{type:"action",label:"Close "+e,icon:(0,r.tZ)(la.Z,{}),run:function(){a(n)}}}];return s&&s>1&&t.push({match:lt.pl,data:{type:"action",label:"Close all other tabs",icon:(0,r.tZ)(sd,{count:s-1}),run:function(){l(n)}}}),t}),[i,o,n,a,l,s])}var dd=function(e){return{data:e,match:lt.pl}};var pd=t(38556),fd=function(e){return{data:e,match:lt.pl}};function hd(e){var n=e.paneId,t=function(e){var n=e.paneId,t=(0,it.Se)(),i=(0,ft.B)(),o=(0,ut.FQ)();return(0,at.Z)((function(){return{data:{type:"context",label:"Tools",icon:(0,r.tZ)(pt.Z,{})},commands:function(){return i.map((function(e){return{match:lt.pl,data:{type:"action",label:t.getTitle(e),icon:t.Icon({pane:e}),run:function(){(0,g.j)(g.U3.TOOL_OPENED,{source:"Tab Menu",tool:e.type}),o({paneId:n,pane:e})}}}}))}}}),[i,t,o,n])}({paneId:n}),i=function(e){var n=e.paneId,t=(0,ze.Bx)(),i=(0,ut.Vu)(),o=(0,ut.FQ)();return(0,at.Z)((function(){var e=i.map((function(e){return e.filePath})),a=t.filter((function(n){return!e.includes(n)}));return{data:{type:"context",label:"Recent",icon:(0,r.tZ)(ot.Z,{})},commands:function(e){var t=e.search;return(0,st.w)({paths:a,search:t,run:function(e){var t=(0,it.Dp)({path:e});o({paneId:n,pane:{type:t,data:{path:e}}})}})}}}),[t,o,n,i])}({paneId:n}),o=function(e){var n=e.paneId,t=(0,pe.Z)().fs,i=(0,ut.FQ)();return(0,at.Z)((function(){return{match:lt.pl,data:{type:"context",label:"Files",icon:(0,r.tZ)(ad.Z,{})},commands:function(e){var r=e.search,o=e.active;return(0,tt.Z)((function(){var e;return(0,rt.__generator)(this,(function(a){switch(a.label){case 0:return r||o?[4,t.listFiles()]:[2,[]];case 1:if((e=a.sent()).error)return[2,[]];if(!e.files)throw new Error("Expected files");return[2,(0,st.w)({paths:e.files,search:r,run:function(e){var t=(0,it.Dp)({path:e});i({paneId:n,pane:{type:t,data:{path:e}}})}})]}}))}))()}}}),[t,i,n])}({paneId:n});return(0,at.Z)((function(){return{match:lt.pl,data:{type:"context",label:"Change tab",icon:(0,r.tZ)(pd.Z,{})},commands:function(e){var n=e.search,r=e.active;return n||r?[i,o,t]:[]}}}),[i,t,o])}var vd=c.K.div;function md(e){var n=e.paneId,t=e.paneGroupId,i=e.isActive,o=e.onClose,a=e.dragGroup,s=(0,vr.Z)(e,["paneId","paneGroupId","isActive","onClose","dragGroup"]),c=(0,ut.L0)(n),u=(0,Wr.Z)(c.hasMovedWhileDragging),p=(0,Wr.Z)(c.isCommitted),f=(0,ut.Z0)(),h=(0,ut.ec)(n),v=(0,it.Se)(),m=v.getTitle(h),Z=v.Icon({pane:h,size:16}),b=(0,Mt.T)(),x=(0,d.useRef)(null),y=(0,w.Z)((0,nl.c)({type:el.z.Pane,item:function(){var e,t=(null===(e=x.current)||void 0===e?void 0:e.getBoundingClientRect().width)||80;return{type:el.z.Pane,paneId:n,width:t}},collect:function(e){return{isDragging:e.isDragging()}}}),2),k=y[0].isDragging,C=y[1],S=(0,ut.y8)();(0,d.useEffect)((function(){return S(k)}),[S,k]);var R=(0,ut.q6)({paneGroupId:t}).dnd,T=(0,d.useRef)(!1);(0,d.useEffect)((function(){a&&u&&(T.current=!0,window.addEventListener("click",(function(){T.current=!1})))}),[u,a]);var E=R&&a?function(e){1!==e.button&&Nr(e,{start:R.start,move:R.update,end:R.end})}:void 0;(0,d.useEffect)((function(){i&&x.current&&(0,od.Z)(x.current,{behavior:b?"auto":"smooth",scrollMode:"if-needed"})}),[i,b,x]);var I=function(e){var n=e.paneId,t=e.paneGroupId,i=(0,xt.Y6)(n),o=cd({paneId:n}),a=hd({paneId:n}),l=ud({paneId:n,paneGroupId:t}),s=(0,it.Se)(),c=(0,ut.ec)(n);return(0,at.Z)((function(){var e,n,t,u=null!==(n=null===i||void 0===i||null===(e=i.actions)||void 0===e?void 0:e.map(fd))&&void 0!==n?n:[],d=null!==(t=null===i||void 0===i?void 0:i.commands)&&void 0!==t?t:[];return{data:{type:"context",label:"Search actions",icon:(0,r.tZ)(s.Icon,{pane:c})},commands:function(){return(0,Qe.Z)(u).concat((0,Qe.Z)(d),[{data:{type:"group",key:"secondary"},commands:function(){return[o,a].concat((0,Qe.Z)(l)).filter(Boolean)}}])}}}),[i,s,c,o,a,l])}({paneGroupId:t,paneId:n}),G=(0,so.av)(),D=G.onContextMenu,B=G.openContextMenu;return(0,r.tZ)(r.HY,{children:(0,r.tZ)(vd,{ref:x,css:k?[l.l0.width(0),l.l0.visibility.hidden]:[l.l0.px(2)],onAuxClick:function(e){1===e.button&&(e.preventDefault(),e.stopPropagation(),Bl.c_.addBreadcrumb({category:"pane",message:"Tab closed: "+h.type,data:{reason:"middle click"}}),(0,g.j)(g.U3.WS_TAB_CLOSED,{paneType:h.type}),o())},onMouseUp:function(e){1===e.button&&(e.preventDefault(),e.stopPropagation())},children:(0,r.tZ)(Rd,{innerRef:E?void 0:C,title:m,icon:"commands"!==h.type?Z:void 0,isActive:i,italicizeTitle:!!(0,it.Ur)(h)&&!p,paneId:n,onClick:i?function(e){!T.current&&i&&(B({target:e.currentTarget,command:I}),f(n)),T.current=!1}:function(){},onContextMenu:function(e){return D(e,{command:I})},onMouseDown:function(){i||(T.current=!0,Bl.c_.addBreadcrumb({category:"pane",message:"Tab clicked: "+h.type}),(0,g.j)(g.U3.WS_TAB_OPENED,{paneType:h.type}),s.onClick())},onPointerDown:E,onClose:function(){Bl.c_.addBreadcrumb({category:"pane",message:"Tab closed: "+h.type}),(0,g.j)(g.U3.WS_TAB_CLOSED,{paneType:h.type}),o()}})})})}var gd=c.K.button,Zd=(0,i.iv)([l.l0.display.inlineFlex,l.l0.height("100%"),l.l0.flex.row,l.l0.align.center,l.l0.borderRadius(8),{"& > *":l.l0.height("100%"),userSelect:"none",transitionProperty:"border",transitionDuration:Le.H.duration,transitionTimingFunction:Le.H.timingFunction,border:"1px solid transparent","&:hover":{border:"1px solid ".concat(de.vb.interactiveBackground)}}]),bd=(0,i.iv)([l.l0.truncate,l.l0.maxWidth(180)]),xd=(0,i.iv)([l.l0.width(16),l.l0.height(16),l.l0.position.relative]),yd=(0,i.iv)([l.l0.cursor.pointer,l.l0.center,l.l0.rowWithGap(4),l.l0.pl(4),l.l0.pr(4),l.l0.focusRing,de.gU.nofill,l.l0.borderRadius(8,0,0,8),{border:"none",font:"inherit",lineHeight:"normal",color:"inherit"}]),wd=(0,i.iv)([l.l0.center]);function kd(){return(0,r.tZ)(c.G,{css:wd,children:(0,r.tZ)(ur.Z,{size:12,color:l.TV.foregroundDefault})})}var Cd=(0,xe.X)({root:[l.l0.height("100%"),l.l0.center,{"& > div":l.l0.height("100%")}],button:[l.l0.height("100%"),l.l0.width(24),l.l0.center,l.l0.borderRadius(0,8,8,0),{"& svg":{minWidth:12,minHeight:12,width:12,height:12}}]});function Sd(e){var n=e.onClick,t=e.tabIndex,i=e.isActive,o={borderLeft:"1px solid",borderColor:l.TV.backgroundHighest};return(0,r.tZ)(c.G,{css:Cd.root,style:i?o:void 0,children:(0,r.tZ)(ue.h,{onClick:n,alt:"Close",tabIndex:t,css:Cd.button,children:(0,r.tZ)(la.Z,{})})})}function Rd(e){var n=e.title,t=e.onClick,i=e.onContextMenu,o=e.onClose,a=e.isActive,u=e.italicizeTitle,p=e.innerRef,f=e.icon,h=e.onMouseDown,v=e.onPointerDown,m=e.paneId,g=d.useRef(null),Z=(0,w.Z)((0,Dl.XZ)(g,!1),4),b=Z[0],x=Z[1],y=Z[2],k=Z[3];return(0,Dl.Ym)(x,g),(0,r.BX)(se.Tg,{elevated:a,innerRef:p,css:[Zd,a?l.l0.color.foregroundDefault:l.l0.color.foregroundDimmer],children:[(0,r.BX)(gd,{role:"tab",ref:g,tabIndex:b,onKeyDown:y,onMouseDown:h,onClick:function(e){k(),t(e)},onPointerDown:v,onContextMenu:i,css:yd,"aria-selected":a,"aria-controls":m,id:"tab-".concat(m),children:[f?(0,r.tZ)(c.G,{css:[{opacity:a?1:.6},xd],children:f}):null,(0,r.tZ)(s.xv,{multiline:!1,css:[{fontStyle:u?"italic":"inherit"},bd],children:n}),a?(0,r.tZ)(kd,{}):null]}),a?(0,r.tZ)(Id,{paneId:m}):null,(0,r.tZ)(Sd,{isActive:a,onClick:o,tabIndex:x?0:-1})]})}var Td=(0,xe.X)({root:[l.l0.rowWithGap(0)],button:[l.l0.height("100%"),l.l0.center,l.l0.borderRadius(0)]});function Ed(e){var n=e.icon,t=e.run,i=e.label,o=e.dataCy;return(0,r.tZ)(ue.h,{css:Td.button,onClick:function(){return t(null)},dataCy:o,alt:i,children:n})}function Id(e){var n=e.paneId,t=(0,xt.Y6)(n),i=null===t||void 0===t?void 0:t.actions;return(null===i||void 0===i?void 0:i.length)?(0,r.tZ)(c.G,{css:Td.root,children:i.map((function(e){var n=e.label,t=(0,vr.Z)(e,["label"]);return(0,r.tZ)(Ed,(0,R.Z)({label:n},t),n)}))}):null}function Gd(){var e=(0,pe.Z)().presence,n=(0,w.Z)(d.useState(e.getFollowingUsers()),2),t=n[0],r=n[1];return d.useEffect((function(){return r(e.getFollowingUsers()),e.onFollowingUsersChanged((function(e){r(e.followingUsers)}))}),[e]),t}function Dd(){var e=(0,T.Z)(["\n  query WorkspaceActiveUserImages($userIds: [Int!]!) {\n    usersByIds(ids: $userIds) {\n      id\n      image\n    }\n  }\n"]);return Dd=function(){return e},e}var Bd={},Pd=(0,E.Ps)(Dd());function _d(e){var n=function(e){var n=(0,R.Z)({},Bd,e);return $.a(Pd,n)}({variables:{userIds:e.slice(0,di.I)},skip:0===e.length}).data;return n?new Map(n.usersByIds.map((function(e){return[e.id,e.image]}))):null}var Ad={root:(0,i.iv)([l.l0.rowWithGap(4),l.l0.align.center]),text:(0,i.iv)([l.l0.flex.shrink(1),l.l0.align.center]),username:(0,i.iv)([l.l0.flex.shrink(2),l.l0.maxWidth(140),l.l0.truncate])};function Ud(){var e=Gd();return 0===e.length?null:1===e.length?(0,r.tZ)(Ld,{user:e[0]}):(0,r.BX)(s.xv,{variant:"small",color:"dimmest",css:Ad.text,multiline:!1,children:[e.length," users are observing you"]})}function Ld(e){var n=e.user,t=n.id,i=n.username,o=n.color,a=_d([t]),l={id:t,username:i,color:o,image:null===a||void 0===a?void 0:a.get(t)};return(0,r.BX)(c.G,{css:Ad.root,children:[(0,r.tZ)(ve.q,{size:16,src:l.image||null,username:l.username,ringColor:l.color}),(0,r.tZ)(s.xv,{variant:"small",color:"dimmer",css:Ad.username,multiline:!1,children:i}),(0,r.tZ)(s.xv,{variant:"small",color:"dimmest",css:Ad.text,multiline:!1,children:"is observing you"})]})}var zd={root:(0,i.iv)([l.l0.rowWithGap(4),l.l0.align.center]),text:(0,i.iv)([l.l0.flex.shrink(1),l.l0.align.center]),username:(0,i.iv)([l.l0.flex.shrink(2),l.l0.maxWidth(140),l.l0.truncate])};function Od(e){var n=e.id,t=e.username,i=e.color,o=_d([n]),a=(0,pe.Z)().presence,l={id:n,username:t,color:i,image:null===o||void 0===o?void 0:o.get(n)};return(0,r.BX)(c.G,{css:zd.root,children:[(0,r.tZ)(ve.q,{size:16,src:l.image||null,username:l.username,ringColor:l.color}),(0,r.tZ)(s.xv,{css:zd.text,variant:"small",color:"dimmest",multiline:!1,children:"Observing"}),(0,r.tZ)(s.xv,{css:zd.username,variant:"small",color:"dimmer",multiline:!1,children:t}),(0,r.tZ)(ue.h,{alt:"Stop observing",size:18,onClick:function(){a.unfollowUser()},children:(0,r.tZ)(la.Z,{})})]})}var Xd=t(84630);function jd(e){var n=e.paneId,t=(0,ut.ec)(n),i=function(e){var n=e.paneId,t=(0,Xd.Z)(),r=(0,ut.cr)({paneId:n});return t&&r?t:null}({paneId:n}),o=function(e){var n=e.paneId,t=Gd();return(0,ut.cr)({paneId:n})&&t.length>0?t:null}({paneId:n}),a=(0,it.Ur)(t)?t.data.path:null,s=null;return i&&(s=(0,r.tZ)(Od,{id:i.id,username:i.username,color:i.color})),null!==s||o?(0,r.BX)(c.G,{css:[l.l0.px(4),l.l0.rowWithGap(8)],children:[o&&a?(0,r.tZ)(Ud,{}):null,s]}):null}var Nd=c.K.div,Md=(0,i.iv)([l.l0.flex.growAndShrink(1),l.l0.minWidth(16),l.l0.height("100%")]);function Fd(e){var n=e.paneGroupId,t=e.activeTabPaneId,i=(0,ut.q6)({paneGroupId:n}),o=i.isDragging,a=i.dnd,l=(0,ut.Lo)().toggleMaximizedPaneGroup,s=(0,ut.oL)(n),c=(0,Wr.Z)(s.isMaximized),u=(0,ut.Xo)();if(!a)return null;var d=o?"grabbing":"grab";return(0,r.tZ)(Nd,{onDoubleClick:function(){l({paneGroupId:n})},css:Md,style:{cursor:c?void 0:d},onPointerDown:function(e){u(t),c||0===e.button&&Nr(e,{start:a.start,move:a.update,end:a.end})}})}var Wd=t(18988),Vd=t(43330);function Hd(e){var n,t=null!==(n=e.size)&&void 0!==n?n:20;return(0,r.tZ)(c.G,{css:[l.l0.center,{fontSize:l.TV.fontSizeSmall,border:"1px solid",borderColor:l.TV.outlineDefault},l.l0.borderRadius(8)],style:{width:t,height:t},children:(0,r.tZ)(c.G,{css:{lineHeight:1},children:e.count})})}var Yd=t(463),qd=t(69071),Kd=t(81598),$d=t(32895),Qd=t(7747),Jd=t(98797),ep=t(68483),np=t(82001),tp=new Map([["leftOf",{commandId:tu.insertPaneGroupUp.id,label:"Insert Left",icon:(0,r.tZ)(uo.Z,{})}],["rightOf",{commandId:tu.insertPaneGroupRight.id,label:"Insert Right",icon:(0,r.tZ)($d.Z,{})}],["above",{commandId:tu.insertPaneGroupLeft.id,label:"Insert Up",icon:(0,r.tZ)(Qd.Z,{})}],["below",{commandId:tu.insertPaneGroupDown.id,label:"Insert Down",icon:(0,r.tZ)(Jd.Z,{})}]]);function rp(e){var n=e.paneId,t=e.paneGroupId,i=(0,ut.oL)(t),o=(0,Wr.Z)(i.isMaximized),a=(0,Wr.Z)(i.isFloating),l=!o&&!a,s=function(e){var n=e.paneId,t=(0,np.xF)(),r=(0,ut.Bd)();return(0,at.Z)((function(){var e;return(0,Qe.Z)(tp.entries()).map((function(i){var o,a=(0,w.Z)(i,2),l=a[0],s=a[1],c=s.commandId,u=s.label,d=s.icon;return{match:lt.pl,data:{label:u,icon:d,type:"action",keyboardShortcut:null!==(e=null===(o=t.get(c))||void 0===o?void 0:o.shortcut)&&void 0!==e?e:void 0,run:function(){r({placement:l,paneId:n,autoFocus:!0}),(0,g.j)(g.U3.WS_SPLIT_USED,{action:"opened",placement:l})}}}}))}),[t,r,n])}({paneId:n});return(0,at.Z)((function(){if(!l)return[];var e=s;return[{match:lt.pl,data:{type:"context",label:"Add pane",icon:(0,r.tZ)(ep.Z,{})},commands:function(n){var t=n.active,r=n.search;return t||r?e:[]}}]}),[l,s])}var ip=t(88132),op=t(3652),ap=t(58027),lp=t(80236),sp=new Map([["left",{label:"Move Left",icon:(0,r.tZ)(op.Z,{})}],["right",{label:"Move Right",icon:(0,r.tZ)(sc.Z,{})}],["up",{label:"Move Up",icon:(0,r.tZ)(ap.Z,{})}],["down",{label:"Move Down",icon:(0,r.tZ)(ip.Z,{})}]]);function cp(e){var n=e.paneGroupId,t=e.paneId,i=rp({paneId:t,paneGroupId:n}),o=function(e){var n=e.paneGroupId,t=(0,ut.oL)(n),i=(0,Wr.Z)(t.isMaximized),o=(0,Wr.Z)(t.isFloating),a=!i&&!o,l=(0,ut.e$)();return(0,at.Z)((function(){var e=(0,Qe.Z)(sp.entries()).map((function(e){var n=(0,w.Z)(e,2),t=n[0],r=n[1],i=r.label,o=r.icon;return{match:lt.pl,data:{label:i,icon:o,type:"action",run:function(){l({direction:t})}}}}));return a?[{match:lt.pl,data:{type:"context",label:"Move pane",icon:(0,r.tZ)(lp.Z,{})},commands:function(n){var t=n.active,r=n.search;return t||r?e:[]}}]:[]}),[a,l])}({paneGroupId:n}),a=function(e){var n=e.paneGroupId,t=(0,ut.Lo)(),i=t.maximizePaneGroup,o=t.restoreMaximizedPaneGroup,a=(0,ut.oL)(n),l=(0,Wr.Z)(a.isMaximized),s=(0,Tt.gf)(tu.toggleMaximizePaneGroup.id);return(0,at.Z)((function(){return l?[{match:lt.pl,data:{type:"action",label:"Restore",icon:(0,r.tZ)(Kd.Z,{}),run:function(){return o()},keyboardShortcut:s}}]:[{match:lt.pl,data:{type:"action",label:"Maximize",icon:(0,r.tZ)(qd.Z,{}),run:function(){return i({paneGroupId:n})},keyboardShortcut:s}}]}),[l,s,o,i,n])}({paneGroupId:n}),l=function(e){var n=e.paneGroupId,t=(0,ut.lI)(),i=(0,ut.DR)(),o=(0,Tt.gf)(tu.removePaneGroup.id);return(0,at.Z)((function(){return[{match:lt.pl,data:{type:"action",label:"Close",icon:(0,r.tZ)(la.Z,{}),run:function(){i(),t({paneGroupId:n})},keyboardShortcut:o}}]}),[i,t,o,n])}({paneGroupId:n}),s=function(e){var n=e.paneId,t=e.paneGroupId,i=(0,ut.OO)(),o=(0,ut.oL)(t),a=(0,Wr.Z)(o.isMaximized),l=(0,Wr.Z)(o.isFloating),s=(0,Tt.gf)(tu.toggleFloatPaneGroup.id);return(0,at.Z)((function(){return a?[]:[{match:lt.pl,data:{type:"action",label:l?"Unfloat":"Float",icon:l?(0,r.tZ)(Yd.Z,{}):(0,r.tZ)(ys.Z,{}),keyboardShortcut:s,run:function(){i(n)}}}]}),[n,i,s,l,a])}({paneId:t,paneGroupId:n});return(0,at.Z)((function(){return[{data:{type:"group",key:"pane-group"},commands:function(){return(0,Qe.Z)(i).concat((0,Qe.Z)(o),(0,Qe.Z)(a),(0,Qe.Z)(s),(0,Qe.Z)(l))}}]}),[i,o,a,s,l])}function up(e){var n=e.paneGroupId,t=e.paneId,i=function(e){var n=e.paneId,t=e.paneGroupId,i=(0,it.Se)(),o=(0,ut.ec)(n),a=(0,xt.Y6)(n),l=cd({paneId:n}),s=ud({paneId:n,paneGroupId:t});return(0,at.Z)((function(){var e,n,t,c=i.getTitle(o),u=null!==(n=null===a||void 0===a||null===(e=a.actions)||void 0===e?void 0:e.map(dd))&&void 0!==n?n:[],d=null!==(t=null===a||void 0===a?void 0:a.commands)&&void 0!==t?t:[],p=(0,Qe.Z)(u).concat((0,Qe.Z)(d),[{data:{type:"group",key:"pane-close"},commands:function(){return[l].concat((0,Qe.Z)(s)).filter(Boolean)}}]),f={match:lt.pl,data:{type:"context",label:c,icon:(0,r.tZ)(i.Icon,{pane:o})},commands:function(e){var n=e.active,t=e.search;return n||t?p:[]}};return f}),[o,a,i,l,s])}({paneId:t,paneGroupId:n}),o=function(e){var n=e.paneGroupId,t=e.paneId,i=(0,ut.FZ)(),o=(0,it.Se)(),a=(0,ut.VD)(),l=(0,ut.Eh)(),s=hd({paneId:t});return(0,at.Z)((function(){var e=i.tiling,t=i.floating,c=e.reduce((function(e,n){return e+n.panes.length}),0)+t.reduce((function(e,n){return e+n.panes.length}),0),u={match:lt.pl,data:{type:"action",label:"New tab",icon:(0,r.tZ)(gt.Z,{}),run:function(){l({paneGroupId:n,activate:!0,panes:[{type:"commands",data:{autoFocus:!0}}]})}}};return c?[s,{match:lt.pl,data:{type:"context",label:(0,Vn.Z)("Tab",c),icon:(0,r.tZ)(Hd,{count:c})},commands:function(n){var i=n.active,l=n.search;if(!i&&!l)return[];var s=(0,Qe.Z)(e).concat((0,Qe.Z)(t)).map((function(e,n){return{data:{type:"group",key:"paneGroups"+n},commands:function(){return e.panes.map((function(e){var n=(0,w.Z)(e,2),t=n[0],i=n[1];return{match:lt.pl,data:{type:"action",label:o.getTitle(i),icon:(0,r.tZ)(o.Icon,{pane:i}),run:function(){a({paneId:t,activate:!0})}}}}))}}}));return s.unshift(u),s}}]:[s,u]}),[i,o,a,l,n,s])}({paneId:t,paneGroupId:n}),a=cp({paneGroupId:n,paneId:t});return(0,at.Z)((function(){return{data:{type:"group",key:"root",description:"Search"},commands:function(){return[i].concat((0,Qe.Z)(o),(0,Qe.Z)(a))}}}),[i,o,a])}var dp=t(35086),pp=(0,i.F4)({"0%":{transform:"translate(0, 0)"},"8.33%, 25%":{transform:"translate(-50%, 0)"},"33.33%, 50%":{transform:"translate(-50%, -50%)"},"58.33%, 75%":{transform:"translate(0, -50%)"},"83.33%, 100%":{transform:"translate(0, 0)"}}),fp=(0,xe.X)({root:[l.l0.position.relative,{overflow:"hidden"}],border:dp.w7.border,arrows:[l.l0.position.absolute,l.l0.top(0),l.l0.left(0),l.l0.flex.row,l.l0.flex.wrap,{animationName:pp,animationDirection:"normal",animationTimingFunction:"ease-out",animationIterationCount:"infinite"}],arrow:[l.l0.width("50%"),l.l0.height("50%"),l.l0.center]});function hp(e){var n=e.delay,t=e.duration;return(0,r.BX)(c.G,{style:{width:20,height:20},css:fp.root,children:[(0,r.tZ)(c.G,{css:fp.border}),(0,r.BX)(c.G,{css:fp.arrows,style:{width:40,height:40,animationDelay:n?n+"ms":void 0,animationDuration:t?t+"ms":"8000ms"},children:[(0,r.tZ)(c.G,{css:fp.arrow,children:(0,r.tZ)(ip.Z,{size:12})}),(0,r.tZ)(c.G,{css:fp.arrow,children:(0,r.tZ)(op.Z,{size:12})}),(0,r.tZ)(c.G,{css:fp.arrow,children:(0,r.tZ)(sc.Z,{size:12})}),(0,r.tZ)(c.G,{css:fp.arrow,children:(0,r.tZ)(ap.Z,{size:12})})]})]})}var vp=(0,xe.X)({overlay:[l.l0.align.end,l.l0.p(16),l.l0.position.absolute,l.l0.overflow("hidden"),l.l0.zIndex(ut.MI.overlay)],surface:[l.l0.position.relative,l.l0.borderRadius(8),l.l0.flex.shrink(1),{maxHeight:"100%",maxWidth:"100%",border:"1px solid",borderColor:l.TV.outlineDefault,opacity:0},l.l0.shadow(3)],innerSurface:[l.l0.flex.growAndShrink(1),l.l0.borderRadius(8)]});var mp=(0,xe.X)({root:[l.l0.colWithGap(8),l.l0.p(8),{borderTop:"1px solid",borderColor:l.TV.outlineDimmer}],row:[l.l0.rowWithGap(2),l.l0.align.center,l.l0.justify.spaceBetween]}),gp=6e3;function Zp(){return(0,r.BX)(c.G,{css:mp.root,children:[(0,r.BX)(c.G,{css:mp.row,children:[(0,r.tZ)(s.xv,{color:"dimmest",variant:"small",multiline:!1,children:"Move focus"}),(0,r.tZ)(dp.ZP,{size:"small",shortcut:{cmdOrCtrlKey:!0,key:(0,r.tZ)(hp,{duration:gp})}})]}),(0,r.BX)(c.G,{css:mp.row,children:[(0,r.tZ)(s.xv,{color:"dimmest",variant:"small",multiline:!1,children:"Move pane"}),(0,r.tZ)(dp.ZP,{size:"small",shortcut:{shiftKey:!0,cmdOrCtrlKey:!0,key:(0,r.tZ)(hp,{duration:gp,delay:1500})}})]})]})}var bp=(0,d.memo)((function(){var e=function(){var e=(0,ut.rX)(),n=(0,ut.ZW)();if(n){var t=function(e){return{width:e.width,height:e.height,transform:"translate(".concat(e.x,"px, ").concat(e.y,"px)")}}(n),r=t.width,i=t.height,o=t.transform,a={border:"1px solid",borderColor:l.TV.accentPrimaryStronger,borderRadius:l.TV.borderRadius8,boxShadow:l.TV.shadow3,transitionProperty:"transform, height, width",transitionDuration:Le.H.duration,transitionTimingFunction:Le.H.timingFunction};return(0,R.Z)({width:r,height:i,transform:o},e?void 0:a)}}(),n=(0,ut.DR)(),t=(0,wa.Z)(n,[]);return(0,d.useEffect)((function(){var e=setTimeout((function(){(0,Hl.A)(t,"opacity","1")}));return function(){clearTimeout(e)}}),[t]),(0,r.tZ)(Wd.MT,{restoreFocus:!0,autoFocus:!0,contain:!0,children:(0,r.tZ)(c.G,{style:e,css:vp.overlay,children:(0,r.tZ)(se.Tg,{innerRef:t,elevated:!0,css:vp.surface,children:(0,r.tZ)(se.Tg,{css:vp.innerSurface,elevated:!0,children:(0,r.tZ)(kp,{})})})})})})),xp={ArrowUp:"above",ArrowDown:"below",ArrowRight:"rightOf",ArrowLeft:"leftOf"},yp={ArrowUp:"up",ArrowDown:"down",ArrowRight:"right",ArrowLeft:"left"},wp=Object.keys(xp),kp=(0,d.memo)((function(){var e=(0,ut.je)(),n=(0,ut.e$)(),t=(0,ut.HW)(),i=(0,ut.rX)();(0,Vd.x)({key:"Escape"},{run:function(){t()}}),(0,Vd.x)(wp.map((function(e){return{key:e,cmdOrCtrlKey:!0}})),{run:function(n){e(xp[n.key])},enabled:!i}),(0,Vd.x)(wp.map((function(e){return{key:e,cmdOrCtrlKey:!0,shiftKey:!0}})),{run:function(e){n({direction:yp[e.key]})},enabled:!i});var o=(0,ut.ts)();return o?"sidebar"===o.target?null:(0,r.tZ)(r.HY,{children:(0,r.tZ)(Cp,{paneGroupId:o.paneGroupId,paneId:o.paneId})}):null}));function Cp(e){var n=(0,ut.rX)(),t=(0,ut.DR)(),i=(0,ut.HW)(),o=up(e);return(0,r.tZ)(Jn.X,{iconBreadcrumbs:!0,command:o,onAction:function(){return t()},onKeyDown:function(e,n){var t=n.inputValue,r=n.hasHighlightedItem;if("Enter"===e.key&&!t&&!r)return e.preventDefault(),void i();(0,Ki.j)(e)&&e.preventDefault()},footer:n?null:(0,r.tZ)(Zp,{})})}var Sp={id:"paneMenu.toggle",name:"Toggle pane context menu",default:(0,Ut.l2)({cmdOrCtrl:!0,key:"j"})};function Rp(){var e=(0,ut.H7)(),n=(0,ut.Yg)();return(0,Tt.Il)((function(){return[Sp.id,function(){return e()}]}),[e]),n?(0,r.tZ)(bp,{}):null}var Tp=t(28737),Ep=t(87833);var Ip=(0,xe.X)({left:[l.l0.rowWithGap(2),l.l0.flex.growAndShrink(1),l.l0.align.center,l.l0.height("100%")],right:[l.l0.px(4),l.l0.rowWithGap(2)],scrollbar:[l.l0.flex.row,l.l0.flex.shrink(1),l.l0.align.center,l.l0.height("100%"),{"& > .os-viewport":l.l0.height("100%")}],tabContainer:[l.l0.flex.row,l.l0.height("100%"),l.l0.py(4),l.l0.px(2)],tabPreviewWrap:[l.l0.px(2)],tabPreview:[l.l0.borderRadius(8),l.l0.height(28),l.l0.backgroundColor.accentPrimaryDimmest,{border:"1px dashed ".concat(l.TV.accentPrimaryDefault)}]});function Gp(e){var n=e.headerId,t=(0,ut.eM)(),i=(0,ut.Eh)(),o=(0,ut.JW)(),a=(0,ut.A)(),l=(0,ut.Jy)(),s=(0,ut.qV)(n),u=(0,Wr.Z)(s.activeIndex),p=(0,Wr.Z)(s.activeTabPaneId),f=(0,Wr.Z)(s.panes),h=function(e){var n=e.visibility,t=(0,Tp.F)().isDarkColorScheme,r=(0,d.useState)(!1),i=r[0],o=r[1],a=(0,w.Z)((0,Ep.A)({options:{overflow:{y:"hidden",x:"scroll"},update:{debounce:[100,200]},scrollbars:{theme:t?"os-theme-light":"os-theme-dark",autoHide:"leave",visibility:n}},events:{initialized:function(){return o(!0)}}}),2),l=a[0],s=a[1],c=(0,d.useCallback)((function(e){e&&l(e)}),[l]),u=(0,d.useRef)(0),p=(0,d.useRef)(!1);return{ref:c,initialized:i,handleWheel:function(e){var n=s();if(n&&0!==e.deltaY&&0===e.deltaX){var t=n.elements().viewport,r=t.scrollLeft,i=e.deltaY,o=t.scrollWidth;p.current=!0,u.current=Math.max(0,Math.min(o,r+i)),t.scrollLeft=u.current}}}}({visibility:l?"hidden":"auto"}),v=(0,w.Z)((0,_u.L)({accept:[An.Tv.File,el.z.Pane,el.z.NewPane],hover:function(e,n){var t=n.getSourceClientOffset();t&&x({item:e,panes:f,sourceClientOffset:t.x})},collect:function(e){return{isOver:e.isOver()}},drop:function(e,t){if(!t.didDrop()){var r=null!==(null===y||void 0===y?void 0:y.index)?null===y||void 0===y?void 0:y.index:f.length;if("nodes"!==e.type)if(e.type!==el.z.NewPane){if("paneId"in e){var a=f.includes(e.paneId)?f.length-1:f.length;o({paneId:e.paneId,index:void 0!==r&&r<a?r:a,toPaneGroupId:n})}}else i({activate:!0,paneGroupId:n,index:r,panes:[e.pane]});else{var l=(0,it.ME)(e.nodes);l.length>0&&i({activate:!0,commit:!0,paneGroupId:n,index:r,panes:l})}}}}),2),m=v[0],g=v[1],Z=function(e){var n=e.isOver,t=(0,d.useState)(null),r=t[0],i=t[1],o=(0,d.useRef)(null),a=(0,d.useRef)([]);(0,d.useEffect)((function(){if(!n)return a.current=[],void i(null);o.current&&(a.current=(0,Qe.Z)(o.current.children).map((function(e){var n=e.getBoundingClientRect();return n.x+n.width/2})))}),[n]);var l=(0,d.useCallback)((function(e){if(0!==a.current.length){var n=e.item.type===el.z.Pane?e.item:null,t=(null===n||void 0===n?void 0:n.paneId)||null,r=t?e.panes.indexOf(t):-1,o=(null===n||void 0===n?void 0:n.width)||80,l=a.current.map((function(e,n){return-1===r||r<n?e:e+o/2})).findIndex((function(n){return n>e.sourceClientOffset})),s=-1===l,c=-1===r?e.panes.length:e.panes.length-1;i({index:s?c:Math.min(l,c),paneId:t,width:o})}}),[]);return{tabContainerRef:o,hover:l,dropState:r}}({isOver:m.isOver}),b=Z.tabContainerRef,x=Z.hover,y=Z.dropState,k=(0,ut.CC)(),C=(0,Tt.gf)(Sp.id),S=y?y.index:null;if((null===y||void 0===y?void 0:y.paneId)&&null!==S){var R=f.indexOf(y.paneId);R>-1&&R<S&&S++}var T=y&&null!==S?(0,Qe.Z)(f.slice(0,S)).concat([y],(0,Qe.Z)(f.slice(S))):f;return(0,r.BX)(r.HY,{children:[(0,r.BX)(c.G,{css:Ip.left,innerRef:g,role:"tablist",children:[(0,r.BX)(Dl.uP,{children:[(0,r.tZ)(c.G,{onWheel:h.handleWheel,style:{opacity:h.initialized?1:0},innerRef:h.ref,css:Ip.scrollbar,children:(0,r.tZ)(c.G,{innerRef:b,css:Ip.tabContainer,children:T.map((function(e,i){var o=u===i;return"string"!==typeof e?(0,r.tZ)(c.G,{css:Ip.tabPreviewWrap,children:(0,r.tZ)(c.G,{style:{width:e.width},css:Ip.tabPreview})},"preview"):(0,r.tZ)(md,{dragGroup:1===f.length,paneId:e,paneGroupId:n,isActive:o,onClick:function(){t(e)},onClose:function(){a(e)}},e)}))})}),(0,r.tZ)(ue.h,{alt:"New tab",tooltipHidden:!0,onClick:function(){i({paneGroupId:n,activate:!0,panes:[{type:"commands",data:{autoFocus:!0}}]})},children:(0,r.tZ)(gt.Z,{})})]}),(0,r.tZ)(Fd,{paneGroupId:n,activeTabPaneId:p})]}),(0,r.tZ)(jd,{paneId:p}),(0,r.tZ)(c.G,{css:Ip.right,children:(0,r.tZ)(ue.h,{onClick:function(){return k(p)},alt:"Pane actions",tooltipHidden:void 0===C,tooltipPlacement:"left",tooltipContents:C?(0,r.tZ)(Tt.bM,{keyCombo:C}):null,children:(0,r.tZ)(Ra.Z,{})})})]})}var Dp=(0,d.memo)(Gp),Bp=(0,Hr.$)(["left","top","scale","transformOriginX","width","height","zIndex","transitionDuration"]),Pp=Bp.cssVars,_p=Bp.styleTokens,Ap=(0,i.iv)([l.l0.borderRadius(6,6,0,0),l.l0.position.absolute,l.l0.flex.row,l.l0.align.center],{transformOrigin:"".concat(_p.transformOriginX," bottom"),top:_p.top,left:_p.left,width:_p.width,height:_p.height,transform:"scale(".concat(_p.scale,")"),transitionDuration:_p.transitionDuration,borderBottom:"1px solid ".concat(l.TV.backgroundHigher),transitionProperty:"top, left, width, height",transitionTimingFunction:"ease-out"});function Up(e){var n=e.headerId,t=(0,Mt.T)(),i=(0,ut.qV)(n),o=(0,Wr.Z)(i.activeTabPaneId),a=(0,ut.oL)(n),l=(0,Wr.Z)(a.isFloating),s=(0,d.useRef)(null);return(0,Fr.j)(s,a.size,(function(e){var n,t=e.width,r=e.height;return n={},(0,C.Z)(n,Pp.width,t+"px"),(0,C.Z)(n,Pp.height,r+"px"),n})),(0,Fr.j)(s,a.position,(function(e){var n,t=e.x,r=e.y;return n={},(0,C.Z)(n,Pp.left,Math.round(t)+"px"),(0,C.Z)(n,Pp.top,Math.round(r)+"px"),n})),(0,Fr.j)(s,a.scale,(function(e){return(0,C.Z)({},Pp.scale,e.toString())})),(0,Fr.j)(s,a.transformOriginX,(function(e){return(0,C.Z)({},Pp.transformOriginX,e)})),(0,Fr.j)(s,a.animate,(function(e){return(0,C.Z)({},Pp.transitionDuration,e&&t?"140ms":"0ms")})),(0,Fr.j)(s,a.zIndex,(function(e){return{"z-index":e.toString()}})),(0,r.BX)(se.Tg,{innerRef:s,elevated:!0,css:Ap,children:[(0,r.tZ)(Dp,{headerId:n}),l?(0,r.tZ)(qu,{paneId:o}):null]})}var Lp=(0,d.memo)(Up),zp=t(93766),Op=t(45827),Xp=t(48506),jp=t(99822),Np=t(86188),Mp=t(52841),Fp=t(15823),Wp=[ps,Lt,Sp].concat((0,Qe.Z)(ru),(0,Qe.Z)(Mp.Ic),(0,Qe.Z)(Fp.bO));function Vp(e){var n=(0,Np.O)();return(0,r.tZ)(Tt.GO,{commands:Wp,onChange:n,keybindings:e.keybindings,children:e.children})}var Hp=t(29203),Yp=t(17676),qp=t(29102);function Kp(e){var n=e.children,t=Sn.Z.get("stateCache","string"),i=t?(0,zp._S)(t):(0,zp.Ny)(),o=d.useRef(i);return(0,r.tZ)(zp.ZP.Provider,{value:o,children:n})}function $p(e){var n=e.ui,t=e.services,i=e.replId,o=e.replLanguage,a=e.replSlug,l=e.replConfigIsExtension,s=e.userKeybindings,c=e.children,u=(0,at.Z)((function(){return{id:i,language:o,slug:a,replConfigIsExtension:l}}),[i,o,a,l]);return(0,r.tZ)(Vp,{keybindings:s,children:(0,r.tZ)(it.kz,{value:n,children:(0,r.tZ)(Kp,{children:(0,r.tZ)(Op.Z.Provider,{value:t,children:(0,r.tZ)(Xp.Z.Provider,{value:u,children:(0,r.tZ)(qp.$,{replId:i,children:(0,r.tZ)(jp.Wv,{children:(0,r.tZ)(Hp.S2,{children:(0,r.tZ)(Yp.Z,{children:c})})})})})})})})})}var Qp=t(79410),Jp=t(23562);function ef(){var e=(0,d.useState)(!1),n=e[0],t=e[1],i=(0,ut.o3)(),o=(0,ut.CA)(),a=(0,pe.Z)().replspaceApi;return(0,d.useEffect)((function(){if(n)return a.onConfirmSendToken((function(e){e&&e(!0,!1)}))}),[n,a]),(0,Qp.F)({insertConfigPlugin:function(){return i("config")},setConfigScreenLockIsOpen:t,openFile:o}),n?(0,r.tZ)(Jp.Z,{}):null}function nf(){var e=(0,ut.Gt)(),n=(0,Xd.Z)();return e&&n?(0,r.tZ)("div",{css:[l.l0.position.absolute,l.l0.width(e.width),l.l0.height(e.height),l.l0.borderRadius(4),{boxShadow:"0 0 0 3px ".concat(n.color),pointerEvents:"none",zIndex:3,transform:"translate(".concat(Math.round(e.x),"px, ").concat(Math.round(e.y),"px)")}]}):null}var tf=(0,d.memo)(nf),rf=t(43454),of=t(31854),af=t(83534),lf=t(83293),sf=t(20125);function cf(){var e=(0,ut.hx)(),n=(0,sf.Z)({moveOrDeleteFile:e}),t=n.isConverging,i=n.didContentsDiverge,o=n.showMoreDetail,a=n.failedFiles,u=n.failedFilesOptions,d=n.selectedFile,p=n.setSelectedFile,f=n.reviewingPrompt,h=n.onChoice,v=n.local,m=n.remote,g=[l.l0.minHeight("7em"),l.l0.maxHeight("50vh"),l.l0.overflowY("auto"),{"> div":{display:"flex",alignItems:"stretch",width:"100%",height:"100%"},"> div > .cm-editor":{flex:"1 1 auto",width:"100%"}}];return(0,r.tZ)(tn.u,{css:[{maxHeight:"90%"}],preventClose:!0,maxWidth:"90%",isOpen:i,onRequestClose:function(){},children:(0,r.BX)(c.G,{css:[l.l0.colWithGap(24)],children:[(0,r.tZ)(s.h4,{level:3,variant:"headerDefault",children:"Replit is out of sync!"}),(0,r.BX)(s.xv,{children:["Sometimes Replit has trouble making sure everyone's code is the same. Let us know which version of"," ",a.length>1?"these files":"this file"," you'd like to keep."," ",a.length>1?(0,r.BX)("strong",{children:["There are ",a.length," files impacted by this."]}):""]}),t?(0,r.tZ)(af.Z,{}):(0,r.BX)(r.HY,{children:[u.length?(0,r.tZ)(of.P,{initialSelectedItem:u[0],selectedItem:u.find((function(e){return e.path===d})),items:u,onChange:function(e){p(e.path)}}):null,o?(0,r.BX)(c.G,{css:[l.l0.rowWithGap(16),l.l0.justify.start,l.l0.align.center,l.l0.pt(16),l.l0.p(8),l.l0.backgroundColor.redDimmest,l.l0.font.code],children:[(0,r.tZ)(s.xv,{variant:"subheadDefault",multiline:!1,children:"Debug View"}),(0,r.BX)(s.xv,{multiline:!1,children:["Divergence type: ",null===f||void 0===f?void 0:f.case]})]}):null,(0,r.BX)(c.G,{css:[l.l0.rowWithGap(8)],children:[(0,r.BX)(c.G,{css:[l.l0.flex.growAndShrink(1),{flexBasis:0}],children:[(0,r.tZ)(s.xv,{variant:"subheadDefault",multiline:!1,children:"My changes"}),(0,r.tZ)(se.Tg,{elevated:!0,css:[l.l0.flex.growAndShrink(1),l.l0.py(8)],children:(0,r.tZ)(c.G,{css:g,children:(0,r.tZ)(lf.q,{diffViewer:v})})}),(0,r.BX)(c.G,{css:[l.l0.pt(16)],children:[(0,r.tZ)(s.xv,{css:[l.l0.textAlign.center],children:"This might disrupt other people's work or create unexpected bugs."}),(0,r.tZ)(ce.zx,{onClick:function(){h("local")},text:"Reset to Mine"})]})]}),(0,r.BX)(c.G,{css:[l.l0.flex.growAndShrink(1),{flexBasis:0}],children:[(0,r.tZ)(s.xv,{variant:"subheadDefault",multiline:!1,children:"Shared changes"}),(0,r.tZ)(se.Tg,{elevated:!0,css:[l.l0.flex.growAndShrink(1),l.l0.py(8)],children:(0,r.tZ)(c.G,{css:g,children:(0,r.tZ)(lf.q,{diffViewer:m})})}),(0,r.BX)(c.G,{css:[l.l0.pt(16),l.l0.justify.end],children:[(0,r.tZ)(s.xv,{css:[l.l0.textAlign.center],children:"This is the safest option and won't disrupt other's work."}),(0,r.tZ)(ce.zx,{onClick:function(){h("remote")},text:"Sync to Shared",colorway:"primary"})]})]})]})]})]})})}function uf(){var e=(0,ze.ev)(),n=(0,ze._o)(),t=(0,pe.Z)().fs,i=function(){n(null)};return(0,r.tZ)(tn.u,{isOpen:Boolean(e),onRequestClose:i,children:e?(0,r.tZ)(as.Z,{name:e,description:e,confirmDescription:e,hideModal:i,delete:function(){e&&(t.deleteFile(e),n(null))}}):null})}var df=t(12259),pf=t(23127),ff=t(5884),hf=t(77712),vf=t(65629),mf=t(29457),gf=(0,xe.X)({content:[l.l0.colWithGap(24)],header:[l.l0.align.center],checkbox:[l.l0.rowWithGap(8)],footer:[l.l0.rowWithGap(16),l.l0.justify.spaceBetween,l.l0.align.center]}),Zf=.9999,bf="workspace_info_modal";function xf(){var e,n,t,i=(0,pe.Z)().fs,o=(0,d.useState)(null),a=o[0],l=o[1],u=(0,Ae.Z)(),p=(0,d.useState)(!1),f=p[0],h=p[1],v=(0,d.useState)(!1),m=v[0],Z=v[1],b=(0,d.useState)(!0),y=b[0],w=b[1],k=(0,d.useState)(!1),C=k[0],T=k[1],E=(0,ff.Pf)(),I=E.data,G=E.loading,D=E.refetch,B=(null===I||void 0===I||null===(e=I.currentUser)||void 0===e?void 0:e.userSubscriptionType)===S.HP.HackerPro,P=null===I||void 0===I||null===(n=I.currentUser)||void 0===n?void 0:n.username,_=P?(0,hf.Ru)(P):df.$I,A=(0,Ln.D)(),U=(0,x.P5)({controlName:"flag-areobotany-blues",logFlagToAnalytics:!1}),L=(0,x.P5)({controlName:"flag-buzzing-astrophage",type:"boolean",logFlagToAnalytics:!1}),z=(0,d.useRef)(!1),O=(0,qa.Z)(),X=O.dataAtom.disk,j=X.currentAtom,N=X.totalAtom,M=O.loading,F=(0,nt.Dv)(N),W=(0,nt.Dv)(j),V=W/F,H=(0,jt.Z)(W),Y=null===I||void 0===I||null===(t=I.currentUser)||void 0===t?void 0:t.id,q=(0,d.useCallback)((function(e){"sampling"===e&&f||(l(e),mf.kg.info("disk quota exceeded modal displayed",{replid:u,userid:Y,currentReportedUtilization:W,totalReportedUtilization:F}),(0,g.j)(g.U3.MODAL_VIEWED,{modalName:"disk_quota_exceeded_modal",cause:"storage",unsolicited:!0}))}),[f,l,W,u,F,Y]);(0,d.useEffect)((function(){var e=setTimeout((function(){w(!1)}),6e4);return function(){return clearTimeout(e)}}),[]),(0,d.useEffect)((function(){if(!m)return i.onDiskQuotaExceeded((function(){q("filesystem_service")}))}),[i,m,q]),(0,d.useEffect)((function(){var e;if(!(a||z.current||m||f||!U||M))return V>Zf&&(z.current=!0,e=setTimeout((function(){z.current=!1,H.current>Zf&&q("sampling")}),1e4)),function(){clearTimeout(e)}}),[m,f,V,z,a,q,H,U,M]);var K=(0,d.useCallback)((function(){"sampling"===a&&h(!0),l(null)}),[a]),$=(0,d.useCallback)((function(){D(),window.location.reload(),T(!1)}),[D,T]);return y?null:(0,r.tZ)(tn.u,{isOpen:Boolean(a),onRequestClose:K,children:(0,r.tZ)(c.G,{css:gf.content,children:(0,r.BX)(c.G,{css:gf.content,children:[(0,r.BX)(s.h4,{css:gf.header,level:3,variant:"headerDefault",children:["Your account is out of storage ",(0,r.tZ)(pf.Z,{size:20})]}),(0,r.tZ)(s.xv,{children:"To free up space remove files until it's under the limit, delete other Repls, or upgrade your account storage."}),!G&&I?(0,r.tZ)(vf.l,{data:I,hideAlerts:!0}):(0,r.tZ)(vf.M,{}),"filesystem_service"===a?(0,r.BX)(c.G,{css:gf.checkbox,tag:"label",children:[(0,r.tZ)(Yn.X,{id:A,checked:m,onChange:function(e){return Z(Boolean(e.currentTarget.value))}}),(0,r.tZ)(s.xv,{variant:"small",children:"Do not show this message again for this session."})]}):null,(0,r.BX)(c.G,{css:gf.footer,children:[(0,r.tZ)($t.Z,(0,he.Z)((0,R.Z)({},_),{text:"Manage Repls"})),G?null:(0,r.tZ)(ce.zx,{colorway:"primary",text:B?"Change Storage":"Upgrade Storage",onClick:function(){return T(!0)}})]}),L?(0,r.tZ)(Ps.Z,{isOpen:C,context:bf,powerUp:"storage",uponPurchaseGoTo:"workspace",onCheckoutComplete:$,onRequestClose:function(){T(!1)}}):(0,r.tZ)(kr.Z,{isOpen:C,initialTab:"plans",context:bf,uponPurchaseGoTo:"workspace",onPlanCheckoutComplete:$,onRequestClose:function(){T(!1)}})]})})})}var yf=t(70104),wf=(0,xe.X)({content:[l.l0.colWithGap(24)],header:[l.l0.align.center],checkbox:[l.l0.rowWithGap(8)]});function kf(){var e=(0,pe.Z)().fs,n=(0,d.useState)(!1),t=n[0],i=n[1],o=(0,d.useState)(!1),a=o[0],u=o[1],p=(0,Ln.D)();(0,d.useEffect)((function(){if(!a)return e.onDiskQuotaExceeded((function(){i(!0)}))}),[e,a]);var f=(0,d.useCallback)((function(){i(!1)}),[i]);return(0,r.tZ)(tn.u,{isOpen:t,onRequestClose:f,children:(0,r.tZ)(c.G,{css:wf.content,children:(0,r.BX)(c.G,{css:wf.content,children:[(0,r.BX)(s.h4,{level:3,variant:"headerDefault",children:["Oops! This Repl's disk is full"," ",(0,r.tZ)(yf.Z,{color:l.TV.accentNegativeDefault,size:20})]}),(0,r.BX)(s.xv,{variant:"subheadDefault",children:["Please free up space by deleting some files. You can open the file tree by clicking the ",(0,r.tZ)(ad.Z,{})," icon on the left."]}),(0,r.tZ)(s.xv,{children:"You can check how much space you are using from the Repl Resources section under the file tree."}),(0,r.BX)(c.G,{css:wf.checkbox,tag:"label",children:[(0,r.tZ)(Yn.X,{id:p,checked:a,onChange:function(e){return u(Boolean(e.currentTarget.value))}}),(0,r.tZ)(s.xv,{variant:"small",children:"Do not show this message again for this session."})]}),(0,r.tZ)(ce.zx,{onClick:f,text:"Close"})]})})})}function Cf(){var e,n,t=(0,Ae.Z)(),i=(0,x.P5)({controlName:"flag-storage-dynamic-resize-beta",logFlagToAnalytics:!1}),o=(0,ff.mE)({variables:{replId:t}}),a=o.data,l=o.loading,s="Repl"===(null===a||void 0===a||null===(e=a.repl)||void 0===e?void 0:e.__typename)&&"Team"===(null===(n=a.repl.owner)||void 0===n?void 0:n.__typename);return l&&!a?null:i&&!s?(0,r.tZ)(xf,{}):(0,r.tZ)(kf,{})}var Sf=t(8885),Rf=t(13424),Tf=t(66091),Ef=44100,If=32896,Gf=function e(){var n=this;(0,Tf.Z)(this,e),this.audioStart=0,this.feed=function(e){var t=n.getFormatedValue(e),r=new Float32Array(n.samples.length+t.length);r.set(n.samples,0),r.set(t,n.samples.length),n.samples=r},this.getFormatedValue=function(e){for(var n=new Float32Array(e.length),t=0;t<e.length;t++)n[t]=e[t]/2147483648;return n},this.stop=function(){if(n.bufferSource)try{n.bufferSource.stop()}catch(e){if("InvalidStateError"!==e.name&&"RangeError"!==e.name)throw e}},this.flush=function(e){if(n.audioCtx&&n.samples.length){var t=0,r=n.audioCtx.currentTime;if(0===e)n.startTime=r,n.audioStart=r;else{for(var i=r-n.audioStart,o=Math.floor(i*Ef);o>e-If;)n.audioStart+=.7459410430839002,o-=If;o>e&&(t=o-e,n.startTime=r),n.startTime=r}n.samples=n.samples.slice(t,n.samples.length);for(var a,l,s,c=n.audioCtx.createBufferSource(),u=n.samples.length/1,d=n.audioCtx.createBuffer(1,u,Ef),p=0;p<1;p++)for(a=d.getChannelData(p),l=p,s=0;s<u;s++)a[s]=n.samples[l],l+=1;n.startTime<n.audioCtx.currentTime&&(n.startTime=n.audioCtx.currentTime),c.buffer=d,c.connect(n.gainNode),c.start(n.startTime),n.stop(),n.bufferSource=c,n.startTime+=d.duration,n.samples=new Float32Array}},this.samples=new Float32Array;var t=window.AudioContext||window.webkitAudioContext;this.audioCtx=new t,this.gainNode=this.audioCtx.createGain(),this.gainNode.gain.value=1,this.gainNode.connect(this.audioCtx.destination),this.startTime=this.audioCtx.currentTime},Df=t(87861),Bf=t(89479);function Pf(e){var n=e.container,t=(0,d.useState)(!1),i=t[0],o=t[1],a=(0,d.useState)(!1),u=a[0],p=a[1],f=(0,Bf.Z)();(0,d.useEffect)((function(){if(f===Df.em.CONNECTED&&!0!==u){var e=setTimeout((function(){p(!0)}),1e3);return function(){clearTimeout(e)}}}),[f,u]);var h=(0,d.useRef)(null);(0,d.useEffect)((function(){if(u)return n.openChannel({name:"audio",service:"audio"},(function(e){var n=e.channel,t=null,r=!1;return n.onCommand((function(e){var n;r||(r=!0,h.current=function(){t=new Gf,h.current=null},o(!0)),t&&(null===e||void 0===e||null===(n=e.audio2)||void 0===n?void 0:n.data)&&(e.audio2.samples||(e.audio2.samples=0),t.feed(Int32Array.from(e.audio2.data)),t.flush(e.audio2.samples))})),function(){o(!1),t&&(t.stop(),t=null),h.current=null}}))}),[n,u]);var v=function(){o(!1)};return(0,r.tZ)(tn.u,{isOpen:i,onRequestClose:v,children:(0,r.BX)(c.G,{css:[l.l0.colWithGap(24)],children:[(0,r.tZ)(s.h4,{variant:"headerDefault",level:1,children:"We hear audio!"}),(0,r.BX)(c.G,{css:[l.l0.colWithGap(8)],children:[(0,r.tZ)(s.xv,{children:"Hey! It appears that this Repl is playing audio."}),(0,r.tZ)(s.xv,{children:"In order for us to hear the audio you\u2019re receiving, please click confirm."})]}),(0,r.BX)(c.G,{css:[l.l0.rowWithGap(12),l.l0.justify.end],children:[(0,r.tZ)(ce.zx,{onClick:v,text:"Cancel"}),(0,r.tZ)(ce.zx,{colorway:"positive",onClick:function(){o(!1),h.current&&h.current()},text:"Confirm",iconLeft:(0,r.tZ)(Pn.Z,{})})]})]})})}var _f=t(69886),Af=t(87138);var Uf=function(e){return(0,r.tZ)(tn.u,{preventClose:!0,isOpen:!0,onRequestClose:e.onCancel,children:(0,r.BX)(c.G,{css:[l.l0.colWithGap(24)],children:[(0,r.tZ)(s.h4,{variant:"headerDefault",level:2,css:l.l0.maxWidth("100%"),children:"Replit needs your permission to enable notifications."}),(0,r.tZ)(s.xv,{children:"Never miss messages from your collaborators if you\u2019re in another tab or window."}),(0,r.BX)(c.G,{css:[l.l0.rowWithGap(12),l.l0.justify.end],children:[(0,r.tZ)(ce.zx,{onClick:e.onCancel,text:"Deny",iconLeft:(0,r.tZ)(la.Z,{})}),(0,r.tZ)(ce.zx,{text:"Allow notifications",colorway:"positive",iconLeft:(0,r.tZ)(Pn.Z,{}),onClick:e.onConfirm})]})]})})};function Lf(){var e=(0,T.Z)(["\n  query DidMigrateToNix($replId: String!) {\n    repl(id: $replId) {\n      ... on Repl {\n        id\n        templateInfo {\n          replId\n        }\n      }\n    }\n  }\n"]);return Lf=function(){return e},e}var zf={},Of=(0,E.Ps)(Lf());var Xf,jf=t(91813);function Nf(e){var n=e.setLifecycle,t=(0,Ae.Z)(),r=function(e){var n=(0,R.Z)({},zf,e);return $.a(Of,n)}({variables:{replId:t}}),i=r.data,o=r.loading,a=(0,pe.Z)(),l=a.container,s=a.fs;(0,d.useEffect)((function(){if(!o&&i){var e=!1,r=function(){var o=(0,tt.Z)((function(){var o,a,c,u,d,p,f,h,v,m,g,Z,b;return(0,rt.__generator)(this,(function(x){switch(x.label){case 0:return e||"Repl"!==i.repl.__typename?[2]:[4,(0,jf.D$)({templateId:null!==(o=i.repl.templateInfo.replId)&&void 0!==o?o:null,fs:s})];case 1:if(!(a=x.sent()).length)return n((function(e){return e===Xf.Running?Xf.Finished:e})),[2];if(e)return[2];n(Xf.Running),c=!0,u=!1,d=void 0,x.label=2;case 2:x.trys.push([2,8,9,10]),p=a[Symbol.iterator](),x.label=3;case 3:return(c=(f=p.next()).done)?[3,7]:(h=f.value,[4,l.exec("bash","-c","".concat(h,"/run-post-migration.sh"))]);case 4:return v=x.sent(),e?[2]:"Channel closed"===v.error?(r(),[2]):(v.error&&mf.kg.error("post nix migration script error: "+v.error,{replid:t,path:h}),[4,s.deleteFile(h)]);case 5:if(m=x.sent(),e)return[2];m.error&&mf.kg.error("post nix migration delete path error: "+m.error,{replid:t,path:h}),x.label=6;case 6:return c=!0,[3,3];case 7:return[3,10];case 8:return g=x.sent(),u=!0,d=g,[3,10];case 9:try{c||null==p.return||p.return()}finally{if(u)throw d}return[7];case 10:return[4,s.deleteDir(jf.OH)];case 11:return Z=x.sent(),e?[2]:(Z.error&&mf.kg.error("post nix migration delete dir error: "+Z.error,{replid:t}),[4,s.flush()]);case 12:return x.sent(),e?[2]:[4,s.persist({skipDebounce:!0})];case 13:return b=x.sent(),e?[2]:(b.error&&mf.kg.error("post nix migration persist error: "+b.error,{replid:t}),n(Xf.Finished),[2])}}))}));return function(){return o.apply(this,arguments)}}();return r(),function(){e=!0}}}),[l,i,s,o,n,t])}function Mf(){var e=(0,d.useState)((function(){return new URL(window.location.href).searchParams.get("didMigrateToNix")?Xf.Running:Xf.NoNixMigration})),n=e[0],t=e[1],i=(0,b.useRouter)();return Nf({setLifecycle:t}),n===Xf.NoNixMigration?null:n===Xf.Running?(0,r.tZ)(Jp.Z,{reason:"Finishing migration to Nix",children:(0,r.tZ)(s.xv,{multiline:!0,variant:"subheadDefault",children:"This may take a few minutes"})}):(0,r.tZ)(tn.u,{isOpen:n===Xf.Finished,onRequestClose:function(){var e=new URL(window.location.href);t(Xf.NoNixMigration),e.searchParams.delete("didMigrateToNix"),i.push({pathname:i.pathname,query:(0,he.Z)((0,R.Z)({},i.query),{didMigrateToNix:!1})},e.toString(),{shallow:!0})},centered:!0,children:(0,r.BX)(c.G,{css:[l.l0.colWithGap(24)],children:[(0,r.tZ)(s.h4,{level:1,variant:"headerDefault",children:"We've upgraded your project!"}),(0,r.BX)(s.xv,{children:["Your project is now using Nix behind the scenes, which means that you can now run many more kinds of software in your Repls. You can learn more by reading our"," ",(0,r.tZ)(Sr(),{href:"https://blog.replit.com/nix",children:"announcement blog post"}),","," ",(0,r.tZ)(Sr(),{href:"https://docs.replit.com/programming-ide/nix-on-replit",children:"documentation"}),", or by following our"," ",(0,r.tZ)(Sr(),{href:"https://docs.replit.com/tutorials/python/build-with-nix",children:"Nix with Python tutorial"}),"."]}),(0,r.BX)(c.G,{children:[(0,r.tZ)(s.xv,{children:"In order to migrate your Repl to Nix, we had to make some changes:"}),(0,r.BX)("ul",{children:[(0,r.tZ)("li",{children:(0,r.tZ)(s.xv,{children:"1. Imported some files to support your programming language with Nix"})}),(0,r.tZ)("li",{children:(0,r.tZ)(s.xv,{children:"2. Turned on a flag that says your Repl is a Nix Repl"})}),(0,r.tZ)("li",{children:(0,r.tZ)(s.xv,{children:"3. Restarted your Repl"})})]})]}),(0,r.BX)(s.xv,{children:["Note that any files that might otherwise be overwritten have been backed up to the same file name with a .backup suffix. If you have any issues with your newly-migrated Repl, make sure to check out"," ",(0,r.tZ)(Sr(),{href:"https://ask.replit.com",children:"ask.replit.com"})," to get help."]}),(0,r.tZ)(s.xv,{multiline:!1,children:"Enjoy!"}),(0,r.tZ)(s.xv,{multiline:!1,children:"\u2014 Replit Staff"})]})})}!function(e){e[e.NoNixMigration=0]="NoNixMigration",e[e.Running=1]="Running",e[e.Finished=2]="Finished"}(Xf||(Xf={}));var Ff=t(34489);function Wf(){var e=(0,pe.Z)().fs,n=(0,d.useState)(!1),t=n[0],r=n[1];return(0,d.useEffect)((function(){function n(){return t.apply(this,arguments)}function t(){return(t=(0,tt.Z)((function(){var n,t,i;return(0,rt.__generator)(this,(function(o){switch(o.label){case 0:return[4,e.readFile(".env")];case 1:return(n=o.sent()).error||(t=Ff.Z.parse(n.content.toString()),i=Object.values(t).some((function(e){return""===e})),r(i)),[2]}}))}))).apply(this,arguments)}n();var i=e.watchFile(".env",{onChange:function(){n()}});return function(){i()}}),[e]),t}var Vf=function(e){var n=e.replId,t=(0,x.P5)({controlName:"flag-secrets-copying",logFlagToAnalytics:!1}),i=(0,w.Z)(d.useState(!1),2),o=i[0],a=i[1],u=(0,pe.Z)().fs,p=(0,ut.cT)(),f="configureSecretsModalShown/"+n,h=Wf();d.useEffect((function(){t&&(!0===Sn.Z.get(f)||h&&a(!0))}),[u,t,f,h]);var v=function(){a(!1),Sn.Z.set(f,!0)};return(0,r.tZ)(tn.u,{preventClose:!0,isOpen:o,maxWidth:480,onRequestClose:v,children:(0,r.BX)(c.G,{css:[l.l0.colWithGap(16)],children:[(0,r.tZ)(c.G,{css:[l.l0.rowWithGap(8),l.l0.align.center],children:(0,r.tZ)(s.h4,{css:[{width:"fit-content"}],level:2,variant:"headerDefault",children:"Configure missing Secret values"})}),(0,r.tZ)(c.G,{css:[l.l0.colWithGap(8)],children:(0,r.tZ)(s.xv,{children:"This Repl contains Secrets that might be required. Add values to ensure the code runs as expected."})}),(0,r.BX)(c.G,{css:[l.l0.rowWithGap(8),l.l0.justify.end],children:[(0,r.tZ)(ce.zx,{text:"Dismiss",onClick:v}),(0,r.tZ)(ce.zx,{colorway:"primary",text:"Manage Secrets",onClick:function(){v(),p({pane:{type:"envEditor"}}),(0,g.j)(g.U3.ENV_EDITOR_USED,{action:"opened"})}})]})]})})},Hf=t(34676),Yf=t(64397),qf=t(40865),Kf=new Date("2023-08-01"),$f=function(e){return(0,i.iv)({backgroundColor:e})},Qf=function(e){var n=e.onRequestClose,t=e.onCTAClick,i=d.useRef(!1);d.useEffect((function(){i.current||((0,g.j)(g.U3.MODAL_VIEWED,{source:"always_on_user_reserved_deployments_announcement"}),i.current=!0)}),[]);var o={slides:[{title:"Introducing Replit Deployments",subtitle:"A more reliable, scalable, and secure way to deploy your projects.",backgroundImage:"/public/images/deployments/reserved-deployments-announcement-slide-1.png",backgroundColor:$f(Hf.S.values.global.purpleStronger),position:"center"},{title:"Backed by Google Cloud",subtitle:"Deployed apps are hosted on Google Cloud VMs, giving them more speed and stability.",backgroundImage:"/public/images/deployments/reserved-deployments-announcement-slide-2.png",backgroundColor:$f(Hf.S.values.global.yellowStrongest),position:"center"},{title:"Try it today",subtitle:"Share your Repl with the world.",backgroundImage:"/public/images/deployments/reserved-deployments-announcement-slide-3.png",backgroundColor:$f(Hf.S.values.global.blueStronger),position:"center",text:(0,r.tZ)(ce.zx,{css:[l.l0.width("100%"),{span:{color:l.TV.foregroundDefault}}],colorway:"primary",onClick:t,text:"Deploy Now",iconLeft:(0,r.tZ)(uu.Z,{})})}],date:Kf};return(0,r.tZ)(Yf.Z,{announcement:o,onRequestClose:n,showModal:!0})};function Jf(e){var n=e.repl,t=(0,qf.X)(),i=t&&!t.isDone&&!t.isLoading,o=(0,ut.cT)(),a="string"===typeof(0,pu.hn)(),l=(0,Ve.Z)("workspace","workspace-always-on-user-reserved-deployments-announcement"),s=l.shouldDisplay,c=l.dismiss,u=l.register,p=!a&&!i&&n.isAlwaysOn;if(d.useEffect((function(){p&&u()}),[u,p]),!p||!s)return null;return(0,r.tZ)(Qf,{onRequestClose:c,onCTAClick:function(){c(),(0,g.j)(g.U3.DEPLOY_PROJECT_SELECTED,{source:"always_on_user_reserved_deployments_announcement"}),o({pane:{type:"deployments",data:{view:du.kO.ReservedVMTierSelection}}})}})}var eh=t(69834),nh=function(){var e=(0,tt.Z)((function(e){var n,t,r,i;return(0,rt.__generator)(this,(function(o){switch(o.label){case 0:return(0,So.u9)()?[4,(0,So.mv)(e)]:[2,null];case 1:return n=o.sent(),t=n.path,r=n.line,i=n.col,t?[2,{path:t,line:r,col:i}]:[2,null]}}))}));return function(n){return e.apply(this,arguments)}}();function th(){return function(){var e=(0,pe.Z)(),n=e.fs,t=e.dotReplit,r=(0,Ae.Z)(),i=(0,ut.ex)(),o=(0,jt.Z)(i),a=(0,d.useState)(!1),l=a[0],s=a[1],c=(0,ut.CA)(),u=(0,ut.x7)(),p=(0,d.useRef)(!1);(0,d.useEffect)((function(){if(l&&!p.current)if(i){var e=(0,So.YM)({path:i}),n=window.location.hash;if(n.slice(1)!==i&&!n.startsWith(e+":")){var t=new URL(window.location.href);t.hash=e,window.history.pushState(history.state,"",t)}}else{if(!window.location.hash)return;history.pushState(history.state,document.title,window.location.origin+window.location.pathname+window.location.search)}}),[l,i]),(0,d.useEffect)((function(){if(!l){var e=!1;return function(){i.apply(this,arguments)}(),function(){e=!0}}function i(){return i=(0,tt.Z)((function(){var i,a,l;return(0,rt.__generator)(this,(function(d){switch(d.label){case 0:return u?o.current?(s(!0),[2]):[4,nh(n)]:[2];case 1:return i=d.sent(),e?[2]:i?(c(i),s(!0),[2]):o.current||"saved"===u?(s(!0),[2]):[4,(0,eh.W)({fs:n,dotReplit:t,replId:r})];case 2:return a=d.sent(),l=a.entrypoint,!e&&l&&c({path:l}),s(!0),[2]}}))})),i.apply(this,arguments)}}),[n,c,t,r,o,u,l]),(0,d.useEffect)((function(){if(u){var e=function(){var e=(0,tt.Z)((function(){var e;return(0,rt.__generator)(this,(function(t){switch(t.label){case 0:return p.current=!0,[4,nh(n)];case 1:return(e=t.sent())&&c(e),p.current=!1,[2]}}))}));return function(){return e.apply(this,arguments)}}();return window.addEventListener("hashchange",e),function(){window.removeEventListener("hashchange",e)}}}),[u,n,c])}(),null}var rh=t(82475),ih=t(59331),oh=t(53828),ah=t(86615);function lh(){var e=(0,T.Z)(["\n  subscription ThreadUpdates($replId: String!) {\n    updatedThread: annotationUpdatesByRepl(replId: $replId) {\n      id\n      ...AnnotationsUIAnchor\n    }\n  }\n  ","\n"]);return lh=function(){return e},e}var sh={},ch=(0,E.Ps)(lh(),Rc.j7);function uh(e){!function(e){var n=(0,R.Z)({},sh,e);ah.m(ch,n)}({variables:{replId:e},onData:function(n){var t,r,i=null===(t=n.data)||void 0===t||null===(r=t.data)||void 0===r?void 0:r.updatedThread;i&&"AnnotationAnchor"===i.__typename&&(n.client.cache.updateQuery({query:Rc.yi,variables:{replId:e}},(function(e){return(0,gi.ZP)(e,(function(e){null!==e&&"Repl"===e.repl.__typename&&(e.repl.annotationAnchors.find((function(e){return e.id===i.id}))||e.repl.annotationAnchors.push(i))}))})),n.client.cache.updateQuery({query:oh.Jq,variables:{replId:e,path:i.path}},(function(e){return(0,gi.ZP)(e,(function(e){var n;e&&"ThreadsByFileResult"===(null===(n=e.threadsByFile)||void 0===n?void 0:n.__typename)&&(e.threadsByFile.threads.find((function(e){return e.id===i.id}))||e.threadsByFile.threads.push((0,he.Z)((0,R.Z)({},i),{messageCount:i.messages.length,unreadCount:i.messages.filter((function(e){return!e.seen})).length,participants:i.messages.filter((function(e){return!!e.user})).map((function(e){return e.user}))})))}))})))}})}function dh(){var e=(0,T.Z)(["\n  subscription RegisterReplConnection($replId: String!) {\n    replConnection(replId: $replId)\n  }\n"]);return dh=function(){return e},e}var ph={},fh=(0,E.Ps)(dh());function hh(){!function(e){var n=(0,R.Z)({},ph,e);ah.m(fh,n)}({variables:{replId:(0,Ae.Z)()},skip:(0,Bf.Z)()!==Df.em.CONNECTED})}var vh=t(18946);function mh(){var e=(0,T.Z)(["\n  query WorkspaceShowHiddenFiles($replId: String!) {\n    repl(id: $replId) {\n      ... on Repl {\n        id\n        templateInfo {\n          label\n        }\n      }\n    }\n  }\n"]);return mh=function(){return e},e}var gh={},Zh=(0,E.Ps)(mh());function bh(){var e=(0,ze.OM)(),n=function(e){var n=(0,R.Z)({},gh,e);return $.a(Zh,n)}({variables:{replId:(0,Ae.Z)()}}).data,t="Repl"===(null===n||void 0===n?void 0:n.repl.__typename)?n.repl:null;d.useEffect((function(){var n;t&&(null===(n=t.templateInfo)||void 0===n?void 0:n.label.includes("Blank Repl"))&&e(!0)}),[e,t])}var xh=t(61253),yh=t(68216),wh=t(48960),kh="video.json",Ch=(0,wh.join)(ts.V,kh);function Sh(){return(Sh=(0,tt.Z)((function(e,n){var t;return(0,rt.__generator)(this,(function(r){switch(r.label){case 0:return n.find((function(e){return e.type===An.Tv.File&&e.filename===kh}))?[4,e.readFile(Ch)]:[2,null];case 1:return(t=r.sent()).error?[2,null]:[2,t.content.toString()]}}))}))).apply(this,arguments)}function Rh(e){var n=(0,pe.Z)().fs,t=(0,ts.Z)().isTutorial,r=(0,jt.Z)(e);(0,d.useEffect)((function(){if(t){var e=!1,i=n.watchDir(ts.V,{onChange:function(t){(function(e,n){return Sh.apply(this,arguments)})(n,t).then((function(n){if(!e)if(n){var t=null;try{t=yh.ku(n)}catch(o){}var i="object"===typeof t&&"string"===typeof t.embedUrl?t.embedUrl:null;r.current(i?{embedUrl:i}:null)}else r.current(null)}))},onMoveOrDelete:function(){r.current(null)},onError:function(){r.current(null)}});return function(){e=!0,i()}}}),[n,t,r])}var Th=t(97553),Eh=t(43694),Ih=t(5993),Gh=!1;function Dh(){var e=(0,T.Z)(["\n  mutation HandlePortOpenedUpdateReplConfig($input: UpdateReplInput!) {\n    updateRepl(input: $input) {\n      repl {\n        id\n        config {\n          isVnc\n          isServer\n        }\n      }\n    }\n  }\n"]);return Dh=function(){return e},e}var Bh={},Ph=(0,E.Ps)(Dh());var _h=t(86763),Ah=t.n(_h),Uh=t(54733);function Lh(){var e=(0,Ae.Z)(),n=(0,pe.Z)().container,t=(0,ut.o3)(),r=(0,w.Z)(function(e){var n=(0,R.Z)({},Bh,e);return G.D(Ph,n)}(),1)[0],i=(0,qi.Z)().preferences.webviewAutoOpenOnPortOpened,o=(0,w.Z)((0,Uh.e)(),1)[0],a=(0,au.cR)();(0,d.useEffect)((function(){return n.onPortOpened(Ah()((function(n){var l,s=n.isVnc;n.isForwarded&&((s||i&&!o)&&!a&&t(s?"vnc":"webview"),l=s?{isVnc:!0}:{isServer:!0},r({variables:{input:(0,R.Z)({id:e},l)}}))}),500,{leading:!0}))}),[n,t,r,e,i,o,a])}function zh(){var e=(0,T.Z)(["\n  subscription ReplEnvironmentUserCanWrite($replId: String!) {\n    currentUserCanWrite(replId: $replId)\n  }\n"]);return zh=function(){return e},e}var Oh={},Xh=(0,E.Ps)(zh());function jh(e){var n=e.isAnon,t=e.isOwner,r=e.ignoreUnloadPrompt;!function(e){var n=(0,R.Z)({},Oh,e);ah.m(Xh,n)}({skip:n||t,variables:{replId:(0,Ae.Z)()},onData:function(e){var n=e.data.data;!1===(null===n||void 0===n?void 0:n.currentUserCanWrite)&&(r(!0),window.location.reload())}})}function Nh(){var e=(0,T.Z)(["\n  query ReplEnvironmentNotifyUserJoin($id: String!) {\n    repl(id: $id) {\n      ... on Repl {\n        id\n        title\n      }\n    }\n  }\n"]);return Nh=function(){return e},e}var Mh=(0,E.Ps)(Nh());function Fh(){var e=(0,T.Z)(["\n  query BrowserNotifications($username: String!) {\n    user: userByUsername(username: $username) {\n      id\n      image\n    }\n  }\n"]);return Fh=function(){return e},e}var Wh=(0,E.Ps)(Fh());function Vh(e){return Hh.apply(this,arguments)}function Hh(){return Hh=(0,tt.Z)((function(e){var n,t;return(0,rt.__generator)(this,(function(r){switch(r.label){case 0:return null===Mc.l?[2]:[4,Mc.l.query({query:Wh,variables:{username:e}})];case 1:return[2,null===(t=r.sent().data)||void 0===t||null===(n=t.user)||void 0===n?void 0:n.image]}}))})),Hh.apply(this,arguments)}function Yh(){return"Notification"in window?"true"===Sn.Z.get(Jh,"string")?"dismissed":window.Notification.permission:"denied"}function qh(){return Kh.apply(this,arguments)}function Kh(){return(Kh=(0,tt.Z)((function(){return(0,rt.__generator)(this,(function(e){try{window.Notification.requestPermission().then()}catch(n){return[2,new Promise((function(e){window.Notification.requestPermission((function(n){e(n)}))}))]}return[2,window.Notification.requestPermission()]}))}))).apply(this,arguments)}function $h(){return Qh.apply(this,arguments)}function Qh(){return(Qh=(0,tt.Z)((function(){return(0,rt.__generator)(this,(function(e){switch(e.label){case 0:return[4,qh()];case 1:return e.sent(),ev(!1),[2]}}))}))).apply(this,arguments)}var Jh="notifications/dismissedModal";function ev(e){Sn.Z.set(Jh,String(e))}var nv={};function tv(){return(tv=(0,tt.Z)((function(e){var n,t,r,i,o,a,l,s,c,u,d;return(0,rt.__generator)(this,(function(p){switch(p.label){case 0:return n=e.title,t=e.body,r=e.badge,i=e.icon,o=e.iconByUsername,a=e.tag,l=e.onClick,s=e.cacheDuration,c=void 0===s?0:s,!document.hidden&&document.hasFocus()?[2]:"granted"!==Yh()?[2]:(u=Date.now(),a in nv&&nv[a]+c>u?[2]:o?[4,Vh(o)]:[3,2]);case 1:i=p.sent(),p.label=2;case 2:return d=new window.Notification(n,{body:t,badge:r||"/public/images/logo-grayscale.png",icon:i||"/public/images/icon-square.png",tag:a}),setTimeout((function(){d.close()}),1e4),d.addEventListener("click",(function(){window.focus(),d.close()})),l&&d.addEventListener("click",l),nv[a]=u,[2]}}))}))).apply(this,arguments)}function rv(){return(rv=(0,tt.Z)((function(e){var n;return(0,rt.__generator)(this,(function(t){switch(t.label){case 0:if(!Mc.l)throw new Error("Expected Apollo client");return[4,Mc.l.query({query:Mh,variables:{id:e}})];case 1:return[2,"Repl"===(null===(n=t.sent().data)||void 0===n?void 0:n.repl.__typename)?n.repl.title:null]}}))}))).apply(this,arguments)}function iv(){var e=(0,pe.Z)(),n=e.container,t=e.presence;d.useEffect((function(){var e=t.onUserJoin((function(t){var r,i=null===(r=n.getContext())||void 0===r?void 0:r.repl;if(i){var o=t.username;return function(e){return rv.apply(this,arguments)}(i.id).then((function(e){e&&function(e){tv.apply(this,arguments)}({title:"",body:"".concat(o," joined ").concat(e),tag:"".concat(i.id,"-").concat(o,"-joined"),iconByUsername:o,cacheDuration:9e5})})),function(){e()}}}))}),[t,n])}function ov(){var e=(0,on.Z)(),n=e.showConfirm,t=e.showNotice,r=e.hideMessage,i=e.showError,o=(0,pe.Z)().container;(0,d.useEffect)((function(){var e=o.onToast((function(e){e.startsWith("PANIC")||t(e,function(e){var n=e.length/.025+1e3;return Math.max(1e4,n)}(e))})),a=null,l=!1,s=o.onConnectionStateChanged((function(e){if(a&&(r(a),a=null),e===Df.em.CONNECTED)return l=!0,void(a=n("Connected",1500));l&&(e!==Df.em.CONNECTING?e!==Df.em.DISCONNECTED||(a=i("Disconnected")):a=t("Reconnecting"))}));return function(){a&&r(a),e(),s()}}),[o,n,t,i,r])}var av=t(37056),lv=t(59165);function sv(e){var n=e.onOpenFile,t=(0,pe.Z)(),r=function(e){var n=e.toolchain,t=e.debuggest;return(0,d.useEffect)((function(){var e=function(e){(null===e||void 0===e?void 0:e.debuggers)&&(null===e||void 0===e?void 0:e.debuggers.length)>0&&t.connect()};e(n.configs.current),n.configs.subscribe((function(n){e(n)}))}),[n,t]),(0,Wr.Z)(t.mainClient)}({debuggest:t.debuggest,toolchain:t.toolchain});!function(e){(0,d.useEffect)((function(){if(e){var n=e.onStarted((function(e){(0,g.j)(g.U3.DEBUGGER_USED,{action:"started",joined:e})})),t=e.onPaused((function(e){(0,g.j)(g.U3.DEBUGGER_USED,{action:"paused",reason:e})})),r=e.onBreakpoint((function(n){(0,g.j)(g.U3.DEBUGGER_USED,{action:"breakpointToggled",breakpointAction:n,state:e.state.current})}));return function(){n(),t(),r()}}}),[e])}(r),function(e,n){var t,r=n.onOpenFile,i=(0,jt.Z)(r),o=(0,Wr.Z)(e?e.stackFrames:null),a=null===o||void 0===o?void 0:o[0],l=null===a||void 0===a||null===(t=a.source)||void 0===t?void 0:t.path,s=null===a||void 0===a?void 0:a.line;(0,d.useEffect)((function(){if(l&&s&&e){var n=(0,lv.om)(l);n?i.current({path:n,line:s}):e.stepOut()}}),[e,l,s,i])}(r,{onOpenFile:n})}var cv=t(27562);function uv(){var e=(0,pe.Z)().runner,n=nu(),t=(0,ut.Fg)(),r=(0,av.Ln)(),i=(0,ut.x7)(),o=function(){var e=(0,cv.T)(),n=nu(),t=(0,au.cR)();return d.useCallback((function(){if(t){if(e)return;n({pane:{type:"runnerOutput"},placement:{type:"secondary"},activate:!1})}else n({pane:{type:e?"webview":"runnerOutput"},placement:{type:"secondary"},activate:!1})}),[e,n,t])}(),a=(0,m.e)(u.y.Output);d.useEffect((function(){if(i&&(null===a||void 0===a?void 0:a.isActive)){var e=setInterval((function(){o()}),200);return function(){clearInterval(e)}}}),[null===a||void 0===a?void 0:a.isActive,o,i]),d.useEffect((function(){if(i)return e.onLocalRun((function(){o()}))}),[e,o,i]),d.useEffect((function(){i&&(r?n({pane:{type:"instructions"},activate:!1,placement:{type:"secondary"}}):t({type:"instructions"}))}),[r,n,t,i]),dv(tu.showShell.id,{type:"shell"}),dv(tu.showDocs.id,{type:"docs"}),dv(tu.showGit.id,{type:"git"}),dv(tu.showSettings.id,{type:"preferences"}),dv(tu.showConsole.id,{type:"runnerOutput"}),dv(tu.showGhostwriter.id,{type:"ghostwriterChat"})}function dv(e,n){var t=(0,ut.x7)(),r=(0,ut.TO)(),i=(0,ut.VD)(),o=(0,ut.nC)();(0,Tt.Il)((function(){if(t)return[e,function(){var e=o().find((function(e){return(0,w.Z)(e,2)[1].type===n.type}));e?i({paneId:e[0],activate:!0}):r({pane:n,activate:!0,placement:{type:"secondary"}})}]}),[t,r,i])}var pv=t(36662);function fv(){var e=(0,T.Z)(["\n  query TrackMultiplayer($replId: String!) {\n    repl(id: $replId) {\n      ... on Repl {\n        id\n        multiplayers {\n          id\n        }\n        owner {\n          ... on Team {\n            id\n          }\n          ... on User {\n            id\n          }\n        }\n      }\n    }\n  }\n"]);return fv=function(){return e},e}var hv={},vv=(0,E.Ps)(fv());function mv(){var e,n=(0,pe.Z)().presence,t=(0,Ae.Z)(),r=(0,d.useRef)(!1),i=function(e){var n=(0,R.Z)({},hv,e);return $.a(vv,n)}({variables:{replId:t}}),o=i.data,a=i.loading,l=0;"Repl"===(null===o||void 0===o?void 0:o.repl.__typename)&&(l=o.repl.multiplayers.length,"User"===(null===(e=o.repl.owner)||void 0===e?void 0:e.__typename)&&(l+=1));(0,d.useEffect)((function(){if(!a&&!r.current){var e=n.onActiveUsersChange((function(){r.current=!0,e(),(0,g.j)(g.U3.MULTIPLAYER_REPL_OPENED,{replId:t,participantsCount:l,usersOnlineCount:n.getActiveUsers().length})}));return e}}),[t,a,l,n])}var gv=t(4613);var Zv=t(56392),bv=t(95652),xv=t(23159);var yv=t(50910);function wv(e){return kv.apply(this,arguments)}function kv(){return(kv=(0,tt.Z)((function(e){return(0,rt.__generator)(this,(function(n){switch(n.label){case 0:return[4,new Promise((function(n){return setTimeout((function(){return n()}),e)}))];case 1:return n.sent(),[2]}}))}))).apply(this,arguments)}function Cv(){var e=(0,pe.Z)(),n=e.packager,t=e.toolchain;(0,d.useEffect)((function(){var e=1e3*(10+5*Math.random()),r=setTimeout((function(){!function(){i.apply(this,arguments)}()}),e);function i(){return(i=(0,tt.Z)((function(){var e,r,i,o,a,l,s,c,u,d;return(0,rt.__generator)(this,(function(p){switch(p.label){case 0:if(!t.configs.current||!n)return[2];e=t.configs.current.packagers,r=!0,i=!1,o=void 0,p.label=1;case 1:p.trys.push([1,7,8,9]),a=e[Symbol.iterator](),p.label=2;case 2:return(r=(l=a.next()).done)?[3,6]:(s=l.value,[4,n.listSpecfile(s.id)]);case 3:return(c=p.sent()).packages&&c.packages.length>0&&(u=c.packages.map((function(e){return e.name||""}))||[],mf.kg.info("packager installed packages",{packagerId:s.id,language:s.language,packages:u}),(0,g.j)(Rr.U3.PACKAGER_PACKAGES_INSTALLED,{packages:u})),[4,wv(1e3*(5+5*Math.random()))];case 4:p.sent(),p.label=5;case 5:return r=!0,[3,2];case 6:return[3,9];case 7:return d=p.sent(),i=!0,o=d,[3,9];case 8:try{r||null==a.return||a.return()}finally{if(i)throw o}return[7];case 9:return[2]}}))}))).apply(this,arguments)}return function(){clearTimeout(r)}}),[n,t.configs.current])}function Sv(e){var n,t=e.repl,r=e.currentUser,i=r.id===(null===(n=t.user)||void 0===n?void 0:n.id),o=(0,pe.Z)().replspaceApi;!function(){var e=(0,pe.Z)(),n=e.lspnix,t=e.lsp,r=(0,qi.Z)().preferences.codeIntelligence;d.useEffect((function(){if(!r)return t.stop(),void n.disable();t.start(),n.enable()}),[n,t,r])}(),function(){var e=(0,ut.ne)(),n=(0,Ae.Z)();(0,d.useEffect)((function(){var t=function(){e({replId:n,force:!1}),e.flush()};return window.addEventListener("beforeunload",t),function(){window.removeEventListener("beforeunload",t)}}),[e,n]),(0,d.useEffect)((function(){var t=function(){"hidden"===document.visibilityState&&e({replId:n,force:!1})};return document.addEventListener("visibilitychange",t),function(){document.removeEventListener("visibilitychange",t)}}),[e,n]),(0,d.useEffect)((function(){var t=null;return function r(){t=setTimeout((function(){e({replId:n,force:!1}),r()}),6e4)}(),function(){t&&clearTimeout(t)}}),[e,n]),(0,d.useEffect)((function(){return function(){e({replId:n,force:!1}),e.flush()}}),[e,n])}(),(0,rh.Z)(),(0,xv.Z)(),(0,vh.Z)({workspaceType:"desktop"}),d.useEffect((function(){var e=function(e){"s"===e.key&&(0,Ki.j)(e)&&e.preventDefault()};return window.addEventListener("keydown",e),function(){window.removeEventListener("keydown",e)}}),[]),iv(),hh(),function(){var e=(0,pe.Z)().presence;d.useEffect((function(){return e.onFollowingUsersChanged((function(e){var n=e.followingUsers,t=e.type,r=n.length;"follow"===t?(0,g.j)(Rr.U3.REMOTE_USER_CURSOR_FOLLOWED,{numFollowers:r}):(0,g.j)(Rr.U3.REMOTE_USER_CURSOR_UNFOLLOWED,{numFollowers:r})}))}),[e])}(),jh({isAnon:!1,isOwner:i,ignoreUnloadPrompt:(0,ih.Z)()}),function(){var e=(0,pe.Z)().presence,n=(0,ut.ex)();(0,d.useEffect)((function(){e.updateOpenFile(n)}),[e,n])}(),ov(),(0,av.ZP)(),uv(),(0,Th.Z)(),function(){var e=(0,pe.Z)().presence,n=(0,ut.CA)();(0,d.useEffect)((function(){return e.onUserOpenedFile((function(t){var r=t.user,i=t.file,o=e.getFollowedUser();o&&o.id===r.id&&i&&n({path:i})}))}),[e,n]);var t=(0,d.useState)(null),r=t[0],i=t[1];(0,d.useEffect)((function(){return e.onFollowedUserChanged(i)}),[e]),(0,d.useEffect)((function(){var n=function(){e.unfollowUser()};if(r){var t=setTimeout((function(){document.addEventListener("click",n)}),0);return function(){clearTimeout(t),document.removeEventListener("click",n)}}}),[r])}(),bh(),Rh((0,ut.gQ)()),function(){var e=(0,pv.T)(),n=(0,ut.cT)();(0,d.useEffect)((function(){e&&n({pane:{type:"education"}})}),[e,n])}(),function(){var e=(0,ts.Z)().isTutorial,n=(0,ut.$x)();(0,d.useEffect)((function(){e&&n()}),[n,e])}(),function(){var e=(0,Ae.Z)(),n=Ic(e),t=Dc(e),r=Wf(),i=(0,ze.Cp)();(0,d.useEffect)((function(){i({paneType:"chat",indicatorType:n>0?"unread":void 0})}),[i,n]),(0,d.useEffect)((function(){i({paneType:"threadInbox",indicatorType:t>0?"unread":void 0})}),[i,t]),(0,d.useEffect)((function(){i({paneType:"envEditor",indicatorType:r?"unread":void 0})}),[i,r])}(),uh(t.id),function(){var e=(0,ut.ex)(),n=(0,ze.zo)(),t=(0,ze.VX)();(0,d.useEffect)((function(){t(e),e&&n(e)}),[e,t,n])}(),function(){var e=(0,ut._F)(),n=(0,eu.Xo)(),t=(0,eu.jY)();(0,d.useEffect)((function(){e?n(e):t()}),[n,t,e]);var r=(0,xt.bS)();(0,ut.qg)(r)}(),function(){var e=(0,ut.Jy)(),n=(0,ut.N8)();(0,d.useEffect)((function(){var t=function(){n()};if(e)return document.addEventListener("dragend",t),function(){document.removeEventListener("dragend",t)}}),[e,n])}();var a=nu();sv({onOpenFile:function(e){a({pane:{type:"codeEditor",data:e},placement:{type:"secondary"},activate:!1})}}),(0,d.useEffect)((function(){return Ds.YA("replId",t.id),Bl.c_.setTag("replId",t.id),function(){Ds.YA("replId",void 0),Bl.c_.setTag("replId",void 0)}}),[t.id]),function(e){var n=e.repl,t=e.currentUser,r=(0,pe.Z)().container,i=(0,b.useRouter)(),o=(0,Ih.S)(),a=(0,Eh.b)({repl:n,currentUser:t});(0,d.useEffect)((function(){var e;if(a)return Gh||(Gh=!0,e=i.query.initialConnectionMetadata),r.connect({customConnectionMetadata:e,context:a,getMinimumRetryDelayMs:o}),function(){r.close()}}),[a,r]),(0,d.useRef)(!1),(0,d.useEffect)((function(){return function(){r.destroy()}}),[r])}({repl:t,currentUser:r}),Lh(),(0,xh.Z)(),(0,yv.Z)(t,r);var l=(0,ut.Id)(),s=(0,Mt.T)();(0,d.useEffect)((function(){l(!s)}),[s,l]),mv(),(0,gv.B)(),(0,bv.p)();var c=function(){var e=nu();return(0,d.useCallback)((function(){e({pane:{type:"ghostwriterChat"},activate:!0,placement:{type:"secondary"}})}),[e])}();(0,Zv.b)({openGhostwriterPane:c});var u=(0,eu.fg)();(0,d.useEffect)((function(){o.setWaitForFileClose(u)}),[o,u]);var p=(0,Rf.uV)(),f=(0,ut.xs)();return(0,d.useEffect)((function(){f&&p(f)}),[p,f]),Cv(),null}var Rv=t(18952),Tv=t(77410);function Ev(){var e=(0,T.Z)(["\n  query ExtensionStore($replId: String!, $userId: Int) {\n    extensionList(includeNonBlessed: true, userId: $userId) {\n      ...TopLevelExtension\n      installation(replId: $replId) {\n        ...TopLevelExtensionInstallation\n      }\n    }\n  }\n  ","\n  ","\n"]);return Ev=function(){return e},e}var Iv=(0,E.Ps)(Ev(),Tv.R9,Tv.gp);var Gv,Dv,Bv=t(35759),Pv=t(57370),_v=t(30504),Av=t(89025),Uv=t(73677),Lv=t(20841),zv=t(56186);!function(e){e.RAW="RAW",e.PROXY="PROXY",e.THROW="THROW",e.HANDLER="HANDLER"}(Gv||(Gv={})),function(e){e.GET="GET",e.SET="SET",e.APPLY="APPLY",e.CONSTRUCT="CONSTRUCT",e.ENDPOINT="ENDPOINT",e.RELEASE="RELEASE"}(Dv||(Dv={}));var Ov=Symbol("Comlink.proxy"),Xv=Symbol("Comlink.endpoint"),jv=Symbol("Comlink.releaseProxy"),Nv=Symbol("Comlink.thrown"),Mv=function(e){return"object"===typeof e&&null!==e||"function"===typeof e},Fv={canHandle:function(e){return Mv(e)&&e[Ov]},serialize:function(e){var n=new MessageChannel,t=n.port1,r=n.port2;return Vv(e,t),[r,[r]]},deserialize:function(e){return e.start(),qv(e,[],n);var n}},Wv=new Map([["proxy",Fv],["throw",{canHandle:function(e){return Mv(e)&&Nv in e},serialize:function(e){var n=e.value;return[(0,Qn.Z)(n,Error)?{isError:!0,value:{message:n.message,name:n.name,stack:n.stack}}:{isError:!1,value:n},[]]},deserialize:function(e){if(e.isError)throw Object.assign(new Error(e.value.message),e.value);throw e.value}}]]);function Vv(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:self,t=arguments.length>2?arguments[2]:void 0;function r(i){if(i&&i.data&&(!t||i.origin===t.origin&&i.source===t.source)){var o,a=(0,R.Z)({path:[]},i.data),l=a.id,s=a.type,c=a.path,u=(i.data.argumentList||[]).map(nm);try{var d=c.slice(0,-1).reduce((function(e,n){return e[n]}),e),p=c.reduce((function(e,n){return e[n]}),e);switch(s){case Dv.GET:o=p;break;case Dv.SET:d[c.slice(-1)[0]]=nm(i.data.value),o=!0;break;case Dv.APPLY:o=p.apply(d,u);break;case Dv.CONSTRUCT:o=Jv((0,zv.Z)(p,(0,Qe.Z)(u)));break;case Dv.ENDPOINT:var f=new MessageChannel,h=f.port1,v=f.port2;Vv(e,v),o=Qv(h,[h]);break;case Dv.RELEASE:o=void 0;break;default:return}}catch(m){o=(0,C.Z)({value:m},Nv,0)}Promise.resolve(o).catch((function(e){return(0,C.Z)({value:e},Nv,0)})).then((function(e){var t=(0,w.Z)(em(e),2),i=t[0],o=t[1];n.postMessage((0,he.Z)((0,R.Z)({},i),{id:l}),o),s===Dv.RELEASE&&(n.removeEventListener("message",r),Hv(n))}))}}return n.addEventListener("message",r),n.start&&n.start(),function(){n.removeEventListener("message",r),Hv(n)}}function Hv(e){(function(e){return"MessagePort"===e.constructor.name})(e)&&e.close()}function Yv(e){if(e)throw new Error("Proxy has been released and is not useable")}function qv(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],t=arguments.length>2&&void 0!==arguments[2]?arguments[2]:function(){},r=!1,i=new Proxy(t,{get:function(t,o){if(Yv(r),o===jv)return function(){return tm(e,{type:Dv.RELEASE,path:n.map((function(e){return e.toString()}))}).then((function(){Hv(e),r=!0}))};if("then"===o){if(0===n.length)return{then:function(){return i}};var a=tm(e,{type:Dv.GET,path:n.map((function(e){return e.toString()}))}).then(nm);return a.then.bind(a)}return qv(e,(0,Qe.Z)(n).concat([o]))},set:function(t,i,o){Yv(r);var a=(0,w.Z)(em(o),2),l=a[0],s=a[1];return tm(e,{type:Dv.SET,path:(0,Qe.Z)(n).concat([i]).map((function(e){return e.toString()})),value:l},s).then(nm)},apply:function(t,i,o){Yv(r);var a=n[n.length-1];if(a===Xv)return tm(e,{type:Dv.ENDPOINT}).then(nm);if("bind"===a)return qv(e,n.slice(0,-1));var l=(0,w.Z)(Kv(o),2),s=l[0],c=l[1];return tm(e,{type:Dv.APPLY,path:n.map((function(e){return e.toString()})),argumentList:s},c).then(nm)},construct:function(t,i){Yv(r);var o=(0,w.Z)(Kv(i),2),a=o[0],l=o[1];return tm(e,{type:Dv.CONSTRUCT,path:n.map((function(e){return e.toString()})),argumentList:a},l).then(nm)}});return i}function Kv(e){var n,t=e.map(em);return[t.map((function(e){return e[0]})),(n=t.map((function(e){return e[1]})),Array.prototype.concat.apply([],n))]}var $v=new WeakMap;function Qv(e,n){return $v.set(e,n),e}function Jv(e){return Object.assign(e,(0,C.Z)({},Ov,!0))}function em(e){var n=!0,t=!1,r=void 0;try{for(var i,o=Wv[Symbol.iterator]();!(n=(i=o.next()).done);n=!0){var a=(0,w.Z)(i.value,2),l=a[0],s=a[1];if(s.canHandle(e)){var c=(0,w.Z)(s.serialize(e),2),u=c[0],d=c[1];return[{type:Gv.HANDLER,name:l,value:u},d]}}}catch(p){t=!0,r=p}finally{try{n||null==o.return||o.return()}finally{if(t)throw r}}return[{type:Gv.RAW,value:e},$v.get(e)||[]]}function nm(e){switch(e.type){case Gv.HANDLER:return Wv.get(e.name).deserialize(e.value);case Gv.RAW:return e.value}}function tm(e,n,t){return new Promise((function(r){var i=new Array(4).fill(0).map((function(){return Math.floor(Math.random()*Number.MAX_SAFE_INTEGER).toString(16)})).join("-");e.addEventListener("message",(function n(t){t.data&&t.data.id&&t.data.id===i&&(e.removeEventListener("message",n),r(t.data))})),e.start&&e.start(),e.postMessage((0,R.Z)({id:i},n),t)}))}function rm(e,n){return function(){for(var t=arguments.length,r=new Array(t),i=0;i<t;i++)r[i]=arguments[i];var o=!0,a=!1,l=void 0;try{for(var s,c=e[Symbol.iterator]();!(o=(s=c.next()).done);o=!0){var u=s.value;u()}}catch(d){a=!0,l=d}finally{try{o||null==c.return||c.return()}finally{if(a)throw l}}return n.apply(void 0,(0,Qe.Z)(r))}}function im(e,n){var t={};for(var r in n)"function"===typeof n[r]&&(t[r]=rm(e,n[r]));return t}function om(e,n){return function(){var t=e.store.get(e.extensionStateAtom),r=!0,i=!1,o=void 0;try{for(var a,l=n[Symbol.iterator]();!(r=(a=l.next()).done);r=!0){var s=a.value;if(!t.scopes.has(s)){var c="Scope not declared in extension.json: ".concat(s);if(e.flagEnforceScopes)throw e.logger.error(c),new Error(c);e.logger.warn("".concat(c,". In the future this will throw an error"))}}}catch(u){i=!0,o=u}finally{try{r||null==l.return||l.return()}finally{if(i)throw o}}}}var am=t(83344);function lm(e){return e.error?{error:e.error,success:!1}:{success:!0,error:null}}function sm(){var e=(0,T.Z)(["\n  fragment InitialCurrentUserData on CurrentUser {\n    id\n    username\n    image\n    bio\n  }\n"]);return sm=function(){return e},e}function cm(){var e=(0,T.Z)(["\n  fragment SocialCurrentUserData on CurrentUser {\n    url\n    socials {\n      id\n      url\n      type\n    }\n    firstName\n    lastName\n    displayName\n    fullName\n    followCount\n    followerCount\n  }\n"]);return cm=function(){return e},e}function um(){var e=(0,T.Z)(["\n  fragment RolesCurrentUserData on CurrentUser {\n    roles {\n      id\n      name\n      key\n      tagline\n    }\n  }\n"]);return um=function(){return e},e}function dm(){var e=(0,T.Z)(["\n  fragment PlanCurrentUserData on CurrentUser {\n    isUserHacker: subscriptionIsType(subscriptionType: HACKER)\n    isUserPro: subscriptionIsType(subscriptionType: HACKER_PRO)\n  }\n"]);return dm=function(){return e},e}function pm(){var e=(0,T.Z)(["\n  fragment SocialUserData on User {\n    url\n    socials {\n      id\n      url\n      type\n    }\n    firstName\n    lastName\n    displayName\n    fullName\n    followCount\n    followerCount\n  }\n"]);return pm=function(){return e},e}function fm(){var e=(0,T.Z)(["\n  fragment RolesUserData on User {\n    roles {\n      id\n      name\n      key\n      tagline\n    }\n  }\n"]);return fm=function(){return e},e}function hm(){var e=(0,T.Z)(["\n  fragment PlanUserData on User {\n    isUserHacker: subscriptionIsType(subscriptionType: HACKER)\n    isUserPro: subscriptionIsType(subscriptionType: HACKER_PRO)\n  }\n"]);return hm=function(){return e},e}function vm(){var e=(0,T.Z)(["\n  fragment InitialReplData on Repl {\n    id\n    url\n    title\n    description\n    timeCreated\n    slug\n    isPrivate\n  }\n"]);return vm=function(){return e},e}function mm(){var e=(0,T.Z)(["\n  fragment SocialReplData on Repl {\n    likeCount\n    publicForkCount\n    runCount\n    commentCount\n    iconUrl\n    imageUrl\n    tags {\n      id\n      isOfficial\n    }\n  }\n"]);return mm=function(){return e},e}function gm(){var e=(0,T.Z)(["\n  fragment CommentsReplData on Repl {\n    comments {\n      items {\n        id\n        body\n        user {\n          id\n          username\n          image\n        }\n      }\n    }\n  }\n"]);return gm=function(){return e},e}function Zm(){var e=(0,T.Z)(["\n  fragment InitialUserData on User {\n    id\n    username\n    image\n    bio\n  }\n"]);return Zm=function(){return e},e}function bm(){var e=(0,T.Z)(["\n  fragment OwnerData on Repl {\n    owner {\n      __typename\n      ... on User {\n        ...InitialUserData\n      }\n      ... on Team {\n        id\n        username\n        image\n        description\n      }\n    }\n  }\n  ","\n"]);return bm=function(){return e},e}function xm(){var e=(0,T.Z)(["\n  fragment MultiplayersData on Repl {\n    multiplayers {\n      ...InitialUserData\n    }\n  }\n  ","\n"]);return xm=function(){return e},e}function ym(){var e=(0,T.Z)(["\n  query extensionPortCurrentUser(\n    $includeSocialData: Boolean! = false\n    $includeRoles: Boolean! = false\n    $includePlan: Boolean! = false\n  ) {\n    user: currentUser {\n      ...InitialCurrentUserData\n      ...SocialCurrentUserData @include(if: $includeSocialData)\n      ...RolesCurrentUserData @include(if: $includeRoles)\n      ...PlanCurrentUserData @include(if: $includePlan)\n    }\n  }\n  ","\n  ","\n  ","\n  ","\n"]);return ym=function(){return e},e}function wm(){var e=(0,T.Z)(["\n  query extensionPortUserByUsername(\n    $username: String!\n    $includeSocialData: Boolean! = false\n    $includeRoles: Boolean! = false\n    $includePlan: Boolean! = false\n  ) {\n    userByUsername(username: $username) {\n      ...InitialUserData\n      ...SocialUserData @include(if: $includeSocialData)\n      ...RolesUserData @include(if: $includeRoles)\n      ...PlanUserData @include(if: $includePlan)\n    }\n  }\n  ","\n  ","\n  ","\n  ","\n"]);return wm=function(){return e},e}function km(){var e=(0,T.Z)(["\n  query extensionPortUserById(\n    $id: Int!\n    $includeSocialData: Boolean! = false\n    $includeRoles: Boolean! = false\n    $includePlan: Boolean! = false\n  ) {\n    user(id: $id) {\n      ...InitialUserData\n      ...SocialUserData @include(if: $includeSocialData)\n      ...RolesUserData @include(if: $includeRoles)\n      ...PlanUserData @include(if: $includePlan)\n    }\n  }\n  ","\n  ","\n  ","\n  ","\n"]);return km=function(){return e},e}function Cm(){var e=(0,T.Z)(["\n  query currentUserEditorPreferences {\n    currentUser {\n      id\n      editorPreferences {\n        fontSize\n        indentIsSpaces\n        indentSize\n        keyboardHandler\n        wrapping\n        codeIntelligence\n        codeSuggestion\n        multiselectModifierKey\n        minimapDisplay\n      }\n    }\n  }\n"]);return Cm=function(){return e},e}function Sm(){var e=(0,T.Z)(["\n  query extensionPortReplById(\n    $id: String!\n    $includeSocialData: Boolean! = false\n    $includeComments: Boolean! = false\n    $includeOwner: Boolean! = false\n    $includeMultiplayers: Boolean! = false\n  ) {\n    repl(id: $id) {\n      __typename\n      ... on Repl {\n        ...InitialReplData\n        ...SocialReplData @include(if: $includeSocialData)\n        ...CommentsReplData @include(if: $includeComments)\n        ...OwnerData @include(if: $includeOwner)\n        ...MultiplayersData @include(if: $includeMultiplayers)\n      }\n      ... on ReplRedirect {\n        replUrl\n      }\n      ... on SubscriptionExpiredError {\n        isOwner\n        replId\n      }\n    }\n  }\n  ","\n  ","\n  ","\n  ","\n  ","\n"]);return Sm=function(){return e},e}function Rm(){var e=(0,T.Z)(["\n  query extensionPortReplByUrl(\n    $url: String!\n    $includeSocialData: Boolean! = false\n    $includeComments: Boolean! = false\n    $includeOwner: Boolean! = false\n    $includeMultiplayers: Boolean! = false\n  ) {\n    repl(url: $url) {\n      __typename\n      ... on Repl {\n        ...InitialReplData\n        ...SocialReplData @include(if: $includeSocialData)\n        ...CommentsReplData @include(if: $includeComments)\n        ...OwnerData @include(if: $includeOwner)\n        ...MultiplayersData @include(if: $includeMultiplayers)\n      }\n    }\n  }\n  ","\n  ","\n  ","\n  ","\n  ","\n"]);return Rm=function(){return e},e}var Tm=(0,E.Ps)(sm()),Em=(0,E.Ps)(cm()),Im=(0,E.Ps)(um()),Gm=(0,E.Ps)(dm()),Dm=(0,E.Ps)(pm()),Bm=(0,E.Ps)(fm()),Pm=(0,E.Ps)(hm()),_m=(0,E.Ps)(vm()),Am=(0,E.Ps)(mm()),Um=(0,E.Ps)(gm()),Lm=(0,E.Ps)(Zm()),zm=(0,E.Ps)(bm(),Lm),Om=(0,E.Ps)(xm(),Lm),Xm=(0,E.Ps)(ym(),Tm,Em,Im,Gm);var jm=(0,E.Ps)(wm(),Lm,Dm,Bm,Pm);var Nm=(0,E.Ps)(km(),Lm,Dm,Bm,Pm);var Mm=(0,E.Ps)(Cm());var Fm=(0,E.Ps)(Sm(),_m,Am,Um,zm,Om);var Wm=(0,E.Ps)(Rm(),_m,Am,Um,zm,Om);function Vm(e){return function(){var n=(0,tt.Z)((function(n){var t,r;return(0,rt.__generator)(this,(function(i){switch(i.label){case 0:return[4,null===Mc.l||void 0===Mc.l?void 0:Mc.l.query({query:e,variables:n||void 0})];case 1:if(null===(t=i.sent())||void 0===t?void 0:t.data)return[2,t.data];throw new Error(null===t||void 0===t||null===(r=t.error)||void 0===r?void 0:r.message)}}))}));return function(e){return n.apply(this,arguments)}}()}function Hm(){function e(){return e=(0,tt.Z)((function(){var e,n,t,r;return(0,rt.__generator)(this,(function(i){switch(i.label){case 0:return[4,null===Mc.l||void 0===Mc.l?void 0:Mc.l.query({query:Mm})];case 1:if(null===(t=i.sent())||void 0===t||null===(e=t.data)||void 0===e||null===(n=e.currentUser)||void 0===n?void 0:n.editorPreferences)return[2,t.data.currentUser.editorPreferences];throw new Error(null===t||void 0===t||null===(r=t.error)||void 0===r?void 0:r.message)}}))})),e.apply(this,arguments)}return{getPreferences:function(){return e.apply(this,arguments)}}}function Ym(){var e=(0,T.Z)(["\n  query ExtensionApiAuthToken($installationId: String!) {\n    extensionInstallationById(id: $installationId) {\n      ... on ExtensionInstallation {\n        id\n        token\n      }\n    }\n  }\n"]);return Ym=function(){return e},e}var qm=(0,E.Ps)(Ym());var Km=t(14224);function $m(e){return function(){if(!e.store.get(e.extensionStateAtom).enableExperimentalApi)throw new Error("Experimental APIs are not enabled. (If you are the developer, please add the `experimental-api` scope to your extension.json)")}}function Qm(e){return(0,he.Z)((0,R.Z)({},im([$m(e)],{hasExperimentalApi:function(){return!0}})),{editor:im([$m(e)],(0,R.Z)({},Hm())),auth:im([$m(e)],(0,R.Z)({},(n=e,{getAuthToken:function(){return(0,tt.Z)((function(){var e,t,r;return(0,rt.__generator)(this,(function(i){switch(i.label){case 0:return n.extension.isLocal?[2,[btoa(JSON.stringify({alg:"none",typ:"JWT",local:!0,key:"there-is-no-key-for-local-extensions"})),btoa(JSON.stringify({installationId:n.extension.installationId,extensionId:n.extension.extensionId,userId:n.userId,origin:null!==(e=Km.env.ORIGIN)&&void 0!==e?e:"unset"})),"this-is-a-locally-generated-jwt-that-will-fail-verification-to-avoid-being-used-accidentally-in-prod-so-please-check-the-header-for-whether-this-is-a-local-extension"].join(".")]:[4,null===Mc.l||void 0===Mc.l?void 0:Mc.l.query({query:qm,variables:{installationId:n.extension.installationId}})];case 1:if(!(null===(t=i.sent())||void 0===t?void 0:t.data))throw new Error("Failed to authenticate: something went wrong");if("NotFoundError"===(r=t.data.extensionInstallationById).__typename)throw new Error("Failed to authenticate: invalid installation ID");if("ExtensionInstallation"!==r.__typename)throw new Error("Failed to authenticate: something went wrong");if(!r.token)throw new Error("Failed to authenticate: something went wrong");return[2,r.token]}}))}))()}})))});var n}function Jm(e){var n=e.services.container;return{getConnectionState:function(){return n.getConnectionState()},onConnectionStateChanged:function(e){var t=n.onConnectionStateChanged(e);return Jv((function(){t()}))}}}function eg(e){return function(){if(!e.ghostwriter.userHasGhostwriterChat())throw new Error("Ghostwriter chat is not enabled for the user")}}function ng(e){var n=e.ghostwriter,t=n.getChatHistory,r=n.sendMessage,i=n.getGhostwriterChatTextInput,o=n.setGhostwriterChatTextInput,a=n.getGhostwriterIsSending,l=n.clearChatHistory,s=n.regenerateMessage,c=n.getWorkspaceContext,u=n.onChatHistoryChange;return(0,he.Z)((0,R.Z)({},im([eg(e)],{getChatHistory:function(){return(0,tt.Z)((function(){var e;return(0,rt.__generator)(this,(function(n){return e=t(),[2,JSON.parse(JSON.stringify(e))]}))}))()},sendMessage:function(e){return(0,tt.Z)((function(){var n;return(0,rt.__generator)(this,(function(i){switch(i.label){case 0:return[4,c()];case 1:return n=i.sent(),[4,r({chatMessage:e,workspaceContext:n,messages:t()})];case 2:return i.sent(),[2]}}))}))()},getWorkspaceContext:function(){return(0,tt.Z)((function(){return(0,rt.__generator)(this,(function(e){switch(e.label){case 0:return[4,c()];case 1:return[2,e.sent()]}}))}))()},getInputValue:function(){return(0,tt.Z)((function(){return(0,rt.__generator)(this,(function(e){return[2,i()]}))}))()},setInputValue:function(e){return(0,tt.Z)((function(){return(0,rt.__generator)(this,(function(n){switch(n.label){case 0:return[4,o(e)];case 1:return n.sent(),[2]}}))}))()},getIsSending:function(){return(0,tt.Z)((function(){return(0,rt.__generator)(this,(function(e){return[2,a()]}))}))()},clearChatHistory:function(){return(0,tt.Z)((function(){return(0,rt.__generator)(this,(function(e){return l(),[2]}))}))()},regenerateMessage:function(e){return(0,tt.Z)((function(){return(0,rt.__generator)(this,(function(n){switch(n.label){case 0:return[4,s({responseId:e.responseId,action:e.action})];case 1:return n.sent(),[2,this.getChatHistory()]}}))})).apply(this)},onChatHistoryChange:function(e){return(0,tt.Z)((function(){var n;return(0,rt.__generator)(this,(function(t){return n=u((function(n){return e(n)})),[2,Jv((function(){n()}))]}))}))()}})),{userHasGhostwriterChat:function(){return e.ghostwriter.userHasGhostwriterChat()}})}function tg(e){var n=e.services.runner;return{getRunState:function(){return n.getRunState()},onStateChanged:function(e){var t=n.onStateChanged(e);return Jv((function(){t()}))}}}function rg(e){return{registerCommand:function(){var n=(0,tt.Z)((function(n){var t;return(0,rt.__generator)(this,(function(r){switch(r.label){case 0:return r.trys.push([0,2,,3]),[4,Do(n,e)];case 1:return t=To.ZC.apply(void 0,[r.sent()]),[3,3];case 2:throw r.sent();case 3:return e.store.set(yo.FX,{extensionStateAtom:e.extensionStateAtom,command:t}),[2]}}))}));return function(e){return n.apply(this,arguments)}}()}}function ig(e){return{revealOrInsertTool:function(){var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,t=e.logger.createLogger({api:"revealOrInsertTool"});if(e.extension.manifest.tools)if(e.extension.manifest.tools.length<n+1)t.warn("Tool index out of bounds");else{var r=e.extension.manifest.tools[n],i=r.name||e.extension.manifest.name,o=(0,Eo.Vh)(e.extension.baseUrl,r.handler);e.environmentAPIs.revealOrInsertTool({extensionId:e.extension.extensionId,installationId:e.extension.installationId,url:o,name:i})}else t.warn("No tools defined in extension manifest")}}}function og(e){return e.store.get(e.extensionStateAtom).enableInternalApi?{hasInternalApi:function(){return!0},commands:rg(e),ghostwriter:ng(e),execInShell:e.environmentAPIs.execInShell,runner:tg(e),container:Jm(e),layout:ig(e)}:null}var ag=t(44945),lg=ag.z.record(ag.z.string().nonempty());function sg(e){var n=e.filePath,t=e.replId,r=e.environmentAPIs,i=e.logger.createLogger({api:"debug"});function o(){return o=(0,tt.Z)((function(n){var t,r,i,o;return(0,rt.__generator)(this,(function(a){switch(a.label){case 0:return[4,null===n||void 0===n?void 0:n.clientName];case 1:return r=null!==(t=a.sent())&&void 0!==t?t:"(unset)",[4,null===n||void 0===n?void 0:n.clientVersion];case 2:return o=null!==(i=a.sent())&&void 0!==i?i:"(unset)",(0,g.j)(g.U3.EXTENSION_SANDBOX_INITIALIZED,{clientName:r,clientVersion:o,extensionId:e.extension.extensionId,extensionName:e.extension.manifest.name,installationId:e.extension.installationId}),(0,tt.Z)((function(){var n,t,i;return(0,rt.__generator)(this,(function(a){switch(a.label){case 0:return e.extension.isLocal?"@replit/extensions"!==r?[2]:[4,e.services.container.exec("sh","-c","npm view @replit/extensions --json version 2>/dev/null")]:[2];case 1:if((t=a.sent()).error)throw t.error;if(!t.output)throw new Error("No output from npm");return(i=JSON.parse(null===(n=t.output)||void 0===n?void 0:n.trim()))===o||e.logger.warn("There is a new version of @replit/extensions available. You are using ".concat(o,", but the latest version is ").concat(i),{clientVersion:o,latestVersion:i}),[2]}}))}))(),[2,{success:!0}]}}))})),o.apply(this,arguments)}var a=(0,he.Z)((0,R.Z)({filePath:n},function(e){var n=function(e,n){return"utf8"===n?e.toString():"binary"===n?e.toBuffer():e},t=e.services.fs,r=e.logger.createLogger({api:"fs"});function i(){return(i=(0,tt.Z)((function(e,n){var r,i,o;return(0,rt.__generator)(this,(function(a){switch(a.label){case 0:return r=(0,am.AH)(e),"string"!==typeof n?[3,1]:(i=n,[3,4]);case 1:return(0,Qn.Z)(n,Blob)?(o=bt.Z.from,[4,n.arrayBuffer()]):[3,3];case 2:return i=o.apply(bt.Z,[a.sent()]),[3,4];case 3:i=bt.Z.from(n),a.label=4;case 4:return[4,t.writeFile(r,i)];case 5:return[2,lm(a.sent())]}}))}))).apply(this,arguments)}function o(){return o=(0,tt.Z)((function(e){var r,i,o,a=arguments;return(0,rt.__generator)(this,(function(l){switch(l.label){case 0:return r=a.length>1&&void 0!==a[1]?a[1]:"utf8",i=(0,am.AH)(e),[4,t.readFile(i)];case 1:return(o=l.sent()).error?[2,{error:o.error,content:null}]:[2,{error:null,content:n(o.content,r)}]}}))})),o.apply(this,arguments)}function a(){return(a=(0,tt.Z)((function(e){var n,r;return(0,rt.__generator)(this,(function(i){switch(i.label){case 0:return n=(0,am.AH)(e),[4,t.readDir(n)];case 1:return(r=i.sent()).error?[2,{error:r.error,children:null}]:[2,{error:null,children:r.children}]}}))}))).apply(this,arguments)}function l(){return(l=(0,tt.Z)((function(e){var n;return(0,rt.__generator)(this,(function(r){switch(r.label){case 0:return n=(0,am.AH)(e),[4,t.createDir(n)];case 1:return[2,lm(r.sent())]}}))}))).apply(this,arguments)}function s(){return(s=(0,tt.Z)((function(e){var n;return(0,rt.__generator)(this,(function(r){switch(r.label){case 0:return n=(0,am.AH)(e),[4,t.deleteDir(n)];case 1:return[2,lm(r.sent())]}}))}))).apply(this,arguments)}function c(){return(c=(0,tt.Z)((function(e){var n;return(0,rt.__generator)(this,(function(r){switch(r.label){case 0:return n=(0,am.AH)(e),[4,t.deleteFile(n)];case 1:return[2,lm(r.sent())]}}))}))).apply(this,arguments)}function u(){return(u=(0,tt.Z)((function(e,n){var r,i,o;return(0,rt.__generator)(this,(function(a){switch(a.label){case 0:return r=(0,am.AH)(e),[4,t.stat(r)];case 1:return(i=a.sent()).exists?i.type!==An.Tv.File?[3,3]:[4,t.moveFile(r,n)]:[2,{error:"File or directory does not exist",success:!1}];case 2:return o=a.sent(),[3,5];case 3:return[4,t.moveDir(r,n)];case 4:o=a.sent(),a.label=5;case 5:return[2,lm(o)]}}))}))).apply(this,arguments)}function d(){return(d=(0,tt.Z)((function(e,n){var r;return(0,rt.__generator)(this,(function(i){switch(i.label){case 0:return r=(0,am.AH)(e),[4,t.copyFile(r,n)];case 1:return[2,lm(i.sent())]}}))}))).apply(this,arguments)}return im([om(e,["read"])],(0,R.Z)({readFile:function(e){return o.apply(this,arguments)},readDir:function(e){return a.apply(this,arguments)},watchFile:function(e,n){var i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"binary",o=(0,am.AH)(e);(0,Un.Mb)(o)&&r.warn("Extension used watchFile on a text file. This works, but watchTextFile is preferred.");var a=t.watchFile(o,{onChange:function(e){"utf8"!==i?n.onChange(e.asBuffer):n.onChange(e.toString("utf8"))},onError:function(e){n.onError(e.message)},onMoveOrDelete:function(e){n.onMoveOrDelete({eventType:e.eventType,node:e.node})}});return Jv((function(){a()}))},watchDir:function(e,n){var r=(0,am.AH)(e),i=t.watchDir(r,{onChange:function(t){n.onChange(t.map((function(n){return{path:(0,am.Oh)(e)+n.filename,type:n.type}})))},onError:function(e){n.onError(e)},onMoveOrDelete:function(e){n.onMoveOrDelete(e)}});return Jv((function(){i()}))}},im([om(e,["write-exec"])],{createDir:function(e){return l.apply(this,arguments)},deleteDir:function(e){return s.apply(this,arguments)},writeFile:function(e,n){return i.apply(this,arguments)},deleteFile:function(e){return c.apply(this,arguments)},copyFile:function(e,n){return d.apply(this,arguments)},move:function(e,n){return u.apply(this,arguments)},watchTextFile:function(e,n){(0,Un.Mb)(e)||r.warn("It appears that you are trying to use watchTextFile on a non-OT file. Please use fs.watchFile instead");var i=t.watchTextFile(e,{onReady:function(e){var t=e.fetchChanges,r=e.initialContent,i=e.transformSelection,o=e.updateSelections,a=e.version,l=e.writeChange;n.onReady(Jv({writeChange:l,fetchChanges:t,initialContent:r,version:a,transformSelection:i,updateSelections:o}))},onChange:function(){var e=(0,tt.Z)((function(e){var t,r,i,o;return(0,rt.__generator)(this,(function(a){return t=e.latestContent,r=e.changeSource,i=e.changes,o=e.version,n.onChange({latestContent:t.toString(),version:o,changeSource:r,changes:i.toJSON()}),[2]}))}));return function(n){return e.apply(this,arguments)}}(),onError:function(e){n.onError(e.message)},onMoveOrDelete:function(e){n.onMoveOrDelete({eventType:e.eventType,node:e.node})}});return Jv((function(){i()}))}})))}(e),function(e){var n=e.services.container,t=null;function r(){return i.apply(this,arguments)}function i(){return(i=(0,tt.Z)((function(){var e;return(0,rt.__generator)(this,(function(r){switch(r.label){case 0:return t?[2]:[4,n.exec("bash","-c","echo $REPLIT_DB_URL")];case 1:if((e=r.sent()).error||!e.output)throw new Error("unable to find REPLIT_DB_URL");return t=e.output.trim(),[2]}}))}))).apply(this,arguments)}function o(){return(o=(0,tt.Z)((function(e,i){return(0,rt.__generator)(this,(function(o){switch(o.label){case 0:return[4,r()];case 1:return o.sent(),[4,n.exec("curl",t,"-s","-d","".concat(e,"=").concat(i))];case 2:return o.sent(),[2]}}))}))).apply(this,arguments)}function a(){return(a=(0,tt.Z)((function(e){return(0,rt.__generator)(this,(function(i){switch(i.label){case 0:return[4,r()];case 1:return i.sent(),[4,n.exec("curl","-s","".concat(t,"/").concat(e))];case 2:return[2,i.sent().output]}}))}))).apply(this,arguments)}function l(){return(l=(0,tt.Z)((function(e){var i;return(0,rt.__generator)(this,(function(o){switch(o.label){case 0:return[4,r()];case 1:return o.sent(),[4,n.exec("curl","-s","".concat(t,"?prefix=").concat(e))];case 2:return(i=o.sent()).error||!i.output?[2,{error:i.error}]:[2,{keys:i.output.split("\n")}]}}))}))).apply(this,arguments)}function s(){return(s=(0,tt.Z)((function(e){var i;return(0,rt.__generator)(this,(function(o){switch(o.label){case 0:return[4,r()];case 1:return o.sent(),[4,n.exec("curl","-s","-XDELETE","".concat(t,"/").concat(e))];case 2:return(i=o.sent()).error||!i.output?[2,{error:i.error}]:[2,{keys:i.output.split("\n")}]}}))}))).apply(this,arguments)}return im([om(e,["repldb:read"])],(0,R.Z)({getReplDbValue:function(e){return a.apply(this,arguments)},listReplDbKeys:function(e){return l.apply(this,arguments)}},im([om(e,["repldb:write"])],{setReplDbValue:function(e,n){return o.apply(this,arguments)},deleteReplDbKey:function(e){return s.apply(this,arguments)}})))}(e),function(e){return{watchActiveFile:function(n){return Jv(e.environmentAPIs.watchActiveFile(n))},openFile:e.environmentAPIs.openFile,getActiveFile:function(){return e.environmentAPIs.getActiveFile()}}}(e),function(e){var n=e.getThemeContext,t=e.onThemeChange;return{getCurrentTheme:function(){return n().theme},getCurrentThemeValues:function(){return n().theme.values.global},onThemeChange:function(e){var n=t(e);return Jv((function(){n()}))},onThemeChangeValues:function(e){var n=t((function(n){return e(n.values.global)}));return Jv((function(){n()}))}}}(e),function(e){var n=e.showMessage;return{showConfirm:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:4e3;return n({content:e,type:"confirm",time:t>1e4?1e3:t,style:arguments.length>2?arguments[2]:void 0})},showError:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:4e3;return n({content:e,type:"error",time:t>1e4?1e3:t,style:arguments.length>2?arguments[2]:void 0})},showNotice:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:4e3;return n({content:e,type:"notice",time:t>1e4?1e3:t,style:arguments.length>2?arguments[2]:void 0})},showWarning:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:4e3;return n({content:e,type:"warning",time:t>1e4?1e3:t,style:arguments.length>2?arguments[2]:void 0})},hideMessage:e.hideMessage,hideAllMessages:e.hideAllMessages}}(r.toasts),function(e){var n=e.replId;return{currentUser:Vm(Xm),userById:Vm(Nm),userByUsername:Vm(jm),currentRepl:function(e){return Vm(Fm)((0,R.Z)({id:n},e))},replById:Vm(Fm),replByUrl:Vm(Wm)}}({replId:t}),function(e){var n=e.services.container.client(),t=e.logger.createLogger({api:"exec"});function r(){return r=(0,tt.Z)((function(e){var r,i,o,a,l;return(0,rt.__generator)(this,(function(s){switch(s.label){case 0:return[4,e.args];case 1:return r=s.sent(),[4,e.env];case 2:if(i=s.sent(),t.info("exec: [".concat(r.join(", "),"]"),{environmentVariables:i}),!lg.safeParse(i).success)throw new Error("Invalid environment variables");return[4,e.splitStderr];case 3:return o=s.sent(),a=function(){},l=new Promise((function(l){a=n.openChannel({service:"exec"},(function(n){var s=n.channel;s.onCommand((function(n){o?n.output?e.onOutput(n.output):n.stderr&&e.onStdErr(n.stderr):n.output&&e.onOutput(n.output)})),s.request({exec:{args:r,env:i,splitStderr:Boolean(o)}}).then((function(n){if(n.ok)l({exitCode:0,error:null});else{if(n.channelClosed){var t="Channel closed before command's execution finished";return e.onError(t),void l({exitCode:null,error:t})}if("open"===s.status&&a(),!n.error)throw new Error("Unknown error");var r,i,o=Number(null===(i=null===(r=n.error)||void 0===r?void 0:r.match(/-?[0-9]+/g))||void 0===i?void 0:i[0]);l({exitCode:"number"===typeof o?o:null,error:n.error})}})).catch((function(n){t.error("exec: threw crosis error:\n".concat(String(n||"")));var r="exec() failed due to internal error. See console for details.";e.onError(r),l({error:r,exitCode:null})}))}))})),[2,Jv({dispose:function(){a()},promise:l})]}}))})),r.apply(this,arguments)}return(0,R.Z)({},im([om(e,["write-exec"])],{exec:function(e){return r.apply(this,arguments)}}))}(e),function(e){var n=e.extension,t=e.paneId,r=e.environmentAPIs,i=!1;return{activatePane:function(){t&&(r.activatePane(t),i||(i=!0,(0,g.j)(g.U3.EXTENSION_USED,{extensionId:n.extensionId,extensionName:n.manifest.name})))}}}(e)),{experimental:Qm(e),internal:og(e),debug:{info:function(e,n){return i.info(e,n)},warn:function(e,n){return i.warn(e,n)},error:function(e,n){return i.error(e,n)}},handshake:function(e){return o.apply(this,arguments)}});return a}function cg(e){var n=e.extensionIframe,t=new URL(n.src).origin,r=sg(e);if(!n.contentWindow)throw new Error("No contentWindow");var i=Vv(r,function(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:self,t=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"*";return{postMessage:function(n,r){e.postMessage(n,t,r)},addEventListener:n.addEventListener.bind(n),removeEventListener:n.removeEventListener.bind(n)}}(n.contentWindow,self,t),{origin:t,source:n.contentWindow}),o=function(r){if(r.origin===t&&n.contentWindow===r.source){var i=r.data;i.payload&&e.logger.warn("Extension sent deprecated postMessage",i)}};return window.addEventListener("message",o),function(){i(),window.removeEventListener("message",o)}}var ug=t(52364),dg=t(39605),pg=t(18180);function fg(e){var n=e.extension,t=e.sandboxUrl,r=e.sandboxTitle,i=e.paneId,o=e.environmentAPIs,a=e.filePath,l=d.useRef(null),s=(0,Ae.Z)(),c=(0,Pv.d)(),u=(0,pe.Z)(),p=d.useRef(),f=(0,x.P5)({controlName:"flag-extensions-enforce-scopes",default:!1,type:"boolean",logFlagToAnalytics:!1}),h=(0,jp.Ld)(),v=(0,Rv.r9)(null===n||void 0===n?void 0:n.installationId),m=(0,Tp.F)(),g=d.useRef(m),Z=d.useRef([]);g.current=m;var b=function(){var e=(0,ug.ql)(),n=(0,dg.V)(),t=(0,ug.$C)(),r=(0,ug.z_)(),i=(0,ug.nB)(),o=(0,ug.ZT)(),a=(0,ug.Gd)(),l=(0,ug.Xq)(),s=(0,pg.d)(),c=(0,jt.Z)(s),u=(0,w.Z)((0,ug.zu)(),1)[0],p=(0,d.useRef)([]);return(0,d.useEffect)((function(){p.current.forEach((function(e){return e(u)}))}),[u]),(0,at.Z)((function(){return{sendMessage:e,getChatHistory:l,getWorkspaceContext:n,getGhostwriterChatTextInput:r,setGhostwriterChatTextInput:t,getGhostwriterIsSending:i,clearChatHistory:o,regenerateMessage:a,onChatHistoryChange:function(e){return p.current.push(e),function(){p.current.splice(p.current.indexOf(e),1)}},userHasGhostwriterChat:function(){return c.current}}}),[e,l,n,r,t,i,o,a,c])}(),y=(0,Bf.Z)(),k=(0,w.Z)(d.useState(!1),2),C=k[0],S=k[1];(0,d.useEffect)((function(){y===Uv.em.CONNECTED&&S(!0)}),[y]),(0,d.useEffect)((function(){Z.current.forEach((function(e){return e(m.theme)}))}),[m.theme]),(0,d.useEffect)((function(){return function(){p.current&&p.current()}}),[]);var T=d.useCallback((function(){try{return"https:"===new URL(t).protocol}catch(e){return!1}}),[t]),E=d.useCallback((function(){if(l.current&&T()&&n&&v&&c){p.current&&p.current();var e={extension:n,extensionIframe:l.current,services:u,paneId:i,replId:s,flagEnforceScopes:f,getThemeContext:function(){return g.current},onThemeChange:function(e){return Z.current.push(e),function(){Z.current.splice(Z.current.indexOf(e),1)}},store:h,extensionStateAtom:v,environmentAPIs:o,filePath:a,logger:n.logger.createLogger({sandboxUrl:t,sandboxTitle:r}),userId:c,ghostwriter:b};p.current=cg(e)}}),[c,g,u,T,i,f,h,v,o,s,a,n,t,r,b]),I=d.useCallback((function(){if(l.current){var e=l.current.src;l.current.src=e}}),[]);return{isValidExtensionPaneUrl:T,didConnectOnce:C,getIframeProps:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return(0,he.Z)((0,R.Z)({title:r,src:t},Lv.Z,e),{ref:(0,ti.l)(l,e.ref),onLoad:function(n){E(),e.onLoad&&e.onLoad(n)}})},reloadSandbox:I}}function hg(e){var n=e.extension,t=e.environmentAPIs;if(!n.manifest.background)throw new Error("ExtensionBackground loaded without a background script defined in manifest");var i=(0,Rv.r9)(n.installationId),o=fg({extension:n,sandboxUrl:(0,Eo.Vh)(n.baseUrl,n.manifest.background.page),sandboxTitle:"Extension Background: "+n.manifest.name,environmentAPIs:t,paneId:null,filePath:null}),a=o.didConnectOnce,l=o.isValidExtensionPaneUrl,s=o.getIframeProps;return l()&&a&&i?(0,r.tZ)("iframe",(0,R.Z)({},s({css:{width:"0px",height:"0px",border:"none"}}))):null}function vg(){var e=(0,ut.CA)(),n=(0,eu.Xo)(),t=(0,ze.QH)(),r=(0,ze.pV)(),i=(0,on.Z)(),o=(0,ut.TO)(),a=nu(),l=(0,eu.WU)(),s=(0,xt.c4)(),c=(0,d.useCallback)(function(){var e=(0,tt.Z)((function(e){var n,t;return(0,rt.__generator)(this,(function(r){switch(r.label){case 0:return n=o({pane:{type:"shell"},activate:!0,placement:{type:"secondary"}}),[4,s(n)];case 1:if("shell"!==(t=r.sent()).type)throw new Error("Expected shell pane binding");return t.exec(e),[2]}}))}));return function(n){return e.apply(this,arguments)}}(),[o,s]),u=(0,d.useCallback)((function(e){var n=e.extensionId,t=e.installationId,r=e.url,i=e.name;a({pane:{type:"extension",data:{extensionId:n,installationId:t,url:r,name:i}},activate:!0,placement:{type:"secondary",relativeTo:l()}})}),[a,l]);return(0,at.Z)((function(){return{openFile:e,watchActiveFile:t,getActiveFile:r,activatePane:n,toasts:i,execInShell:c,revealOrInsertTool:u}}),[e,t,r,n,i,c,u])}function mg(e){var n=e.hostedUrl,t=(0,Ae.Z)(),i=(0,Pv.d)(),o=(0,au.cR)(),a=(0,Rv.WF)(),l=(0,ut.cT)(),s=(0,Bv.Kf)(),c=(0,Rv.ot)(),u=(0,Bv.dI)();(0,au.Sp)();var p=(0,Rv.Mu)(),f=vg(),h=(0,d.useState)(!1),v=h[0],m=h[1];d.useEffect((function(){t&&i&&u({replId:t,userId:i})}),[t,i,u]);var g=function(e){var n=e.filterUser;return function(){var e=(0,tt.Z)((function(e){var o,l,s;return(0,rt.__generator)(this,(function(u){switch(u.label){case 0:return e.active?[4,null===Mc.l||void 0===Mc.l?void 0:Mc.l.query({query:Iv,variables:{replId:t,userId:n?i:void 0}})]:[2,[]];case 1:return!(o=u.sent())||o.error?[2,[]]:(l=o.data.extensionList)?[2,l.map((function(e){return{match:lt.pl,data:{type:"action",label:e.name,icon:(0,r.tZ)(lu.Z,{}),description:null!==(s=e.description)&&void 0!==s?s:"",run:function(){e.url&&(e.installation?c({installationId:(0,To.Ad)(e.installation.id)}):a({replId:t,extensionId:(0,To.T8)(e.id)}))}}}}))]:[2,[]]}}))}));return function(n){return e.apply(this,arguments)}}()},Z=(0,yo.s6)();return zt({data:{type:"group",key:"Extensions",description:"Commands from Extensions"},commands:(0,tt.Z)((function(){return(0,rt.__generator)(this,(function(e){return[2,(0,Qe.Z)(Z.filter((function(e){return e.data.contributions.includes(To.YC.CommandBar)})).map(Po))]}))}))},{enabled:!0}),zt({match:lt.pl,commands:function(e){return e.active||""!==e.search?[{match:lt.pl,data:{type:"action",label:"Extension Devtools",icon:(0,r.tZ)(gt.Z,{}),description:"Manage and deploy this Repl as an extension",run:function(){l({pane:{type:"extensionDevtools"}})}}},{match:lt.pl,data:{type:"action",label:"URL",icon:(0,r.tZ)(gt.Z,{}),description:"Add an extension by URL",run:function(){m(!0)}}},{match:lt.pl,data:{type:"action",label:"From this Repl",icon:(0,r.tZ)(gt.Z,{}),description:"Load this Repl as an extension",run:function(){s(n)}}},{match:lt.pl,data:{type:"context",label:"My Extensions",icon:(0,r.tZ)(lu.Z,{}),description:"Browse extensions you have created"},commands:g({filterUser:!0})},{match:lt.pl,data:{type:"action",label:"Docs",icon:(0,r.tZ)(Na.Z,{}),description:"Read the Extensions docs",run:function(){l({pane:{type:"docs",data:{url:_v.TT.EXTENSIONS}}})}}}]:[]},data:{type:"context",label:"Extensions",icon:(0,r.tZ)(lu.Z,{}),description:"Manage extensions"}},{enabled:o}),(0,r.BX)(r.HY,{children:[(0,r.tZ)(tn.u,{isOpen:v,onRequestClose:function(){return m(!1)},children:(0,r.tZ)(Av.Z,{prompt:"Add an extension by URL",desc:"Insert extension url",placeholder:"https://example-extension.repl.co",type:"text",onCancel:function(){return m(!1)},onConfirm:function(e){s(e)}})}),p.map((function(e){return e.manifest.background?(0,r.tZ)(hg,{environmentAPIs:f,extension:e},e.installationId):null}))]})}var gg=t(80848);var Zg=t(13379),bg={Content:function(e){var n=e.options,t=n.performPaneOperation,i=n.paneId,o=e.pane.data.autoFocus,a=(0,ut.Z0)(),l=(0,d.useRef)(null);(0,xt.Wk)((function(){return{focus:function(){var e;return null===(e=l.current)||void 0===e?void 0:e.call(l)}}}),[]);var s=(0,d.useCallback)((function(e){var n=e.path;t({operation:"replace",pane:{type:(0,it.Dp)({path:n}),data:{path:n}}}),a(i)}),[t,i,a]),c=Rt({currentPaneId:i,openFile:s});return(0,r.tZ)(Jn.X,{autoFocus:o,command:c,onSelect:function(e){if("openPane"===e.data.type)return(0,g.j)(g.U3.TOOL_OPENED,{source:"New Tab",tool:e.data.pane.type}),t({operation:"replace",pane:e.data.pane}),void a(i)},focusRef:l})},Icon:function(){return null},getTitle:function(){return"New tab"}},xg=t(23807),yg=t(78728),wg=t(99509),kg=t(96864),Cg=t(10578),Sg=t(83505),Rg=t(95587),Tg={Content:function(e){var n=e.options,t=n.paneId,i=n.isHidden,o=n.performPaneOperation,a=(0,pe.Z)(),l=a.container,s=a.fs,c=a.session,d=a.runner,p=(0,ut.eM)(),f=(0,nt.Dv)(Cg.f),h=(0,Cg.Z)();(0,Sg.Z)({container:l,runner:d,refreshWebView:h}),(0,Rg.Z)({runner:d,refreshWebView:h}),(0,Vd.x)(xg.b,{run:function(){p(t),h()}}),zt({match:lt.pl,data:{type:"action",label:"Refresh",icon:(0,r.tZ)(kg.Z,{}),description:"Refresh webview",keyboardShortcut:(0,Ut.l2)({cmdOrCtrl:!0,key:"s"}),run:function(){p(t),h()}}});var v=(0,yr.Z)(u.y.Output),m=(0,cv.T)();return(0,r.tZ)(wg.Z,{fs:s,session:c,runner:d,ref:f,isVisible:!i,containerRef:m?v:void 0,openPane:function(e){o({operation:"open",pane:e})}})},Icon:function(e){var n=e.size;return(0,r.tZ)(yg.Z,{size:n})},getTitle:function(){return"Webview"}};var Eg=t(42916);function Ig(e){return(0,r.BX)(r.HY,{children:[(0,r.tZ)(je.Z,{truncate:!0,level:5,children:"Call stack"}),(0,r.tZ)(Me.gC,{align:"stretch",constrainWidth:!0,children:e.frames.map((function(n){return(0,r.tZ)(Gg,{frame:n,onClick:e.onFrameClick},n.id)}))})]})}function Gg(e){var n,t,i=e.frame,o=e.onClick,a=null===(n=i.source)||void 0===n?void 0:n.name,l=null===(t=i.source)||void 0===t?void 0:t.path,s=a&&(0,lv.om)(a),c=l&&(0,lv.om)(l),u=l&&(0,lv.IT)(l);return(0,r.BX)(r.HY,{children:[(0,r.BX)("div",{onClick:function(){return u&&o(u,i.line)},className:"jsx-c66d0af1ad52f929 frame",children:[(0,r.tZ)("div",{className:"jsx-c66d0af1ad52f929 label name",children:i.name}),(0,r.BX)("div",{className:"jsx-c66d0af1ad52f929 label path",children:[(0,r.tZ)("span",{className:"jsx-c66d0af1ad52f929 line",children:i.line}),s||c||a||l]})]}),(0,r.tZ)(en(),{id:"c66d0af1ad52f929",children:".frame.jsx-c66d0af1ad52f929{display:-webkit-box;display:-webkit-flex;display:-moz-box;display:-ms-flexbox;display:flex;-webkit-box-align:center;-webkit-align-items:center;-moz-box-align:center;-ms-flex-align:center;align-items:center;-webkit-box-pack:justify;-webkit-justify-content:space-between;-moz-box-pack:justify;-ms-flex-pack:justify;justify-content:space-between;max-width:100%;height:var(--space-32);cursor:pointer;color:var(--foreground-dimmer);-webkit-border-radius:var(--border-radius-4);-moz-border-radius:var(--border-radius-4);border-radius:var(--border-radius-4);font-size:var(--font-size-small);font-family:var(--font-family-code)}.frame.jsx-c66d0af1ad52f929:hover{background-color:var(--background-higher);color:var(--foreground-default)}.label.jsx-c66d0af1ad52f929{font-size:var(--font-size-default);padding-left:var(--space-8);padding-right:var(--space-8);overflow:hidden;-o-text-overflow:ellipsis;text-overflow:ellipsis;white-space:nowrap}.name.jsx-c66d0af1ad52f929{-webkit-box-flex:0;-webkit-flex:0 0 auto;-moz-box-flex:0;-ms-flex:0 0 auto;flex:0 0 auto;background-color:var(--background-higher);padding:1px 2px;-webkit-border-radius:2px;-moz-border-radius:2px;border-radius:2px}.path.jsx-c66d0af1ad52f929{-webkit-box-flex:0;-webkit-flex:0 1 auto;-moz-box-flex:0;-ms-flex:0 1 auto;flex:0 1 auto}.line.jsx-c66d0af1ad52f929{display:inline-block;margin-right:var(--space-8);background-color:var(--background-higher);padding:1px 2px;-webkit-border-radius:2px;-moz-border-radius:2px;border-radius:2px}"})]})}function Dg(e){var n=[],t=!0,i=!1,o=void 0;try{for(var a,l=e.breakpoints[Symbol.iterator]();!(t=(a=l.next()).done);t=!0){var s=(0,w.Z)(a.value,2),c=s[0],u=s[1],d=!0,p=!1,f=void 0;try{for(var h,v=u[Symbol.iterator]();!(d=(h=v.next()).done);d=!0){var m=h.value;n.push((0,r.tZ)(Bg,{breakpoint:m,file:c,line:m.line,verified:m.verified,onClick:e.onBreakpointClick,onRemove:e.onRemove},"".concat(c,":").concat(m.line,":").concat(m.pid1Id,":").concat(m.dapId)))}}catch(g){p=!0,f=g}finally{try{d||null==v.return||v.return()}finally{if(p)throw f}}}}catch(g){i=!0,o=g}finally{try{t||null==l.return||l.return()}finally{if(i)throw o}}return(0,r.BX)(r.HY,{children:[(0,r.tZ)(je.Z,{truncate:!0,level:5,children:"Breakpoints"}),n.length>0?(0,r.tZ)(Me.gC,{align:"stretch",constrainWidth:!0,children:n}):(0,r.BX)(Ne.Z,{size:"xsmall",foreground:2,children:["To start, add a breakpoint ",(0,r.tZ)("span",{className:"jsx-223474dbb82a953c breakpoint"})," by clicking on the line number.",(0,r.tZ)(en(),{id:"223474dbb82a953c",children:".breakpoint.jsx-223474dbb82a953c{display:inline-block;background-color:var(--accent-primary-default);-webkit-border-radius:50%;-moz-border-radius:50%;border-radius:50%;width:8px;height:8px}"})]})]})}function Bg(e){var n=e.breakpoint,t=e.file,i=e.line,o=e.verified,a=e.onClick,s=e.onRemove,c=(0,lv.om)(t);return(0,r.BX)(r.HY,{children:[(0,r.tZ)(Me.gC,{spacing:1,align:"stretch",children:(0,r.tZ)("div",{className:"jsx-3743f20b19d8f08d breakpoint",children:(0,r.BX)("div",{css:[{"&:hover":{backgroundColor:l.TV.backgroundHigher,color:l.TV.foregroundDefault},"&:focus-within":{color:l.TV.foregroundDefault},"&:hover .frameButton":{background:l.TV.backgroundHigher,backgroundColor:l.TV.backgroundHigher,opacity:1},"&:focus-within .frameButton":{opacity:1},"&:hover .frameButton:hover":{backgroundColor:l.TV.backgroundHighest}}],onClick:function(){a(t,i)},className:"jsx-3743f20b19d8f08d frame",children:[(0,r.tZ)("div",{className:"jsx-3743f20b19d8f08d "+(fa()("circle",{verified:o})||"")}),(0,r.tZ)("div",{className:"jsx-3743f20b19d8f08d line",children:i}),(0,r.tZ)("div",{className:"jsx-3743f20b19d8f08d location",children:(0,r.tZ)("span",{className:"jsx-3743f20b19d8f08d path",children:c||t})}),(0,r.tZ)(ue.h,{className:"frameButton",alt:"Remove breakpoint",css:[{opacity:0}],onClick:function(){s({breakpoint:n})},children:(0,r.tZ)(la.Z,{})})]})})}),(0,r.tZ)(en(),{id:"3743f20b19d8f08d",children:".breakpoint.jsx-3743f20b19d8f08d{display:-webkit-box;display:-webkit-flex;display:-moz-box;display:-ms-flexbox;display:flex;max-width:100%;-webkit-box-align:center;-webkit-align-items:center;-moz-box-align:center;-ms-flex-align:center;align-items:center}.frame.jsx-3743f20b19d8f08d{display:-webkit-box;display:-webkit-flex;display:-moz-box;display:-ms-flexbox;display:flex;-webkit-box-flex:1;-webkit-flex:1 1 auto;-moz-box-flex:1;-ms-flex:1 1 auto;flex:1 1 auto;-webkit-box-align:center;-webkit-align-items:center;-moz-box-align:center;-ms-flex-align:center;align-items:center;height:var(--space-32);cursor:pointer;color:var(--foreground-dimmer);-webkit-border-radius:var(--border-radius-4);-moz-border-radius:var(--border-radius-4);border-radius:var(--border-radius-4);font-size:var(--font-size-default)}.circle.jsx-3743f20b19d8f08d{-webkit-box-flex:0;-webkit-flex:0 0 auto;-moz-box-flex:0;-ms-flex:0 0 auto;flex:0 0 auto;background-color:var(--accent-primary-default);-webkit-border-radius:50%;-moz-border-radius:50%;border-radius:50%;width:11px;height:11px;margin-left:var(--space-8);margin-right:var(--space-8);opacity:.5}.verified.jsx-3743f20b19d8f08d{opacity:1}.line.jsx-3743f20b19d8f08d{font-family:var(--font-family-code);background-color:var(--background-higher);padding:1px 2px;-webkit-border-radius:2px;-moz-border-radius:2px;border-radius:2px}.location.jsx-3743f20b19d8f08d{font-family:var(--font-family-code);display:-webkit-box;display:-webkit-flex;display:-moz-box;display:-ms-flexbox;display:flex;-webkit-box-flex:1;-webkit-flex:1 1 auto;-moz-box-flex:1;-ms-flex:1 1 auto;flex:1 1 auto;min-width:0;font-size:var(--font-size-default);padding-left:var(--space-8);padding-right:var(--space-8)}.path.jsx-3743f20b19d8f08d{overflow:hidden;-o-text-overflow:ellipsis;text-overflow:ellipsis;white-space:nowrap}"})]})}var Pg=t(38453),_g=t(10905),Ag=t(14142),Ug=t(9327),Lg=t(42914),zg=t(40735),Og=t(65416);function Xg(e){var n=e.client,t=e.debugConfig,i=(0,Wr.Z)(null===n||void 0===n?void 0:n.state),o=(0,Wr.Z)(null===n||void 0===n?void 0:n.supportsStepBack);return(0,r.BX)(c.G,{css:l.l0.rowWithGap(2),children:[o?(0,r.BX)(r.HY,{children:[(0,r.tZ)(ue.h,{size:40,disabled:!n||"paused"!==i,onClick:function(){(0,g.j)(g.U3.DEBUGGER_USED,{action:"lastBreakpoint"}),null===n||void 0===n||n.reverseContinue()},alt:"Last Breakpoint",tooltipContents:"Last Breakpoint",tooltipPlacement:"bottom",children:(0,r.tZ)(_g.Z,{})}),(0,r.tZ)(ue.h,{size:40,disabled:!n||"paused"!==i,onClick:function(){(0,g.j)(g.U3.DEBUGGER_USED,{action:"stepBack"}),null===n||void 0===n||n.back()},alt:"Step Back",tooltipContents:"Step Back",tooltipPlacement:"bottom",children:(0,r.tZ)(Ug.Z,{})})]}):null,(0,r.tZ)(Ng,{stop:function(){(0,g.j)(g.U3.DEBUGGER_USED,{action:"stop"}),null===n||void 0===n||n.stop()},start:function(){(0,g.j)(g.U3.DEBUGGER_USED,{action:"start"}),null===n||void 0===n||n.start(t)},state:i}),(0,r.tZ)(ue.h,{size:40,disabled:!n||"paused"!==i,onClick:function(){(0,g.j)(g.U3.DEBUGGER_USED,{action:"nextStep"}),null===n||void 0===n||n.next()},alt:"Next Step",tooltipContents:"Next Step",tooltipPlacement:"bottom",children:(0,r.tZ)(Hi.Z,{})}),(0,r.tZ)(ue.h,{size:40,disabled:!n||"paused"!==i,onClick:function(){(0,g.j)(g.U3.DEBUGGER_USED,{action:"skipStep"}),null===n||void 0===n||n.skip()},alt:"Skip Step",tooltipContents:"Skip Step",tooltipPlacement:"bottom",children:(0,r.tZ)(Lg.Z,{rotate:90})}),(0,r.tZ)(ue.h,{size:40,disabled:!n||"paused"!==i,onClick:function(){(0,g.j)(g.U3.DEBUGGER_USED,{action:"nextBreakpoint"}),null===n||void 0===n||n.continue()},alt:"Next Breakpoint",tooltipContents:"Next Breakpoint",tooltipPlacement:"bottom",children:(0,r.tZ)(Ag.Z,{})})]})}var jg=(0,i.F4)({"0%":{opacity:.2},"50%":{opacity:1},"100%":{opacity:.2}});function Ng(e){var n=e.state,t=e.start,i=e.stop;return"terminated"===n?(0,r.tZ)(ue.h,{css:l.l0.color.accentPrimaryDefault,size:40,onClick:t,alt:"Run",tooltipContents:"Run",tooltipPlacement:"bottom",children:(0,r.tZ)(zg.Z,{})}):"stopping"===n||null===n?(0,r.tZ)(ue.h,{size:40,disabled:!0,alt:"Loading",tooltipContents:"Loading",tooltipPlacement:"bottom",children:(0,r.tZ)(Ze.Z,{})}):(0,r.tZ)(ue.h,{css:"initializing"===n||"preinitializing"===n?[l.l0.color.foregroundDimmer,{animationName:jg.toString(),animationDuration:"2s",animationIterationCount:"infinite"}]:l.l0.color.accentPrimaryDefault,size:40,onClick:i,alt:"Stop",tooltipContents:"Stop",tooltipPlacement:"bottom",children:(0,r.tZ)(Og.Z,{})})}var Mg=t(68525),Fg=t(97532);function Wg(e){var n=e.children;return(0,r.BX)(se.Tg,{background:"default",css:[l.l0.height("100%"),l.l0.width("100%"),l.l0.p(8),l.l0.overflow("auto"),{borderTopRightRadius:l.TV.borderRadius4,paddingBottom:"44px"}],children:[(0,r.BX)(Me.gC,{spacing:2,align:"stretch",justify:"center",constrainWidth:!0,children:[(0,r.tZ)(Me.Ug,{spacing:1,align:"center",justify:"space-between",constrainWidth:!0,children:(0,r.tZ)(je.Z,{truncate:!0,level:4,children:"Debugger"})}),n]}),(0,r.tZ)(en(),{id:"ffa04cbdbbf3badd",children:"a.jsx-ffa04cbdbbf3badd{font-size:var(--font-size-default);color:var(--accent-primary-default);font-weight:var(--font-weight-medium)}"})]})}function Vg(e){var n=(0,Ln.H)(),t=(0,pe.Z)().debuggest,i=(0,Wr.Z)(t.mainClient),o=(0,Wr.Z)(i?i.state:null),a=(0,Wr.Z)(i?i.stackFrames:null),u=(0,Wr.Z)(i?i.variables:null),p=(0,Wr.Z)(i?i.breakpoints:null),f=(0,ze.R3)(),h=(0,ut.Vu)(),v=(0,vc.T)(),m=!!(null===v||void 0===v?void 0:v.debuggers)&&v.debuggers.length>0,g=(0,d.useState)(null),Z=g[0],b=g[1],x=d.useMemo((function(){return function(e,n,t,r){if(!(null===e||void 0===e?void 0:e.debuggers))return[];var i=[];if(n=n.slice(),r&&-1===n.indexOf(r)&&n.splice(0,0,r),t){var o=n.indexOf(t);-1!==o&&(n.splice(o,1),n.splice(0,0,t))}var a=!0,l=!1,s=void 0;try{for(var c,u=n[Symbol.iterator]();!(a=(c=u.next()).done);a=!0){var d=c.value;if(d.match(/(\.[a-z0-9]+)$/)){var p=!0,f=!1,h=void 0;try{for(var v,m=e.debuggers[Symbol.iterator]();!(p=(v=m.next()).done);p=!0){var g=v.value;if(g.fileParam){var Z=(0,Mg.rF)(g.fileTypeAttrs);null===Z&&g.language&&(Z=Mg.$R.from(g.language)),Z&&(0,Fg.JW)(d,Z)&&i.push({debuggerOption:g,filePath:d,title:"Debug ".concat(d," (").concat(g.name,")")})}}}catch(S){f=!0,h=S}finally{try{p||null==m.return||m.return()}finally{if(f)throw h}}}}}catch(S){l=!0,s=S}finally{try{a||null==u.return||u.return()}finally{if(l)throw s}}var b=!0,x=!1,y=void 0;try{for(var w,k=e.debuggers[Symbol.iterator]();!(b=(w=k.next()).done);b=!0){var C=w.value;C.fileParam||i.push({debuggerOption:C,title:"Debug (".concat(C.name,")")})}}catch(S){x=!0,y=S}finally{try{b||null==k.return||k.return()}finally{if(x)throw y}}return i}(v||null,h.map((function(e){return e.filePath||""})),f,(null===v||void 0===v?void 0:v.entrypoint)||"")}),[f,h,v]);d.useEffect((function(){(x.length>0&&!Z||Z&&!x.find((function(e){return e.debuggerOption.id===Z.debuggerOption.id&&e.filePath===Z.filePath})))&&b(x[0])}),[x]);var y=function(n,t){var r=(0,lv.om)(n);r&&e.onOpenFile({path:r,line:t})};return m?(0,r.BX)(Wg,{children:[x.length>0&&(0,r.tZ)(of.P,{id:n("debug-config"),items:x,selectedItem:Z,onChange:function(e){b(e)},"aria-label":"Select a debugging configuration"}),(0,r.tZ)(Xg,{client:i,debugConfig:Z||void 0}),p?(0,r.tZ)(Dg,{breakpoints:p,onBreakpointClick:y,onRemove:function(e){var n=e.breakpoint;i&&n.pid1Id&&i.removeBreakpoint(n.pid1Id)}}):null,u&&i&&"paused"===o?(0,r.tZ)(Pg.Z,{client:i,variables:u}):null,a&&"paused"===o?(0,r.tZ)(Ig,{frames:a,onFrameClick:y}):null,i?(0,r.tZ)(c.G,{css:[l.l0.flex.row,l.l0.justify.end,l.l0.position.absolute,l.l0.bottom(0),l.l0.right(0),l.l0.p(8),l.l0.backgroundColor.backgroundDefault,l.l0.borderRadius(0,0,8,8),{width:"100%"}],children:(0,r.tZ)(ce.zx,{small:!0,outlined:!0,onClick:function(){return function(e){if("undefined"===typeof Blob)return;var n=new Blob([e],{type:"text/plain"}),t=document.createElement("a");t.download="debugger-logs.txt",t.href=URL.createObjectURL(n),t.dataset.downloadurl=["text/plain",t.download,t.href].join(":"),t.style.display="none",document.body.appendChild(t),t.click(),document.body.removeChild(t),setTimeout((function(){URL.revokeObjectURL(t.href)}),1500)}(i.getDebugLogs())},text:"Download Logs",iconLeft:(0,r.tZ)(po.Z,{})})}):null]}):(0,r.tZ)(Wg,{children:(0,r.tZ)(s.h4,{level:2,children:"Sorry, no debugger found."})})}var Hg=t(71508),Yg={Content:function(e){var n=e.options;return(0,r.tZ)(Vg,{onOpenFile:function(e){n.performPaneOperation({operation:"open",secondary:!0,pane:{type:"codeEditor",data:e}})}})},Icon:function(e){var n=e.size;return(0,r.tZ)(Hg.Z,{size:n})},getTitle:function(){return"Debugger"}};function qg(){var e=(0,T.Z)(["\n  query ReplAuth($replID: String!) {\n    repl(id: $replID) {\n      ... on Repl {\n        id\n        config {\n          isServer\n        }\n      }\n    }\n    currentUser {\n      id\n      isLoggedIn\n    }\n  }\n"]);return qg=function(){return e},e}var Kg={},$g=(0,E.Ps)(qg());var Qg=t(53870),Jg=t(10702),eZ=t(93658),nZ="Import HTML package",tZ=[{title:"Get user info",content:[{type:"code",value:'<script type="module">const user = await getUserInfo() <\/script>'}]}],rZ=[{title:nZ,content:[{type:"code",value:'<script src="https://replit.com/public/js/repl-auth-v2.js"><\/script>'}]}],iZ=[{title:"Insert custom button",content:[{type:"code",value:'<button onclick="LoginWithReplit()"> Login </button>'}]}],oZ="Import Node package",aZ=[{title:"Get user info",content:[{type:"code",value:"const user = getUserInfo("},{type:"input",placeholder:"req"},{type:"code",value:")"}]}],lZ=[{title:oZ,content:[{type:"code",value:'const { getUserInfo } = require("@replit/repl-auth")'}]}],sZ=function(e){var n=e.title,t=e.content,i=(0,w.Z)(d.useState(t),2),o=i[0],a=i[1];return(0,r.BX)(c.G,{css:[l.l0.colWithGap(4)],children:[(0,r.BX)(c.G,{css:[l.l0.rowWithGap(4),l.l0.align.center],children:[(0,r.tZ)(s.xv,{css:{fontWeight:l.TV.fontWeightMedium},children:n}),"Get user info"===n&&(0,r.BX)(me.u,{tooltip:"User object contains 'id', 'name', 'roles', and 'teams'",placement:"top",children:[" ",(0,r.tZ)(eZ.Z,{})]})]}),(0,r.BX)(c.G,{css:[l.l0.colWithGap(4),{width:"100%",wordBreak:"break-word"}],children:[(0,r.tZ)(c.G,{css:[l.l0.rowWithGap(4),l.l0.backgroundColor.backgroundRoot,l.l0.borderRadius(4),l.l0.p(4),l.l0.align.center],children:t.map((function(e,t){return"input"===e.type?(0,r.tZ)(Pa.II,{onChange:function(e){var n=(0,Qe.Z)(o);n[t].value=e.target.value,a(n)},placeholder:e.placeholder,value:e.value||"",css:[l.l0.width(64),l.l0.height(24),l.l0.zIndex(1)]},"".concat(n,"-").concat(t)):(0,r.tZ)(c.G,{css:[l.l0.borderRadius(4),l.l0.backgroundColor.backgroundRoot,{width:"100%"}],children:(0,r.tZ)(s.xv,{multiline:!1,css:[l.l0.font.code,l.l0.color.greyStronger,l.l0.pb(4),l.l0.pt(4),{overflow:"revert",overflowY:"scroll",textOverflow:"revert"}],children:e.value})},"".concat(n,"-").concat(t))}))}),(0,r.tZ)(cZ,{code:o.reduce((function(e,n){return"input"===n.type?e+(n.value||n.placeholder):e+n.value}),""),packageImport:n===oZ||n===nZ})]})]})},cZ=function(e){var n=e.code,t=e.packageImport,i=(0,ze.R3)(),o=(0,Ba.Z)(i),a=(0,pe.Z)().fs,l=(0,ze.Qt)();return o?(0,r.tZ)(se.Tg,{background:"default",children:(0,r.tZ)(ce.zx,{small:!0,outlined:!0,onClick:function(){var e,r;if(t&&i&&a)return"html"!==(0,Un.r6)(i)?void o({code:n,insertAt:0}):void a.readFile(i).then((function(e){if(e.error)throw e.error;var t=bt.Z.from(e.content).toString(),r=t.indexOf("</head>")-1;-1===r&&(r=t.indexOf("<script")),-1===r&&(r=t.indexOf("</body>")),-1===r&&(r=t.length),o({code:n,insertAt:r})}));var s=null!==(r=null===(e=l())||void 0===e?void 0:e.position.offset)&&void 0!==r?r:0;o({code:n,insertAt:s})},text:t?"Auto add":"Insert",iconRight:(0,r.tZ)(sc.Z,{}),css:{width:"fit-content"}})}):(0,r.tZ)(se.Tg,{background:"default",children:(0,r.tZ)(ce.zx,{small:!0,outlined:!0,onClick:function(){return(0,Jt.Z)(n)},text:"Copy",iconLeft:(0,r.tZ)(Qt.Z,{}),css:{width:"fit-content"}})})},uZ=function(e){var n=e.examples;return(0,r.tZ)(c.G,{css:[l.l0.colWithGap(16)],children:n.map((function(e,n){return(0,r.tZ)(sZ,{title:e.title,content:e.content},n)}))})},dZ=function(e){var n=null;switch(e.langKey){case"html":n=rZ;break;case"nodejs":n=lZ}return n?(0,r.tZ)(c.G,{css:[l.l0.colWithGap(8)],children:(0,r.tZ)(uZ,{examples:n})}):null},pZ=[{title:"Fetch from client",content:[{type:"code",value:"CURL /__replauthuser"}]},{title:"Or access server request headers",content:[{type:"code",value:"X-Replit-User-Id"}]},{title:"",content:[{type:"code",value:"X-Replit-User-Name"}]},{title:"",content:[{type:"code",value:"X-Replit-User-Teams"}]},{title:"",content:[{type:"code",value:"X-Replit-User-Roles"}]}],fZ=function(){return(0,r.tZ)(r.HY,{children:(0,r.tZ)(c.G,{css:[l.l0.colWithGap(16)],children:pZ.map((function(e,n){return(0,r.tZ)(sZ,{title:e.title,content:e.content},n)}))})})},hZ=function(e){var n=e.langKey,t=(0,r.tZ)(fZ,{});switch(n){case"html":t=(0,r.tZ)(uZ,{examples:tZ});break;case"nodejs":t=(0,r.tZ)(uZ,{examples:aZ})}return(0,r.tZ)(c.G,{css:[l.l0.colWithGap(8)],children:t})},vZ=function(e){var n=e.langKey;return(0,r.BX)(c.G,{css:[l.l0.colWithGap(8)],children:[" ","html"!==n&&(0,r.tZ)(uZ,{examples:rZ}),(0,r.tZ)(uZ,{examples:iZ})]})},mZ=t(88688),gZ=t(17705);function ZZ(){var e,n,t,i,o=(0,Ae.Z)(),a=(0,pe.Z)(),u=a.dotReplit,p=a.fs,f=(0,ze.R3)(),h=(0,Qg.I)(),v=(0,Za.Z)(),m=(0,Cg.Z)(),Z=(0,on.Z)().showError,b=(0,w.Z)(d.useState(!1),2),x=b[0],y=b[1],k=(0,w.Z)(d.useState(!1),2),C=k[0],S=k[1],T=(0,w.Z)(d.useState(!0),2),E=T[0],I=T[1],G=(0,w.Z)(d.useState(!0),2),D=G[0],B=G[1],P=(0,w.Z)(d.useState(""),2),_=P[0],A=P[1],U=f?(0,Un.r6)(f):null,L=function(e){var n=(0,R.Z)({},Kg,e);return $.a($g,n)}({variables:{replID:o}}),z=L.data,O=L.error,X=L.loading,j="Repl"===(null===z||void 0===z?void 0:z.repl.__typename)&&(null===z||void 0===z||null===(e=z.repl)||void 0===e||null===(n=e.config)||void 0===n?void 0:n.isServer);O&&(i="Couldn't load auth data");var N=null===z||void 0===z||null===(t=z.currentUser)||void 0===t?void 0:t.isLoggedIn,M=x||C,F=d.useCallback((0,tt.Z)((function(){var e,n,t,r,i,o,a,l,s=arguments;return(0,rt.__generator)(this,(function(c){switch(c.label){case 0:if(e=s.length>0&&void 0!==s[0]&&s[0],!v)return[2];I(!0),c.label=1;case 1:return c.trys.push([1,3,,4]),[4,u.getConfig({bypassCache:!0})];case 2:if((l=c.sent()).error){if(l.error===mZ.Yt.NotFound)return B(!1),I(!1),[2];throw Z("Couldn't load auth data"),I(!1),new Error(l.errorMessage)}return e&&(null===l||void 0===l||null===(n=l.config)||void 0===n||null===(t=n.auth)||void 0===t?void 0:t.pageEnabled)!==C&&m(),y(Boolean(null===l||void 0===l||null===(r=l.config)||void 0===r||null===(i=r.auth)||void 0===i?void 0:i.buttonEnabled)),S(Boolean(null===l||void 0===l||null===(o=l.config)||void 0===o||null===(a=o.auth)||void 0===a?void 0:a.pageEnabled)),I(!1),[3,4];case 3:return c.sent(),Z("Couldn't load auth data"),I(!1),[3,4];case 4:return[2]}}))})),[v,u,Z,m]);function W(){return V.apply(this,arguments)}function V(){return(V=(0,tt.Z)((function(){return(0,rt.__generator)(this,(function(e){switch(e.label){case 0:return I(!0),(0,g.j)(g.U3.AUTH_SIDEBAR_USED,{action:"Login Page Enabled"}),[4,u.updateDotReplit([(0,bc.$0)(!0),(0,bc.Jk)(!1)])];case 1:return e.sent().error&&v&&(Z("Couldn't enable login page, please try again"),I(!1)),[2]}}))}))).apply(this,arguments)}function H(){return Y.apply(this,arguments)}function Y(){return(Y=(0,tt.Z)((function(){return(0,rt.__generator)(this,(function(e){switch(e.label){case 0:return I(!0),(0,g.j)(g.U3.AUTH_SIDEBAR_USED,{action:"Login Button Enabled"}),[4,u.updateDotReplit([(0,bc.$0)(!1),(0,bc.Jk)(!0)])];case 1:return e.sent().error&&v&&(Z("Couldn't enable login button, please try again"),I(!1)),[2]}}))}))).apply(this,arguments)}function q(){return K.apply(this,arguments)}function K(){return(K=(0,tt.Z)((function(){return(0,rt.__generator)(this,(function(e){switch(e.label){case 0:return I(!0),(0,g.j)(g.U3.AUTH_SIDEBAR_USED,{action:"Repl auth disabled"}),[4,u.updateDotReplit([(0,bc.$0)(!1),(0,bc.Jk)(!1)])];case 1:return e.sent().error&&(Z("Couldn't disable Log in with Replit, please try again"),I(!1)),[2]}}))}))).apply(this,arguments)}d.useEffect((function(){var e=function(){var e=(0,tt.Z)((function(){return(0,rt.__generator)(this,(function(e){switch(e.label){case 0:return p&&v?[4,F()]:[2];case 1:return e.sent(),[2]}}))}));return function(){return e.apply(this,arguments)}}();e()}),[p,v,F]),d.useEffect((function(){if(p&&v){var e=p.watchTextFile(Jg.l,{onChange:(0,tt.Z)((function(){return(0,rt.__generator)(this,(function(e){switch(e.label){case 0:return v?[4,F(!0)]:[2];case 1:return e.sent(),[2]}}))}))});return function(){e(),v&&(S(!1),y(!1),I(!1))}}}),[v,p,S,F]),d.useEffect((function(){h.find((function(e){return"react"===e.language}))||"jsx"===U||"tsx"===U?A("react"):h.length>0&&A(h[0].language)}),[U,_,A,h]);var Q=function(){var e="html"===_||"nodejs"===_,n=(0,r.tZ)(s.xv,{color:"dimmer",children:"You can use Log in with Replit with all web Repls. We have language clients for Nodejs and HTML - switch to a Repl that uses that language to see how to use it."});return x?(0,r.BX)(r.HY,{children:[(0,r.BX)(s.xv,{color:"dimmer",children:["Your users can log in to your Repl using a custom button. Start by importing the package below"," ",(0,r.BX)("span",{onClick:W,css:[l.l0.color.blueStronger,l.l0.cursor.pointer],onKeyDown:W,role:"button",tabIndex:0,children:[" ","or use a prebuilt login page."]})]}),!e&&n]}):C?(0,r.BX)(r.HY,{children:[(0,r.BX)(s.xv,{color:"dimmer",children:["Your Repl will automatically direct users to a prebuilt login page. Start by importing the package below"," ",(0,r.BX)("span",{onClick:H,css:[l.l0.color.blueStronger,l.l0.cursor.pointer],onKeyDown:H,role:"button",tabIndex:0,children:[" ","or use your own custom button."]})]})," ",!e&&n]}):(0,r.BX)(s.xv,{css:[l.l0.mb(32),l.l0.pl(8),l.l0.pr(8)],children:["Let users log in to your Repl. Use a prebuilt login page or customize your own button."," ",(0,r.tZ)("a",{href:"https://docs.replit.com/hosting/repl-auth-sidebar",target:"_blank",rel:"noopener",css:[l.l0.color.accentPrimaryStronger,l.l0.pr(4)],children:"Learn more"})]})},J=function(){return E||X?(0,r.tZ)(c.G,{css:[l.l0.align.center],children:(0,r.tZ)(Ze.Z,{})}):N?i?(0,r.tZ)(s.xv,{css:[l.l0.color.accentNegativeStronger],children:i}):D?"html"===_||j?M?(0,r.BX)(c.G,{children:[(0,r.BX)(c.G,{css:[l.l0.colWithGap(8),l.l0.pl(8),l.l0.pr(8)],children:[(0,r.tZ)(c.G,{css:[l.l0.colWithGap(8)]}),(0,r.BX)(c.G,{css:[l.l0.colWithGap(8)],children:["nodejs"===_&&x?null:(0,r.tZ)(dZ,{langKey:_}),x?(0,r.tZ)(vZ,{langKey:_}):null]})]}),(0,r.BX)(c.G,{css:[l.l0.pl(8),l.l0.pr(8)],children:[(0,r.tZ)(s.xv,{multiline:!1,variant:"small",css:[l.l0.mb(8),l.l0.mt(24),{textTransform:"uppercase",fontWeight:l.TV.fontWeightMedium}],children:"Usage"}),(0,r.tZ)(Ws.R,{css:[l.l0.backgroundColor.backgroundHigher]}),(0,r.tZ)(c.G,{css:[l.l0.mt(16)],children:(0,r.BX)(c.G,{css:[l.l0.colWithGap(8)],children:[" ","nodejs"===_&&x?(0,r.tZ)(dZ,{langKey:_}):null,(0,r.tZ)(hZ,{langKey:_})]})})," "]}),(0,r.tZ)(c.G,{css:[l.l0.pr(8),l.l0.pl(8),l.l0.mt(24),l.l0.mb(8)],children:(0,r.tZ)(ce.zx,{onClick:q,text:"Disable Auth",colorway:"negative",outlined:!0})})]}):(0,r.BX)(c.G,{css:[l.l0.pr(8),l.l0.pl(8)],children:[(0,r.tZ)(ce.zx,{colorway:"primary",onClick:W,text:"Enable Login Page",iconLeft:(0,r.tZ)(gZ.Z,{})}),(0,r.BX)(s.xv,{css:[l.l0.textAlign.center,l.l0.mt(8),l.l0.fontSize(12),l.l0.color],children:["Automatically redirect users to a prebuilt login page"," ",(0,r.tZ)("span",{onClick:H,css:[l.l0.color.blueStronger,l.l0.cursor.pointer],onKeyDown:H,role:"button",tabIndex:0,children:"or use your own custom button."})]})]}):(0,r.BX)(c.G,{css:[l.l0.textAlign.center],children:[(0,r.tZ)(Hn.E,{colorway:"warning",text:"Please start your web app to use Log in with Replit"}),(0,r.tZ)(s.xv,{css:[l.l0.mt(4)],children:(0,r.tZ)("a",{href:"https://docs.replit.com/hosting/deploying-http-servers",target:"_blank",rel:"noopener",children:"Learn how to start a web app"})})]}):(0,r.BX)(c.G,{css:[l.l0.textAlign.center],children:[(0,r.tZ)(Hn.E,{colorway:"warning",text:"Please create a .replit file to use Log in with Replit"}),(0,r.tZ)(s.xv,{css:[l.l0.mt(4)],children:(0,r.tZ)("a",{href:"https://docs.replit.com/programming-ide/configuring-repl#replit",target:"_blank",rel:"noopener",children:"Learn more about the .replit file"})})]}):(0,r.tZ)(c.G,{css:[l.l0.align.center],children:(0,r.tZ)(bZ,{})})};return(0,r.BX)(c.G,{css:[l.l0.colWithGap(16),l.l0.backgroundColor.backgroundDefault,l.l0.p(8),l.l0.borderRadius(0,4,4,0)],children:[(0,r.tZ)(s.h4,{level:2,variant:"subheadBig",children:"Log in with Replit"}),(0,r.BX)(c.G,{css:[l.l0.colWithGap(16),{overflowY:"auto",width:"100%",flex:"1"}],children:[(0,r.tZ)(Q,{}),(0,r.tZ)(J,{})]})]})}var bZ=function(){return(0,r.BX)(c.G,{css:[l.l0.colWithGap(16)],children:[(0,r.BX)(s.xv,{children:[(0,r.tZ)("a",{href:"https://docs.replit.com/hosting/repl-auth-sidebar",target:"_blank",rel:"noopener",css:[l.l0.color.accentPrimaryStronger,l.l0.pr(4)],children:"Replit Authentication"}),"is the fastest and easiest way to set up authentication in your Repl. Try it out by logging in or signing up."]}),(0,r.tZ)($t.Z,{href:"/auth",as:"/signup",colorway:"primary",text:"Sign up",iconLeft:(0,r.tZ)(le.Z,{})})]})},xZ={Content:function(){return(0,r.tZ)(c.G,{css:[l.l0.height("100%"),l.l0.overflowY("auto"),it.F3],children:(0,r.tZ)(ZZ,{})})},Icon:function(e){var n=e.size;return(0,r.tZ)(gZ.Z,{size:n})},getTitle:function(){return"Authentication"}},yZ=t(89809),wZ=t(27256),kZ=t(46179),CZ=t(29599);function SZ(){var e=(0,T.Z)(["\n  query Threads2Inbox {\n    currentUser {\n      id\n      username\n      image\n    }\n  }\n"]);return SZ=function(){return e},e}var RZ={},TZ=(0,E.Ps)(SZ());var EZ=t(23763),IZ=function(){return(0,r.BX)("svg",{width:"100%",height:"100%",viewBox:"0 0 691 691",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[(0,r.BX)("g",{clipPath:"url(#clip0_954_4340)",children:[(0,r.tZ)("path",{d:"M636.55 403.04H44.91C26.7564 403.04 12.04 417.756 12.04 435.91V643.79C12.04 661.944 26.7564 676.66 44.91 676.66H636.55C654.704 676.66 669.42 661.944 669.42 643.79V435.91C669.42 417.756 654.704 403.04 636.55 403.04Z",fill:"url(#paint0_linear_954_4340)"}),(0,r.tZ)("path",{opacity:"0.71",d:"M526.02 663.9L545.86 602.08C559.46 568.34 534.62 531.54 498.24 531.54H186.98C149.55 531.54 124.7 570.3 140.32 604.31L159.12 663.89H526.02V663.9Z",fill:"url(#paint1_linear_954_4340)"}),(0,r.tZ)("path",{d:"M217.38 314.61C290.392 314.61 349.58 255.422 349.58 182.41C349.58 109.398 290.392 50.21 217.38 50.21C144.368 50.21 85.1802 109.398 85.1802 182.41C85.1802 255.422 144.368 314.61 217.38 314.61Z",fill:"url(#paint2_linear_954_4340)"}),(0,r.tZ)("path",{d:"M120.75 510.55C123.39 538.19 143.97 556.13 170.18 561.75C176.42 563.19 182.79 563.92 189.17 564.39L195.57 564.67C178.54 565.03 160.79 562.34 146.09 553.2C131.43 544.2 121.34 527.81 120.75 510.55Z",fill:"#8A98FF"}),(0,r.tZ)("path",{d:"M225.69 564.67C308.15 564.06 400.65 564.05 483.1 564.67C400.64 565.29 308.14 565.28 225.69 564.67Z",fill:"#8A98FF"}),(0,r.tZ)("path",{d:"M531.57 560.9C546.58 551.84 559.07 537.22 562.44 519.7C563.59 513.9 563.68 507.95 563.1 502.07C564.1 507.91 564.19 513.95 563.19 519.84C560.19 537.61 547.3 552.72 531.57 560.9Z",fill:"#8A98FF"}),(0,r.tZ)("path",{d:"M571.57 554.78C560.27 579.78 532.93 594.05 506.36 595.88C502.53 596.17 498.69 596.24 494.86 596.19C502.52 595.98 510.16 595.18 517.62 593.54C539.86 588.88 561.06 575.34 571.57 554.78Z",fill:"#8A98FF"}),(0,r.tZ)("path",{d:"M448.75 600.43C417.61 601.09 382.98 601.08 351.81 600.43C382.98 599.78 417.6 599.77 448.75 600.43Z",fill:"#8A98FF"}),(0,r.tZ)("path",{d:"M125.93 579.25C113.2 574.83 101.21 564.64 98.6401 550.91C99.2401 552.44 99.6901 554.2 100.47 555.66C105.36 566.51 115.41 574.21 125.94 579.25H125.93Z",fill:"#8A98FF"}),(0,r.tZ)("path",{d:"M122.63 550.92C108.27 541.02 104.78 521.86 109.84 505.93C110.54 503.67 111.36 501.44 112.27 499.26C111.63 501.28 110.78 504.03 110.31 506.06C106.06 522.06 109.3 540.13 122.62 550.92H122.63Z",fill:"#8A98FF"}),(0,r.tZ)("path",{d:"M122.63 485.44C124.51 481.11 128.99 478.25 133.45 477.14C129.54 479.57 125.68 481.91 122.63 485.44Z",fill:"#8A98FF"}),(0,r.tZ)("path",{d:"M576.75 531.49C580.41 516.24 580.52 498.93 571.57 485.44C572.81 487 573.96 488.66 574.93 490.42C581.64 502.91 581.19 518.32 576.74 531.49H576.75Z",fill:"#8A98FF"}),(0,r.tZ)("path",{d:"M579.54 579.25C588.53 567.19 594.92 552.91 596.84 537.95C597.2 535.85 597.23 533.61 597.45 531.49C597.99 548.88 590.98 566.28 579.54 579.25Z",fill:"#8A98FF"}),(0,r.tZ)("path",{d:"M543.81 611.25C558.06 608.69 572.57 604.12 583.9 594.81C585.59 593.57 586.95 591.97 588.5 590.55C577.81 603.74 560.26 609.73 543.81 611.26V611.25Z",fill:"#8A98FF"}),(0,r.tZ)("path",{d:"M85.9304 495.96C90.9804 479.18 105.88 466.78 121.97 460.96L125.73 459.62C127.97 458.93 131.16 458.23 133.45 457.63C130.93 458.48 128.38 459.19 125.88 460.08C108.67 466.24 92.5304 478.4 85.9204 495.95L85.9304 495.96Z",fill:"#8A98FF"}),(0,r.tZ)("path",{d:"M547.63 445.61C564.65 447.41 582.07 454.4 593.27 467.75C594.84 469.66 596.22 471.72 597.46 473.85C586.24 457.4 566.67 449.06 547.63 445.61Z",fill:"#8A98FF"}),(0,r.tZ)("path",{d:"M620.51 510.55C624.76 522.88 625.03 536.26 623.91 549.15C622.85 558.77 620.66 568.49 617.6 577.67C616.52 580.73 615.33 583.76 614.16 586.78C615.59 582.33 617.26 577.4 618.43 572.84C623.74 552.84 625.91 530.74 620.51 510.54V510.55Z",fill:"#8A98FF"}),(0,r.tZ)("path",{d:"M563.68 629.84C552.03 637.13 538.71 642.29 524.93 643.51C509.26 644.08 485.5 643.54 469.79 643.5L456.01 643.25L469.79 643C485.45 642.69 509.25 642.98 524.86 642.6C538.55 641.45 551.78 636.6 563.68 629.83V629.84Z",fill:"#8A98FF"}),(0,r.tZ)("path",{d:"M324.24 653.84C278.39 654.5 227.42 654.49 181.53 653.84C227.42 653.19 278.38 653.18 324.24 653.84Z",fill:"#8A98FF"}),(0,r.tZ)("path",{d:"M240.04 611.25C231.6 611.93 223.06 611.93 214.63 611.25C223.07 610.57 231.61 610.57 240.04 611.25Z",fill:"#8A98FF"}),(0,r.tZ)("path",{d:"M125.93 619.96C101.27 616.41 77.6502 599.76 69.9302 575.49C71.1602 578.36 72.3902 581.22 73.9702 583.91C84.5302 603.14 104.8 615.53 125.93 619.96Z",fill:"#8A98FF"}),(0,r.tZ)("path",{d:"M130.16 565.09C144.25 571.77 159.29 576.91 174.84 578.69C177.05 579.04 179.29 579.04 181.53 579.26C163.55 579.7 145.67 573.97 130.16 565.09Z",fill:"#8A98FF"}),(0,r.tZ)("path",{d:"M200.28 579.25C206.55 578.57 212.83 578.56 219.1 579.25C212.83 579.94 206.55 579.93 200.28 579.25Z",fill:"#8A98FF"}),(0,r.tZ)("path",{d:"M304.75 579.25C349.87 578.59 400.02 578.6 445.17 579.25C400.01 579.9 349.88 579.91 304.75 579.25Z",fill:"#8A98FF"}),(0,r.tZ)("path",{d:"M545.86 480.38C559.46 514.12 534.62 550.92 498.24 550.92H186.98C149.55 550.92 124.7 512.16 140.32 478.15L182.03 345.94L182.32 346C177.45 369.9 195.61 393.77 221.52 393.77H463.7C488.78 393.77 506.81 371.3 503.23 347.91L503.33 347.89L545.86 480.38Z",fill:"#A88C5A"}),(0,r.tZ)("path",{d:"M503.23 347.91C506.81 371.3 488.78 393.77 463.7 393.77H221.52C195.61 393.77 177.45 369.9 182.32 346C182.91 343.04 183.87 340.07 185.21 337.15L218.53 264.59L222.63 255.66L225 250.51C231.51 236.33 245.69 227.23 261.3 227.23H418.49C418.49 227.23 438.63 226.14 449.92 233.29C456.92 237.72 462.6 244.22 465.83 252.25L500.75 338.89C501.95 341.88 502.77 344.9 503.23 347.91ZM336.66 258.5L338.12 253.56C336.37 252.69 333.03 251.74 329.25 251.74C317.76 251.74 310.35 259.59 310.35 270.42C310.35 281.25 317.25 288.38 327.87 288.38C332.59 288.38 336.3 287.22 337.97 286.34L336.88 281.55C335.06 282.35 332.66 283.29 329.03 283.29C322.05 283.29 316.82 278.28 316.82 270.13C316.82 262.79 321.18 256.83 329.25 256.83C332.74 256.83 335.14 257.63 336.66 258.5ZM301.84 258.5L303.44 253.85C301.48 252.69 298.35 251.67 294.79 251.67C287.23 251.67 282.65 256.32 282.65 261.99C282.65 266.21 285.63 269.7 291.96 271.95C296.68 273.7 298.5 275.37 298.5 278.42C298.5 281.47 296.32 283.66 291.67 283.66C288.47 283.66 285.12 282.35 283.23 281.11L281.63 285.98C284.11 287.44 287.67 288.38 291.52 288.38C299.88 288.38 304.68 284.02 304.68 277.84C304.68 272.61 301.55 269.55 295.45 267.23C290.87 265.48 288.76 264.17 288.76 261.27C288.76 258.65 290.87 256.47 294.65 256.47C297.92 256.47 300.46 257.63 301.84 258.5ZM275.97 271.22C276.04 270.57 276.18 269.55 276.18 268.24C276.18 261.77 273.13 251.67 261.65 251.67C251.4 251.67 245.14 260.03 245.14 270.64C245.14 281.25 251.61 288.38 262.45 288.38C268.04 288.38 271.89 287.22 274.15 286.2L273.06 281.62C270.66 282.64 267.9 283.44 263.32 283.44C256.92 283.44 251.4 279.87 251.25 271.22H275.97Z",fill:"#E5CF98"}),(0,r.tZ)("path",{d:"M338.12 253.56L336.66 258.5C335.14 257.63 332.74 256.83 329.25 256.83C321.18 256.83 316.82 262.79 316.82 270.13C316.82 278.28 322.05 283.29 329.03 283.29C332.66 283.29 335.06 282.35 336.88 281.55L337.97 286.34C336.3 287.22 332.59 288.38 327.87 288.38C317.25 288.38 310.35 281.18 310.35 270.42C310.35 259.66 317.76 251.74 329.25 251.74C333.03 251.74 336.37 252.69 338.12 253.56Z",fill:"#1B2332"}),(0,r.tZ)("path",{d:"M303.44 253.85L301.84 258.5C300.46 257.63 297.92 256.47 294.65 256.47C290.87 256.47 288.76 258.65 288.76 261.27C288.76 264.17 290.87 265.48 295.45 267.23C301.55 269.55 304.68 272.61 304.68 277.84C304.68 284.02 299.88 288.38 291.52 288.38C287.67 288.38 284.11 287.44 281.63 285.98L283.23 281.11C285.12 282.35 288.47 283.66 291.67 283.66C296.32 283.66 298.5 281.33 298.5 278.42C298.5 275.51 296.68 273.7 291.96 271.95C285.63 269.7 282.65 266.21 282.65 261.99C282.65 256.32 287.23 251.67 294.79 251.67C298.35 251.67 301.48 252.69 303.44 253.85Z",fill:"#1B2332"}),(0,r.tZ)("path",{d:"M276.18 268.24C276.18 269.55 276.04 270.57 275.97 271.22H251.25C251.4 279.87 256.92 283.44 263.32 283.44C267.9 283.44 270.66 282.64 273.06 281.62L274.15 286.2C271.89 287.22 268.04 288.38 262.45 288.38C251.61 288.38 245.14 281.26 245.14 270.64C245.14 260.02 251.4 251.67 261.65 251.67C273.13 251.67 276.18 261.77 276.18 268.24ZM270 266.65C270.08 262.57 268.33 256.25 261.14 256.25C254.67 256.25 251.83 262.21 251.32 266.65H270Z",fill:"#1B2332"}),(0,r.tZ)("path",{d:"M261.14 256.25C268.33 256.25 270.08 262.57 270 266.65H251.32C251.83 262.21 254.67 256.25 261.14 256.25Z",fill:"#E5CF98"}),(0,r.tZ)("path",{d:"M182.32 346C182.91 343.04 183.87 340.07 185.21 337.15L218.53 264.59L222.63 255.66L225 250.51C231.51 236.33 245.69 227.23 261.3 227.23H418.49C418.49 227.23 438.63 226.14 449.92 233.29C456.92 237.72 462.6 244.22 465.83 252.25L500.75 338.89C501.95 341.88 502.77 344.9 503.23 347.91C506.81 371.3 488.78 393.77 463.7 393.77H221.52C195.61 393.77 177.45 369.9 182.32 346Z",stroke:"#1B2332",strokeWidth:"1.7",strokeLinecap:"round",strokeLinejoin:"round"}),(0,r.tZ)("path",{d:"M503.33 347.89L545.86 480.38C559.46 514.12 534.62 550.92 498.24 550.92H186.98C149.55 550.92 124.7 512.16 140.32 478.15L182.03 345.94",stroke:"#1B2332",strokeWidth:"1.7",strokeLinecap:"round",strokeLinejoin:"round"}),(0,r.tZ)("path",{d:"M532.22 117.06C568.71 135.84 566.03 170.99 566.03 170.99C566.03 170.99 520.16 155.31 503.35 152.12C502.3 151.93 501.36 151.78 500.56 151.68L491.44 151L491.14 151.08C489.53 145.31 484.24 141.08 477.96 141.08C477.57 141.08 477.18 141.09 476.8 141.13C476.71 141.03 476.61 140.93 476.51 140.84L469.81 134.72C469.37 134.31 468.87 134 468.34 133.78H468.23C468.03 131.83 467.45 129.99 466.55 128.33L466.79 128.2C467.59 126.89 471.05 121.89 471.05 121.89C471.05 121.89 474.48 118.6 480.68 115.46C491.1 110.18 509.34 105.28 532.22 117.06Z",fill:"#029831"}),(0,r.tZ)("path",{d:"M516.66 20.2C516.66 20.2 516.77 36.8799 514.97 53.32L500.7 58.3699L513.33 64.8C512.46 69.56 511.35 73.9199 509.95 77.3499C505.71 87.7999 491.29 104.17 480.64 115.38L480.68 115.46C474.48 118.6 471.05 121.89 471.05 121.89C471.05 121.89 467.59 126.89 466.79 128.2L466.55 128.33C464.1 123.82 459.31 120.75 453.81 120.75C452.89 120.75 452 120.83 451.13 121L451.09 120.75C451.09 120.75 449.58 90.2299 458.71 68.5C467.83 46.77 516.66 20.2 516.66 20.2Z",fill:"#029831"}),(0,r.tZ)("path",{d:"M503.35 152.12L503.31 152.35C503.31 152.35 511.56 177.9 499.49 209.9C486.01 203.46 471.92 180.52 471.32 167.44L471.62 166.88C473.51 167.88 475.67 168.44 477.96 168.44C485.51 168.44 491.64 162.32 491.64 154.76C491.64 153.48 491.47 152.25 491.14 151.08L491.44 151L500.56 151.68C501.36 151.78 502.3 151.93 503.35 152.12Z",fill:"#029831"}),(0,r.tZ)("path",{d:"M491.14 151.08C491.47 152.25 491.64 153.48 491.64 154.76C491.64 162.32 485.51 168.44 477.96 168.44C475.67 168.44 473.51 167.88 471.62 166.88C469.84 165.96 468.28 164.64 467.07 163.05L466.89 162.92C467.01 162.78 467.12 162.64 467.22 162.49L477.3 147.3C478.58 145.36 478.36 142.81 476.8 141.13C477.18 141.09 477.57 141.08 477.96 141.08C484.24 141.08 489.53 145.31 491.14 151.08Z",fill:"#685128"}),(0,r.tZ)("path",{d:"M476.8 141.13C478.36 142.81 478.58 145.36 477.3 147.3L467.22 162.49C467.12 162.64 467.01 162.78 466.89 162.92C465.75 164.3 464.01 164.9 462.33 164.65C460.29 164.68 458.04 162.21 458.04 162.21L456.02 161C450.39 158.08 447.1 151.11 447.1 151.11C446.74 150.11 446.71 149.04 446.99 148.03C449.03 149.12 451.35 149.73 453.81 149.73C461.81 149.73 468.3 143.24 468.3 135.24C468.3 134.75 468.28 134.27 468.23 133.79H468.34C468.87 134 469.37 134.31 469.81 134.72L476.51 140.84C476.61 140.93 476.71 141.03 476.8 141.13Z",fill:"#685128"}),(0,r.tZ)("path",{d:"M468.23 133.79C468.28 134.27 468.3 134.75 468.3 135.24C468.3 143.24 461.81 149.73 453.81 149.73C451.35 149.73 449.03 149.12 446.99 148.03C442.43 145.59 439.32 140.78 439.32 135.24C439.32 128.47 443.96 122.78 450.24 121.2C450.53 121.12 450.83 121.05 451.13 121C452 120.83 452.89 120.75 453.81 120.75C459.31 120.75 464.1 123.82 466.55 128.33C467.45 129.99 468.03 131.83 468.23 133.79Z",fill:"#685128"}),(0,r.tZ)("path",{d:"M458.04 162.21C458.04 162.21 460.29 164.68 462.33 164.65C462.23 165.05 462.1 165.44 461.91 165.81L452.32 185.18C451.48 186.87 449.96 187.95 448.27 188.32C445.25 188.58 442.24 186.45 442.24 186.45L439.82 185.55C435.9 184.24 428.23 176.44 428.23 176.44C425.77 174.18 425.62 170.26 428.09 167.85L437.54 158.68L443.68 152.72C444.64 151.79 445.85 151.26 447.1 151.11C447.1 151.11 450.39 158.08 456.02 161L458.04 162.21Z",fill:"#685128"}),(0,r.tZ)("path",{d:"M447.55 120.06C448.48 120.4 449.37 120.76 450.22 121.13L450.24 121.2C443.96 122.78 439.32 128.47 439.32 135.24C439.32 140.78 442.43 145.59 446.99 148.03C446.71 149.04 446.74 150.11 447.1 151.11C445.85 151.26 444.64 151.79 443.68 152.72L437.54 158.68L437.38 158.52C423.69 160.13 367.64 177.97 367.64 177.97C367.64 177.97 364.96 142.82 401.45 124.04C405 122.22 408.44 120.79 411.75 119.7C426.47 114.88 438.74 116.77 447.55 120.06Z",fill:"#029831"}),(0,r.tZ)("path",{d:"M448.27 188.32C448.39 189.38 448.3 190.48 447.9 191.54L439.06 215.11C438.07 217.74 435.69 219.37 433.12 219.57C431.54 219.48 428.86 218.55 428.86 218.55L426.74 217.54C421.31 216.84 410.15 207.9 410.15 207.9C406.97 205.58 406.34 200.98 408.94 197.88L425.23 178.51C426.05 177.53 427.1 176.84 428.23 176.44C428.23 176.44 435.9 184.24 439.82 185.55L442.24 186.45C442.24 186.45 445.25 188.58 448.27 188.32Z",fill:"#685128"}),(0,r.tZ)("path",{d:"M377.41 34.96C431.47 55.96 446.9 117.38 447.55 120.06C438.74 116.77 426.47 114.88 411.75 119.7L411.69 119.51C378.14 87.88 377.41 34.96 377.41 34.96Z",fill:"#029831"}),(0,r.tZ)("path",{d:"M379.56 289.59C376.08 287.46 374.5 282.98 376.25 279L388.72 250.7C389.72 248.43 391.63 246.8 393.87 246.08C389.59 244.14 387.99 238.83 390.57 234.84L405.98 211.06C406.99 209.51 408.48 208.42 410.15 207.9C410.15 207.9 421.31 216.84 426.74 217.54L428.86 218.55C428.86 218.55 431.54 219.48 433.12 219.57C433.24 220.49 433.21 221.45 432.98 222.4L426.42 249.82C425.62 253.19 422.75 255.44 419.56 255.72C419.74 256.52 419.84 257.36 419.77 258.22L417.48 288.9C417.2 292.65 414.53 295.56 411.16 296.43L414.65 318.75V318.94C401.28 318.01 391.44 322.04 391.44 322.04C383.19 317.7 374.4 318.07 366.89 320.06L366.78 319.63L378.59 292.2C378.77 291.26 379.1 290.39 379.56 289.59Z",fill:"#685128"}),(0,r.tZ)("path",{d:"M414.65 318.75L411.16 296.43C414.53 295.56 417.2 292.65 417.48 288.9L419.77 258.22C419.84 257.36 419.74 256.52 419.56 255.72C422.75 255.44 425.62 253.19 426.42 249.82L432.98 222.4C433.21 221.45 433.24 220.49 433.12 219.57C435.69 219.37 438.07 217.74 439.06 215.11L447.9 191.54C448.3 190.48 448.39 189.38 448.27 188.32C449.96 187.95 451.48 186.87 452.32 185.18L461.91 165.81C462.1 165.44 462.23 165.05 462.33 164.65C464.01 164.9 465.75 164.3 466.89 162.92C467.01 162.78 467.12 162.64 467.22 162.49L477.3 147.3C478.58 145.36 478.36 142.81 476.8 141.13C476.71 141.03 476.61 140.93 476.51 140.84L469.81 134.72C469.37 134.31 468.87 134 468.34 133.78",stroke:"#1B2332",strokeWidth:"1.7",strokeLinecap:"round",strokeLinejoin:"round"}),(0,r.tZ)("path",{d:"M446.99 148.03C446.71 149.04 446.74 150.11 447.1 151.11C445.85 151.26 444.64 151.79 443.68 152.72L437.54 158.68L428.09 167.85C425.62 170.26 425.77 174.18 428.23 176.44C427.1 176.84 426.05 177.53 425.23 178.51L408.94 197.88C406.34 200.98 406.97 205.58 410.15 207.9C408.48 208.42 406.99 209.51 405.98 211.06L390.57 234.84C387.99 238.83 389.59 244.14 393.87 246.08C391.63 246.8 389.72 248.43 388.72 250.7L376.25 279C374.5 282.98 376.08 287.46 379.56 289.59C379.1 290.39 378.77 291.26 378.59 292.2L366.78 319.63",stroke:"#1B2332",strokeWidth:"1.7",strokeLinecap:"round",strokeLinejoin:"round"}),(0,r.tZ)("path",{d:"M393.18 245.42C393.18 245.42 402.04 251.33 409.43 252.81",stroke:"#1B2332",strokeWidth:"1.7",strokeLinecap:"round",strokeLinejoin:"round"}),(0,r.tZ)("path",{d:"M410.15 207.9C410.15 207.9 421.31 216.84 426.74 217.54",stroke:"#1B2332",strokeWidth:"1.7",strokeLinecap:"round",strokeLinejoin:"round"}),(0,r.tZ)("path",{d:"M428.23 176.44C428.23 176.44 435.9 184.24 439.82 185.55",stroke:"#1B2332",strokeWidth:"1.7",strokeLinecap:"round",strokeLinejoin:"round"}),(0,r.tZ)("path",{d:"M447.1 151.11C447.1 151.11 450.39 158.08 456.02 161",stroke:"#1B2332",strokeWidth:"1.7",strokeLinecap:"round",strokeLinejoin:"round"}),(0,r.tZ)("path",{d:"M379.56 289.59C379.56 289.59 386.2 296.23 400.68 295.62",stroke:"#1B2332",strokeWidth:"1.7",strokeLinecap:"round",strokeLinejoin:"round"}),(0,r.tZ)("path",{d:"M413.06 254.27C413.06 254.27 416.7 255.46 419.56 255.72",stroke:"#1B2332",strokeWidth:"1.7",strokeLinecap:"round",strokeLinejoin:"round"}),(0,r.tZ)("path",{d:"M428.86 218.55C428.86 218.55 431.54 219.48 433.12 219.57",stroke:"#1B2332",strokeWidth:"1.7",strokeLinecap:"round",strokeLinejoin:"round"}),(0,r.tZ)("path",{d:"M442.24 186.45C442.24 186.45 445.25 188.58 448.27 188.32",stroke:"#1B2332",strokeWidth:"1.7",strokeLinecap:"round",strokeLinejoin:"round"}),(0,r.tZ)("path",{d:"M458.04 162.21C458.04 162.21 460.29 164.68 462.33 164.65",stroke:"#1B2332",strokeWidth:"1.7",strokeLinecap:"round",strokeLinejoin:"round"}),(0,r.tZ)("path",{d:"M404.99 295.66C405.48 295.66 408.99 297.7 411.16 296.43",stroke:"#1B2332",strokeWidth:"1.7",strokeLinecap:"round",strokeLinejoin:"round"}),(0,r.tZ)("path",{d:"M468.23 133.79C468.28 134.27 468.3 134.75 468.3 135.24C468.3 143.24 461.81 149.73 453.81 149.73C451.35 149.73 449.03 149.12 446.99 148.03C442.43 145.59 439.32 140.78 439.32 135.24C439.32 128.47 443.96 122.78 450.24 121.2C450.53 121.12 450.83 121.05 451.13 121C452 120.83 452.89 120.75 453.81 120.75C459.31 120.75 464.1 123.82 466.55 128.33C467.45 129.99 468.03 131.83 468.23 133.79V133.79Z",stroke:"#1B2332",strokeWidth:"1.7",strokeLinecap:"round",strokeLinejoin:"round"}),(0,r.tZ)("path",{d:"M476.54 141.15C476.63 141.14 476.71 141.13 476.8 141.13C477.18 141.09 477.57 141.08 477.96 141.08C484.24 141.08 489.53 145.31 491.14 151.08C491.47 152.25 491.64 153.48 491.64 154.76C491.64 162.32 485.51 168.44 477.96 168.44C475.67 168.44 473.51 167.88 471.62 166.88C469.84 165.96 468.28 164.64 467.07 163.05",stroke:"#1B2332",strokeWidth:"1.7",strokeLinecap:"round",strokeLinejoin:"round"}),(0,r.tZ)("path",{d:"M451.09 120.75C451.09 120.75 449.58 90.2299 458.71 68.5C467.83 46.77 516.66 20.2 516.66 20.2C516.66 20.2 516.77 36.8799 514.97 53.32L500.7 58.3699L513.33 64.8C512.46 69.56 511.35 73.9199 509.95 77.3499C505.71 87.7999 491.29 104.17 480.64 115.38",stroke:"#1B2332",strokeWidth:"1.7",strokeLinecap:"round",strokeLinejoin:"round"}),(0,r.tZ)("path",{d:"M466.79 128.2C467.59 126.89 471.05 121.89 471.05 121.89C471.05 121.89 474.48 118.6 480.68 115.46C491.1 110.18 509.34 105.28 532.22 117.06C568.71 135.84 566.03 170.99 566.03 170.99C566.03 170.99 520.16 155.31 503.35 152.12C502.3 151.93 501.36 151.78 500.56 151.68L491.44 151",stroke:"#1B2332",strokeWidth:"1.7",strokeLinecap:"round",strokeLinejoin:"round"}),(0,r.tZ)("path",{d:"M450.22 121.13C449.37 120.76 448.48 120.4 447.55 120.06C438.74 116.77 426.47 114.88 411.75 119.7C408.44 120.79 405 122.22 401.45 124.04C364.96 142.82 367.64 177.97 367.64 177.97C367.64 177.97 423.69 160.13 437.38 158.52",stroke:"#1B2332",strokeWidth:"1.7",strokeLinecap:"round",strokeLinejoin:"round"}),(0,r.tZ)("path",{d:"M447.57 120.15C447.57 120.15 447.56 120.12 447.55 120.06C446.9 117.38 431.47 55.96 377.41 34.96C377.41 34.96 378.14 87.88 411.69 119.51",stroke:"#1B2332",strokeWidth:"1.7",strokeLinecap:"round",strokeLinejoin:"round"}),(0,r.tZ)("path",{d:"M503.31 152.35C503.31 152.35 511.56 177.9 499.49 209.9C486.01 203.46 471.92 180.52 471.32 167.44",stroke:"#1B2332",strokeWidth:"1.7",strokeLinecap:"round",strokeLinejoin:"round"}),(0,r.tZ)("path",{d:"M347.6 329.26C347.6 329.26 355.89 322.95 366.89 320.06C374.4 318.07 383.19 317.7 391.44 322.04C391.44 322.04 401.28 318.01 414.64 318.94C423.84 319.58 434.7 322.58 445.17 330.86",stroke:"#1B2332",strokeWidth:"1.7",strokeLinecap:"round",strokeLinejoin:"round"}),(0,r.tZ)("path",{d:"M414.16 207.9C414.16 207.9 410.04 203.49 411.16 200.9C411.98 199 420.75 189.21 425.39 184.1C425.97 183.46 427 184.11 426.68 184.91L419.47 203.21C418.8 204.92 418.64 206.79 419.03 208.58L419.6 211.24L414.16 207.88V207.9Z",fill:"#A88C5A"}),(0,r.tZ)("path",{d:"M433.66 175.75C433.61 175.71 433.56 175.67 433.52 175.63C433.06 175.09 430.27 171.7 431.24 169.74C432.01 168.19 439.85 160.38 444.05 156.26C444.59 155.73 445.47 156.33 445.16 157L438.42 171.79C437.73 173.31 437.51 175 437.8 176.65L437.89 177.16C437.99 177.74 437.33 178.15 436.83 177.82L433.67 175.74L433.66 175.75Z",fill:"#A88C5A"}),(0,r.tZ)("path",{d:"M396.92 244.43C396.85 244.38 396.79 244.32 396.74 244.24C396.14 243.42 392.45 238.19 393.57 235.02C394.45 232.5 403.89 219.55 408.94 212.71C409.58 211.84 410.73 212.72 410.38 213.82L402.69 237.82C401.9 240.29 401.72 243 402.17 245.6L402.31 246.41C402.47 247.32 401.66 248.02 401.01 247.53L396.93 244.43H396.92Z",fill:"#A88C5A"}),(0,r.tZ)("path",{d:"M383.51 287.24C383.44 287.18 383.38 287.1 383.33 287.01C382.73 286.03 379.04 279.8 380.16 276.01C381.04 273.01 390.48 257.56 395.53 249.4C396.17 248.36 397.32 249.42 396.97 250.72L389.28 279.34C388.49 282.29 388.31 285.52 388.76 288.61L388.9 289.57C389.06 290.66 388.25 291.5 387.6 290.91L383.52 287.22L383.51 287.24Z",fill:"#A88C5A"}),(0,r.tZ)("path",{d:"M371.16 171.08C371.45 170.56 378.51 139.82 405.63 126.99C393.15 143.74 385.12 165.49 385.12 165.49L371.16 171.08Z",fill:"#51FF53"}),(0,r.tZ)("path",{d:"M410.97 113.84C410.97 113.84 389.61 99.02 379.94 39.72C397.81 75.72 404.21 98.85 422.51 113.84C417.92 113.84 409.31 112.43 410.97 113.84Z",fill:"#51FF53"}),(0,r.tZ)("path",{d:"M456.02 113.84C456.02 113.84 456.71 81.3099 466.79 66.9199C476.87 52.5299 507.71 29.5699 507.71 29.5699C507.71 29.5699 474.47 57.3299 468.3 89.1899C464.53 114.55 463.85 120.75 463.85 120.75L456.03 113.84H456.02Z",fill:"#51FF53"}),(0,r.tZ)("path",{d:"M449.34 124.58C447.22 130.96 444.74 136.08 450.22 145.43C445.46 141.72 438.14 133.78 449.34 124.58Z",fill:"#A88C5A"}),(0,r.tZ)("path",{d:"M471.31 126.55C471.31 126.55 485.49 111.02 506.06 113.84C492.04 118.78 474.04 133.78 474.04 133.78L471.31 126.55Z",fill:"#51FF53"})]}),(0,r.BX)("defs",{children:[(0,r.BX)("linearGradient",{id:"paint0_linear_954_4340",x1:"340.73",y1:"676.66",x2:"340.73",y2:"403.04",gradientUnits:"userSpaceOnUse",children:[(0,r.tZ)("stop",{offset:"0.3",stopColor:"#1B2332",stopOpacity:"0"}),(0,r.tZ)("stop",{offset:"0.37",stopColor:"#1C2437",stopOpacity:"0.03"}),(0,r.tZ)("stop",{offset:"0.45",stopColor:"#202845",stopOpacity:"0.1"}),(0,r.tZ)("stop",{offset:"0.56",stopColor:"#262F5E",stopOpacity:"0.22"}),(0,r.tZ)("stop",{offset:"0.67",stopColor:"#2E397F",stopOpacity:"0.38"}),(0,r.tZ)("stop",{offset:"0.8",stopColor:"#3946AB",stopOpacity:"0.59"}),(0,r.tZ)("stop",{offset:"0.93",stopColor:"#4655DE",stopOpacity:"0.84"}),(0,r.tZ)("stop",{offset:"1",stopColor:"#4F5FFF"})]}),(0,r.BX)("linearGradient",{id:"paint1_linear_954_4340",x1:"342.61",y1:"663.9",x2:"342.61",y2:"531.55",gradientUnits:"userSpaceOnUse",children:[(0,r.tZ)("stop",{stopColor:"#1B2332",stopOpacity:"0"}),(0,r.tZ)("stop",{offset:"0.15",stopColor:"#2F333A",stopOpacity:"0.12"}),(0,r.tZ)("stop",{offset:"0.47",stopColor:"#635D4F",stopOpacity:"0.43"}),(0,r.tZ)("stop",{offset:"0.93",stopColor:"#B6A070",stopOpacity:"0.92"}),(0,r.tZ)("stop",{offset:"1",stopColor:"#C4AB76"})]}),(0,r.BX)("linearGradient",{id:"paint2_linear_954_4340",x1:"217.38",y1:"314.6",x2:"217.38",y2:"50.21",gradientUnits:"userSpaceOnUse",children:[(0,r.tZ)("stop",{stopColor:"#1B2332",stopOpacity:"0"}),(0,r.tZ)("stop",{offset:"0.19",stopColor:"#4B4A35",stopOpacity:"0.22"}),(0,r.tZ)("stop",{offset:"0.48",stopColor:"#92843B",stopOpacity:"0.55"}),(0,r.tZ)("stop",{offset:"0.73",stopColor:"#C7AE3F",stopOpacity:"0.79"}),(0,r.tZ)("stop",{offset:"0.91",stopColor:"#E7C942",stopOpacity:"0.94"}),(0,r.tZ)("stop",{offset:"1",stopColor:"#F4D343"})]}),(0,r.tZ)("clipPath",{id:"clip0_954_4340",children:(0,r.tZ)("rect",{width:"690.9",height:"690.9",fill:"white"})})]})]})},GZ=t(98150),DZ=t(45644),BZ=t(791),PZ={title:"Threads",filters:{inbox:{key:"toggle-inbox",label:"Inbox",icon:(0,r.tZ)(GZ.Z,{})},unread:{key:"toggle-unread",label:"Unread",icon:(0,r.tZ)(cc.Z,{})},participating:{key:"toggle-participating",label:"Participating",icon:(0,r.tZ)(BZ.Z,{})},resolved:{key:"toggle-resolved",label:"Resolved",icon:(0,r.tZ)(Pn.Z,{})}},sorts:{chronological:{key:"toggle-chronological",label:"Chronological",icon:(0,r.tZ)(ot.Z,{})},codeOrder:{key:"toggle-codeOrder",label:"Code order",icon:(0,r.tZ)(DZ.Z,{})}},search:{placeholder:"Search threads\u2026"},markAsRead:"Mark as read",empty:{image:{alt:"an illustration of an escape key that resembles a sunny beach, with an umbrella and palm tree"},noThreadsCreated:{text:{primary:"You haven\u2019t started any threads yet.",secondary:function(e){return(0,r.BX)(r.HY,{children:["Select code and press"," ",(0,r.tZ)(dp.ZP,{shortcut:e,size:"small"})," ","to get started."]})}}},noThreadsFound:{text:{primary:"No threads found.",secondary:"Try adjusting your search or filters."}}}},_Z=["TextMessageContentType","PreviewMessageContentType"];var AZ=t(73785),UZ=t(92674),LZ=t.n(UZ),zZ=t(21371),OZ=t(85234),XZ=t.n(OZ),jZ=t(9247),NZ=function(e){var n={},t=!0,r=!1,i=void 0;try{for(var o,a=e.messages[Symbol.iterator]();!(t=(o=a.next()).done);t=!0){var l=o.value;l.user&&(n[l.user.id]=l.user)}}catch(s){r=!0,i=s}finally{try{t||null==a.return||a.return()}finally{if(r)throw i}}return Object.values(n)};function MZ(){var e=(0,T.Z)(["\n  query AnnotationThreadInput {\n    currentUser {\n      id\n    }\n  }\n"]);return MZ=function(){return e},e}var FZ={},WZ=(0,E.Ps)(MZ());var VZ=t(57835),HZ=t(95434),YZ=t(54414),qZ=d.forwardRef((function(e,n){var t,i,o=e.annote,a=e.placeholder,l=e.onChangeMessage,s=e.onFinalizeMessage,c=function(){""!==f.trim()&&(s({messageId:x||XZ()(),message:f.trim()}),y(null),h(""),setTimeout(T))},u=null===(t=function(e){var n=(0,R.Z)({},FZ,e);return $.a(WZ,n)}().data)||void 0===t||null===(i=t.currentUser)||void 0===i?void 0:i.id,p=(0,w.Z)(d.useState(""),2),f=p[0],h=p[1],v=(0,w.Z)(d.useState(!1),2),m=v[0],g=v[1],Z=d.useRef(null),b=(0,w.Z)(d.useState(null),2),x=b[0],y=b[1],k=(0,kZ.Z)(),C=(0,HZ.Z)(),S=C.ref,T=C.update,E=(0,w.Z)((0,VZ.Z)({"@":function(){var e=(0,tt.Z)((function(e){var n,t;return(0,rt.__generator)(this,(function(i){return n=k.filter((function(e){return e.id!==u})),e&&(t=e.toLowerCase(),n=n.filter((function(e){return e.username.toLowerCase().startsWith(t)}))),[2,n.slice(0,5).map((function(e){return{icon:(0,r.tZ)(jZ.Z,{url:e.image,style:{height:"24px",width:"24px",minWidth:"24px",minHeight:"24px"}}),value:e.username}}))]}))}));return function(n){return e.apply(this,arguments)}}()}),2),I=E[0].suggestions,G=E[1],D=(0,zZ.Kb)({items:(null===I||void 0===I?void 0:I.results)||[],defaultHighlightedIndex:0,isOpen:Boolean(null===I||void 0===I?void 0:I.results.length),onSelectedItemChange:function(e){var n=e.selectedItem;if(I&&n){var t=I.applySuggestion({targetValue:f,suggestionValue:n.value}),r=t.fullValue,i=t.cursorIndex;h(r),setTimeout((function(){Z.current&&(Z.current.setSelectionRange(i,i),Z.current.focus(),T())}))}}}),B=D.isOpen,P=D.getInputProps,_=D.getMenuProps,A=D.getItemProps,U=D.highlightedIndex,L=D.getComboboxProps;d.useEffect((function(){var e="threads/drafts/".concat(o.id),n=Sn.Z.get(e,"string");n&&h(n);var t=Z.current;return function(){if(t){var n=t.value;0!==n.length?Sn.Z.set(e,n):Sn.Z.remove(e)}}}),[]),d.useEffect((function(){setTimeout((function(){Z.current&&Z.current.focus()}))}),[Z]);var z=NZ(o).filter((function(e){return e.id!==u})),O="Add a comment";return 1===z.length?O="Reply to @".concat(z[0].username):z.length>1&&(O="Reply"),o.isResolved&&(O="Reply to unresolve this thread"),a&&(O=a),(0,r.BX)("div",{className:"jsx-83fb19ea8f375c79",children:[(0,r.BX)("div",(0,he.Z)((0,R.Z)({},L()),{className:"jsx-83fb19ea8f375c79 input-group",children:[(0,r.tZ)("textarea",(0,he.Z)((0,R.Z)({},P({autoFocus:!0,placeholder:O,value:f,onCompositionStart:function(){return g(!0)},onCompositionEnd:function(){return g(!1)},onChange:function(e){var n=e.target.value,t=x||XZ()();x||y(t),h(n),l({messageId:t,message:n})},onKeyDown:function(e){e.stopPropagation(),B||(e.nativeEvent.preventDownshiftDefault=!0,"Enter"!==e.key||e.shiftKey||m||(e.preventDefault(),c()))},rows:1,ref:function(e){Z.current=e,n&&"object"===typeof n&&(n.current=e),G(e),S(e)}})),{className:"jsx-83fb19ea8f375c79 "+(fa()("inputbox",{hasContent:f.length>0})||"")})),(0,r.tZ)(ue.h,{alt:"Send message",onClick:c,disabled:0===f.length,children:(0,r.tZ)(YZ.Z,{})})]})),(0,r.tZ)("div",(0,he.Z)((0,R.Z)({},_({})),{className:"jsx-83fb19ea8f375c79",children:B?(0,r.tZ)("div",{className:"jsx-83fb19ea8f375c79 mention-suggestions-container",children:I.results.map((function(e,n){return(0,d.createElement)("div",(0,he.Z)((0,R.Z)({},A({item:e,index:n})),{key:e.value,className:"jsx-83fb19ea8f375c79 "+(fa()("mention-suggestion",{selected:U===n})||""),children:[e.icon,(0,r.tZ)("div",{className:"jsx-83fb19ea8f375c79",children:e.value})]}))}))}):null})),(0,r.tZ)(en(),{id:"83fb19ea8f375c79",children:'.input-group.jsx-83fb19ea8f375c79{display:grid;grid-template-columns:1fr -webkit-min-content;grid-template-columns:1fr min-content;grid-gap:10px;-webkit-box-align:center;-webkit-align-items:center;-moz-box-align:center;-ms-flex-align:center;align-items:center;-webkit-box-pack:start;-webkit-justify-content:start;-moz-box-pack:start;-ms-flex-pack:start;justify-content:start}.inputbox.jsx-83fb19ea8f375c79{background:var(--background-higher);color:var(--foreground-default);border:none;-webkit-border-radius:var(--border-radius-8);-moz-border-radius:var(--border-radius-8);border-radius:var(--border-radius-8);padding:var(--space-8);outline:none;resize:none;font-family:"IBM Plex Sans",sans-serif;font-size:var(--font-size-default);line-height:16px;overflow-y:auto;max-height:-webkit-calc(var(--font-size-default)*18);max-height:-moz-calc(var(--font-size-default)*18);max-height:calc(var(--font-size-default)*18)}.inputbox.jsx-83fb19ea8f375c79::-webkit-input-placeholder{white-space:pre}.inputbox.jsx-83fb19ea8f375c79:-moz-placeholder{white-space:pre}.inputbox.jsx-83fb19ea8f375c79::-moz-placeholder{white-space:pre}.inputbox.jsx-83fb19ea8f375c79:-ms-input-placeholder{white-space:pre}.inputbox.jsx-83fb19ea8f375c79::-ms-input-placeholder{white-space:pre}.inputbox.jsx-83fb19ea8f375c79::placeholder{white-space:pre}.inputbox.hasContent.jsx-83fb19ea8f375c79{-webkit-border-radius:6px;-moz-border-radius:6px;border-radius:6px}.mention-suggestions-container.jsx-83fb19ea8f375c79{padding-top:1em;display:grid;grid-row-gap:var(--space-4);overflow:hidden}.mention-suggestion.jsx-83fb19ea8f375c79{display:grid;grid-template-columns:-webkit-min-content -webkit-max-content;grid-template-columns:min-content max-content;-webkit-box-align:center;-webkit-align-items:center;-moz-box-align:center;-ms-flex-align:center;align-items:center;grid-column-gap:var(--space-8);padding:var(--space-8)0;cursor:pointer;color:var(--foreground-default)}.mention-suggestion.selected.jsx-83fb19ea8f375c79{background-color:var(--background-root)}.mention-suggestion.selected.jsx-83fb19ea8f375c79>*.jsx-83fb19ea8f375c79{-webkit-transform:scale(1.1);-moz-transform:scale(1.1);-ms-transform:scale(1.1);-o-transform:scale(1.1);transform:scale(1.1)}'})]})}));qZ.displayName="ThreadInputForwarded";var KZ=qZ,$Z=t(52224);function QZ(e){var n=e.message,t=e.messageStyle,i=d.useMemo((function(){return"TextMessageContentType"===n.content.__typename?(0,CZ.kW)(n.content.text,{}):"PreviewMessageContentType"===n.content.__typename&&"string"===typeof n.content.preview?(0,CZ.kW)(n.content.preview,{}):null}),[n.content]),o="PreviewMessageContentType"===n.content.__typename&&"string"!==typeof n.content.preview;return n.user&&(i||o)?(0,r.BX)("div",{className:"jsx-e1dab5bcce309da6 "+(t||""),children:[(0,r.BX)("div",{className:"jsx-e1dab5bcce309da6 message",children:[i?(0,r.tZ)(CZ.YI,{message:i,codeStyles:{color:"var(--accent-orange-stronger)",background:"var(--background-highest)"}}):null,o?(0,r.BX)("span",{className:"jsx-e1dab5bcce309da6 typing-indicator",children:[(0,r.tZ)("span",{className:"jsx-e1dab5bcce309da6 dot"}),(0,r.tZ)("span",{className:"jsx-e1dab5bcce309da6 dot"}),(0,r.tZ)("span",{className:"jsx-e1dab5bcce309da6 dot"})]}):null]}),(0,r.tZ)(en(),{id:"e1dab5bcce309da6",children:".message.jsx-e1dab5bcce309da6{background:var(--background-higher);padding:var(--space-4)var(--space-8);-webkit-border-radius:var(--border-radius-8);-moz-border-radius:var(--border-radius-8);border-radius:var(--border-radius-8);font-size:var(--font-size-default);overflow-wrap:break-word;width:-webkit-fit-content;width:-moz-fit-content;width:fit-content;max-width:100%;white-space:pre-wrap}.userhighlight.jsx-e1dab5bcce309da6 .message.jsx-e1dab5bcce309da6{background:transparent}.typing-indicator.jsx-e1dab5bcce309da6{min-height:1em;display:grid;grid-auto-flow:column;-webkit-box-align:center;-webkit-align-items:center;-moz-box-align:center;-ms-flex-align:center;align-items:center;grid-gap:var(--space-8)}.dot.jsx-e1dab5bcce309da6{width:6px;height:6px;-webkit-border-radius:6px;-moz-border-radius:6px;border-radius:6px;display:inline-block;background-color:var(--foreground-dimmest);-webkit-animation:pulse.6s infinite;-moz-animation:pulse.6s infinite;-o-animation:pulse.6s infinite;animation:pulse.6s infinite}.dot.jsx-e1dab5bcce309da6:nth-child(1){-webkit-animation-delay:0s;-moz-animation-delay:0s;-o-animation-delay:0s;animation-delay:0s}.dot.jsx-e1dab5bcce309da6:nth-child(2){-webkit-animation-delay:.2s;-moz-animation-delay:.2s;-o-animation-delay:.2s;animation-delay:.2s}.dot.jsx-e1dab5bcce309da6:nth-child(3){-webkit-animation-delay:.4s;-moz-animation-delay:.4s;-o-animation-delay:.4s;animation-delay:.4s}@-webkit-keyframes pulse{0%{background-color:var(--foreground-dimmest)}50%{background-color:var(--foreground-dimmest)}100%{background-color:var(--foreground-dimmest)}}@-moz-keyframes pulse{0%{background-color:var(--foreground-dimmest)}50%{background-color:var(--foreground-dimmest)}100%{background-color:var(--foreground-dimmest)}}@-o-keyframes pulse{0%{background-color:var(--foreground-dimmest)}50%{background-color:var(--foreground-dimmest)}100%{background-color:var(--foreground-dimmest)}}@keyframes pulse{0%{background-color:var(--foreground-dimmest)}50%{background-color:var(--foreground-dimmest)}100%{background-color:var(--foreground-dimmest)}}"})]}):null}var JZ=t(56412);function eb(e){var n=e.message,t=d.useMemo((function(){var e=n.timeCreated;return e?(0,JZ.Z)(new Date(e),"do MMM, hh:mm a"):""}),[n]),i=n.user;return(0,r.tZ)("div",{className:"resolved-message",children:(0,r.BX)(Me.Ug,{align:"center",spacing:1,children:[i?(0,r.tZ)(jZ.Z,{url:i.image,size:"m"}):null,(0,r.tZ)(Pn.Z,{color:"var(--foreground-default)",size:24}),(0,r.BX)(Ne.Z,{size:"xsmall",children:["Resolved ",t]})]})})}function nb(e){var n=e.message,t=d.useMemo((function(){var e=n.timeCreated;return e?(0,JZ.Z)(new Date(e),"do MMM, hh:mm a"):""}),[n]),i=n.user;return(0,r.tZ)("div",{className:"resolved-message",children:(0,r.BX)(Me.Ug,{align:"center",spacing:1,children:[i?(0,r.tZ)(jZ.Z,{url:i.image,size:"m"}):null,(0,r.tZ)(Pn.Z,{size:24,color:"var(--foreground-dimmest)"}),(0,r.BX)(Ne.Z,{size:"xsmall",children:["Unresolved ",t]})]})})}var tb=function(e){var n=new Date(e),t=new Date;return(0,$Z.Z)(t,n)<60?"now":(0,Nc.F)(n,!0)};function rb(e){var n=e.messageGroup,t=n.messages,i=n.user,o=n.timeCreated;return i?(0,r.BX)("div",{className:"jsx-3469fc8bae278840 message-group",children:[(0,r.BX)("div",{className:"jsx-3469fc8bae278840 message-info",children:[(0,r.tZ)("div",{className:"jsx-3469fc8bae278840 avatar",children:(0,r.tZ)(jZ.Z,{url:i.image,size:"xs",style:{minHeight:"15px",minWidth:"15px",height:"15px",width:"15px"}})}),(0,r.tZ)("div",{className:"jsx-3469fc8bae278840 username",children:i.username}),(0,r.tZ)("div",{className:"jsx-3469fc8bae278840 time",children:tb(o)})]}),(0,r.tZ)("div",{className:"jsx-3469fc8bae278840 messages",children:t.map((function(e){return(0,r.tZ)(QZ,{message:e},e.id)}))}),(0,r.tZ)(en(),{id:"3469fc8bae278840",children:".message-group.jsx-3469fc8bae278840{background-color:var(--background-default);color:var(--foreground-default);display:grid;position:relative;grid-template-rows:auto auto;grid-row-gap:var(--space-8);grid-template-columns:minmax(0,1fr)}.message-info.jsx-3469fc8bae278840{display:-webkit-box;display:-webkit-flex;display:-moz-box;display:-ms-flexbox;display:flex;-webkit-box-align:center;-webkit-align-items:center;-moz-box-align:center;-ms-flex-align:center;align-items:center;font-size:var(--font-size-small)}.messages.jsx-3469fc8bae278840{display:grid;grid-row-gap:var(--space-4);grid-template-columns:minmax(0,1fr)}.avatar.jsx-3469fc8bae278840{margin-right:5px}.username.jsx-3469fc8bae278840{color:var(--foreground-dimmer);font-weight:var(--font-weight-medium);margin-right:3px}.time.jsx-3469fc8bae278840{color:var(--foreground-dimmest)}"})]}):null}function ib(e){var n=e.messageGroup;if("TextMessageContentType"===n.messageType||"PreviewMessageContentType"===n.messageType)return(0,r.tZ)(rb,{messageGroup:n});if("StatusMessageContentType"===n.messageType){var t=n.messages[0];if("StatusMessageContentType"===t.content.__typename&&"resolved"===t.content.status)return(0,r.tZ)(eb,{message:t});if("StatusMessageContentType"===t.content.__typename&&"unresolved"===t.content.status)return(0,r.tZ)(nb,{message:t})}return null}function ob(e){var n=e.generalThreadsOpen,t=e.setGeneralThreadsOpen,i=e.generalThread,o=e.handleChangeMessage,a=void 0===o?function(){}:o,s=e.handleFinalizeMessage,c=void 0===s?function(){}:s,u=e.createAnnotationAnchorPlaceholder,p=void 0===u?function(){}:u,f=(0,Ae.Z)(),h=d.useMemo((function(){return i?function(e){var n=[],t=null,r=!0,i=!1,o=void 0;try{for(var a,l=e[Symbol.iterator]();!(r=(a=l.next()).done);r=!0){var s,c,u,d,p=a.value;!t||(null===p||void 0===p||null===(s=p.user)||void 0===s?void 0:s.id)!==(null===t||void 0===t||null===(c=t.user)||void 0===c?void 0:c.id)||(null===p||void 0===p||null===(u=p.anchor)||void 0===u?void 0:u.id)!==(null===t||void 0===t?void 0:t.anchorId)||!_Z.includes(t.messageType)||!_Z.includes(p.content.__typename)||new Date(p.timeCreated).getTime()-new Date(t.timeCreated).getTime()>6e5?(t&&n.push(t),t={user:p.user,timeCreated:p.timeCreated,anchorId:null===p||void 0===p||null===(d=p.anchor)||void 0===d?void 0:d.id,messages:[p],messageType:p.content.__typename}):t.messages.push(p)}}catch(f){i=!0,o=f}finally{try{r||null==l.return||l.return()}finally{if(i)throw o}}return t&&n.push(t),n}((0,Qe.Z)(i.messages).sort((function(e,n){return new Date(e.timeCreated).getTime()-new Date(n.timeCreated).getTime()}))):[]}),[i]);d.useEffect((function(){i||p({annotationAnchor:{id:LZ()(),replId:f,isGeneral:!0,indexStart:null,indexEnd:null,isResolved:!1,otVersion:null,path:null}})}),[i,f,p]),d.useEffect((function(){i||p({annotationAnchor:{id:LZ()(),replId:f,isGeneral:!0,indexStart:null,indexEnd:null,isResolved:!1,otVersion:null,path:null}})}),[i,f,p]);var v=d.useRef(null);(0,AZ.Z)(n&&i||null);return d.useEffect((function(){v.current&&(v.current.scrollTop=v.current.scrollHeight)}),[v,i]),i?(0,r.BX)("div",{onClick:function(){return t(!0)},className:"jsx-571d11d33063a57f "+(fa()("general-thread")||""),children:[(0,r.tZ)("div",{css:l.l0.scrollbar.thin,className:"jsx-571d11d33063a57f message-group-container-container",children:(0,r.tZ)("div",{ref:v,className:"jsx-571d11d33063a57f message-group-container",children:h.map((function(e){return(0,r.tZ)(ib,{messageGroup:e},e.messages[0].id)}))})}),(0,r.tZ)("div",{className:"jsx-571d11d33063a57f thread-input-container",children:(0,r.tZ)(KZ,{placeholder:"Send message",annote:i,onChangeMessage:function(e){a({anchor:i,message:e.message,messageId:e.messageId}),t(!0)},onFinalizeMessage:function(e){c({anchor:i,message:e.message,messageId:e.messageId}),t(!0),(0,g.j)(g.U3.MESSAGE_SENT,{replId:f,source:"chat",newThread:0===i.messages.length})}})}),(0,r.tZ)(en(),{id:"571d11d33063a57f",children:'.general-thread.jsx-571d11d33063a57f{padding-top:0,border-radius:var(--border-radius-8)var(--border-radius-8)0 0;background:var(--background-default);display:-webkit-box;display:-webkit-flex;display:-moz-box;display:-ms-flexbox;display:flex;-webkit-box-flex:1;-webkit-flex:1 1 0;-moz-box-flex:1;-ms-flex:1 1 0px;flex:1 1 0;-webkit-box-orient:vertical;-webkit-box-direction:normal;-webkit-flex-direction:column;-moz-box-orient:vertical;-moz-box-direction:normal;-ms-flex-direction:column;flex-direction:column;overflow:hidden;grid-template-rows:-webkit-min-content 1fr -webkit-min-content;grid-template-rows:min-content 1fr min-content;grid-gap:var(--space-8);height:"100%"}.message-group-container-container.jsx-571d11d33063a57f{display:-webkit-box;display:-webkit-flex;display:-moz-box;display:-ms-flexbox;display:flex;overflow:hidden;-webkit-box-orient:vertical;-webkit-box-direction:normal;-webkit-flex-direction:column;-moz-box-orient:vertical;-moz-box-direction:normal;-ms-flex-direction:column;flex-direction:column;height:0;-webkit-box-flex:1;-webkit-flex-grow:1;-moz-box-flex:1;-ms-flex-positive:1;flex-grow:1}.message-group-container.jsx-571d11d33063a57f{padding:var(--space-12);display:grid;grid-row-gap:var(--space-16);overflow-y:auto}.thread-input-container.jsx-571d11d33063a57f{width:100%;border-top:1px solid var(--outline-dimmer);padding:var(--space-8)var(--space-12)}'})]}):null}var ab=t(33594),lb=t(1809),sb=t(93970),cb=t(10452),ub=t(67036),db=t(206),pb=t(62199),fb=t(97318),hb=function(e){var n=(0,fb.Z)(e,null,null).updateThread;return{handleToggleResolved:function(e){return n({changes:{isResolved:e}})}}};var vb,mb,gb=function(e){var n=e.thread,t=e.onClick,i=n.messages.filter((function(e){return!e.seen})).length,o=function(e){var n;return null===(n=(0,pb.Vy)(e.path?e:null))||void 0===n?void 0:n.snippet}(n),a=(0,fb.Z)(n.id,null,null).thread,u=(0,EZ.kM)(),p=hb(n.id).handleToggleResolved,f="Jump to code",h="Resolve this thread",v="Re-open",m=function(e,n){var t=function(e){return 1===e?"reply":"replies"};return e<=1?"View ".concat(1===n?"unread":""," thread"):n?"View ".concat(n," unread ").concat(t(n)):"View ".concat(e-1," ").concat(t(e-1))},g=function(e,n){return"Opened ".concat(e," by ").concat(n)},Z=n.messages[0],b=d.useMemo((function(){return(null===Z||void 0===Z?void 0:Z.timeCreated)?(0,db.Y)(Z.timeCreated):"some time ago"}),[Z]);return n.user?(0,r.BX)(se.Tg,{css:[de.gU.filled,l.l0.overflow("hidden"),u===n.id&&{borderColor:l.TV.accentPrimaryDefault}],onClick:function(){t(n)},children:[(0,r.BX)(se.Tg,{elevated:!0,css:[l.l0.flex.row,l.l0.align.center,l.l0.justify.spaceBetween,l.l0.flex.grow(1),l.l0.px(8),l.l0.py(8)],children:[(0,r.tZ)(c.G,{css:[l.l0.flex.row,l.l0.align.center,l.l0.rowWithGap(4)],children:(0,r.tZ)(s.xv,{color:"dimmer",variant:"small",multiline:!1,children:g(b,n.user.username)})}),(0,r.BX)(c.G,{css:[l.l0.flex.row,l.l0.align.center,l.l0.rowWithGap(4)],children:[o&&n.path?(0,r.tZ)(ue.h,{alt:f,onClick:function(){return t(n)},children:(0,r.tZ)(lb.Z,{})}):null,n.isResolved?(0,r.tZ)(ce.zx,{text:v,small:!0,colorway:"primary",onClick:function(){p(!1)}}):(0,r.tZ)(ue.h,{alt:h,onClick:function(){p(!0)},children:(0,r.tZ)(Pn.Z,{})})]})]}),o&&n.path?(0,r.tZ)(sb.F,{elevation:"root",path:n.path,snippet:o,fontSize:12,maxHeight:"42px",minHeight:"42px",allowScroll:!1}):null,Z?(0,r.tZ)(c.G,{css:[l.l0.p(8),l.l0.py(12)],children:(0,r.tZ)(cb.Z,{thread:a,message:Z},Z.id)}):null,n.messages.length>1&&(0,r.BX)(c.G,{css:[l.l0.pb(12),l.l0.px(8),l.l0.flex.row,l.l0.align.center,l.l0.rowWithGap(4),l.l0.color.foregroundDimmer],children:[(0,r.tZ)(c.G,{css:[l.l0.position.relative],children:(0,r.tZ)(ub.Z,{unreadDot:i>0})}),(0,r.tZ)(s.xv,{variant:"small",multiline:!1,children:m(n.messages.length,i)})]})]}):null},Zb=function(e){var n=e.path,t=e.threads,i=e.onThreadClick,o=t.some((function(e){return e.messages.some((function(e){return!e.seen}))}));return(0,r.tZ)(c.G,{css:[l.l0.pb(8)],children:(0,r.tZ)(ab.Q,{css:[l.TV.singleLine,l.l0.px(8)],headerContent:(0,r.BX)(c.G,{css:[l.l0.flex.row,l.l0.align.center,l.l0.justify.spaceBetween,l.l0.flex.growAndShrink(1),l.l0.mr(8)],children:[(0,r.BX)(c.G,{css:[l.l0.flex.row,l.l0.align.center,l.l0.rowWithGap(8),l.l0.flex.growAndShrink(1)],children:[(0,r.tZ)(Zt.Z,{path:n,size:20}),(0,r.tZ)(s.xv,{css:[l.l0.flex.shrink(1)],multiline:!1,children:n})]}),o?(0,r.tZ)("div",{css:[l.l0.flex.shrink(0),l.l0.width(8),l.l0.height(8),l.l0.backgroundColor.redStronger,l.l0.borderRadius("full")]}):null]}),children:(0,r.tZ)("div",{css:[l.l0.mt(8),l.l0.colWithGap(8)],children:t.map((function(e){return(0,r.tZ)(gb,{thread:e,onClick:i},e.id)}))})})})};function bb(e){var n=e.primary,t=e.secondary;return(0,r.tZ)(c.G,{css:[l.l0.align.center,l.l0.justify.center,l.l0.flex.grow(1)],children:(0,r.BX)(c.G,{css:[l.l0.align.center,l.l0.justify.center,l.l0.flex.grow(1)],children:[(0,r.tZ)(c.G,{css:[l.l0.maxWidth(140),l.l0.maxHeight(140),l.l0.position.relative,l.l0.align.center,l.l0.justify.center,{pointerEvents:"none"}],children:(0,r.tZ)(IZ,{})}),(0,r.tZ)(s.xv,{variant:"subheadDefault",css:l.l0.mt(32),multiline:!1,children:n}),(0,r.tZ)("div",{css:[l.l0.color.foregroundDimmest],children:(0,r.tZ)(s.xv,{variant:"text",css:l.l0.mt(8),multiline:!1,children:t})})]})})}!function(e){e.CHRONOLOGICAL="chronological",e.CODE_ORDER="codeOrder"}(vb||(vb={})),function(e){e.PARTICIPATING="participating",e.RESOLVED="resolved",e.UNREAD="unread",e.INBOX="inbox"}(mb||(mb={}));var xb=function(e){var n=e.isChatOnly,t=e.openFile,i=(0,Ae.Z)(),o=Ec(i,{onReceiveAnnotationUpdate:function(){}}),a=o.annotations,u=o.loading,p=o.generalThread,f=o.createAnnotationAnchorPlaceholder,h=o.createAnnotationMessage,v=o.updateThreadPreview,m=function(e){var n=(0,R.Z)({},RZ,e);return $.a(TZ,n)}(),g=m.data,Z=m.loading,b=u||Z,x=(0,w.Z)(d.useState(!1),2),y=x[0],k=x[1],C=(0,EZ.a9)(),S=(0,w.Z)(d.useState(""),2),T=S[0],E=S[1],I=(0,w.Z)(d.useState("INBOX"),2),G=I[0],D=I[1],B=(0,w.Z)(d.useState("CHRONOLOGICAL"),2),P=B[0],_=B[1],A=d.useMemo((function(){var e,n=null===g||void 0===g||null===(e=g.currentUser)||void 0===e?void 0:e.id,t=a.filter((function(e){if("INBOX"===G)return!e.isResolved;if("RESOLVED"===G)return e.isResolved;if("PARTICIPATING"===G)return!n||function(e,n){var t;return(null===(t=e.user)||void 0===t?void 0:t.id)===n||e.messages.some((function(e){var t=e.user;return(null===t||void 0===t?void 0:t.id)===n}))}(e,n);if("UNREAD"===G){var t=e.messages.some((function(e){return!e.seen}));return t}return!0}));return t}),[g,a,G]),U=d.useMemo((function(){return A.filter((function(e){var n,t;return 0===T.length||null!==(t=null===(n=e.path)||void 0===n?void 0:n.toLowerCase().includes(T.toLowerCase()))&&void 0!==t&&t}))}),[T,A]),L=d.useMemo((function(){return(0,Qe.Z)(U).sort((function(e,n){if("CHRONOLOGICAL"===P){var t,r,i=new Date(null===(t=e.messages[0])||void 0===t?void 0:t.timeCreated),o=new Date(null===(r=n.messages[0])||void 0===r?void 0:r.timeCreated);return i&&o?i<o?1:-1:0}return"CODE_ORDER"===P?(0,Un.IV)(e.path,n.path):0})).reduce((function(e,n){var t=n.path;return t&&"undefined"!==typeof t?(e[t]=e[t]||[],e[t].push(n),e):e}),{})}),[U,P]),z=d.useMemo((function(){var e=(0,R.Z)({},L),n=Object.values(e).map((function(e){return(0,Qe.Z)(e).sort((function(e,n){if("CHRONOLOGICAL"===P){var t,r,i=new Date(null===(t=e.messages[0])||void 0===t?void 0:t.timeCreated),o=new Date(null===(r=n.messages[0])||void 0===r?void 0:r.timeCreated);return i&&o?i<o?1:-1:0}var a,l,s,c;return"CODE_ORDER"===P?(null!==(l=null!==(a=e.indexStart)&&void 0!==a?a:e.indexEnd)&&void 0!==l?l:0)<(null!==(c=null!==(s=n.indexStart)&&void 0!==s?s:n.indexEnd)&&void 0!==c?c:0)?-1:1:0}))}));return n.reduce((function(e,n,t){return e[Object.keys(L)[t]]=n,e}),{})}),[L,P]),O=(0,kZ.Z)().map((function(e){return e.username})),X=function(e){var n=(0,w.Z)((0,Tc.n)(),1)[0];return function(){n({variables:{replId:e}})}}(i),j=function(){var e=(0,tt.Z)((function(e){return(0,rt.__generator)(this,(function(n){return e.path?(t(e.path),C(e.id),[2]):[2]}))}));return function(n){return e.apply(this,arguments)}}(),N=wZ.Wo.StartThread.keyboardShortcut;return n?(0,r.tZ)(ob,{generalThreadsOpen:y,setGeneralThreadsOpen:k,generalThread:p,handleChangeMessage:function(e){var n=e.anchor,t=e.messageId;v({threadId:n.id,messageId:t})},handleFinalizeMessage:function(e){var n=e.anchor,t=e.message,r=e.messageId,i=(0,CZ.kW)(t,{users:(0,Qe.Z)(O).concat(["everyone"])});h({anchor:n,annotationMessage:{id:r,text:t,mentions:i.mentions}})},createAnnotationAnchorPlaceholder:f}):(0,r.tZ)(se.Tg,{className:"threads-inbox",css:[l.l0.height("100%"),l.l0.width("100%"),l.l0.overflow("hidden"),l.l0.position.relative],"aria-busy":b,children:b?(0,r.tZ)(c.G,{css:[l.l0.display.flex,l.l0.align.center,l.l0.justify.center,l.l0.height("100%")],children:(0,r.tZ)(Ze.Z,{size:24})}):(0,r.BX)(r.HY,{children:[(0,r.tZ)(c.G,{className:"threads-inbox-header",css:[l.l0.py(12),l.l0.px(8),l.l0.position.sticky,l.l0.top(0),l.l0.backgroundColor.backgroundDefault,{zIndex:10}],children:(0,r.BX)(c.G,{css:[l.l0.flex.row,l.l0.align.center,l.l0.flex.wrap,{gap:8}],children:[(0,r.tZ)(Pa.II,{placeholder:PZ.search.placeholder,value:T,onChange:function(e){return E(e.target.value)},css:[l.l0.flex.grow(1)]}),(0,r.BX)(c.G,{css:[l.l0.flex.row,l.l0.maxWidth("100%"),{gap:8}],children:[(0,r.tZ)(c.G,{css:[l.l0.flex.shrink(1)],children:(0,r.tZ)(gc.ZE,{cssProps:[l.l0.flex.shrink(1),{span:l.l0.flex.shrink(1)}],icon:PZ.filters[mb[G]].icon,suffix:(0,r.tZ)(ur.Z,{}),label:PZ.filters[mb[G]].label,onAction:function(e){switch(e){case"toggle-inbox":D("INBOX");break;case"toggle-unread":D("UNREAD");break;case"toggle-participating":D("PARTICIPATING");break;case"toggle-resolved":D("RESOLVED")}},children:Object.entries(PZ.filters).map((function(e){var n=(0,w.Z)(e,2),t=(n[0],n[1]);return(0,r.tZ)(yZ.ck,{"aria-label":t.label,children:(0,r.BX)(c.G,{css:l.l0.rowWithGap(8),children:[t.icon,(0,r.tZ)(s.xv,{multiline:!1,children:t.label})]})},t.key)}))})}),(0,r.tZ)(c.G,{css:[l.l0.flex.shrink(1)],children:(0,r.tZ)(gc.ZE,{cssProps:[l.l0.flex.shrink(1),{span:l.l0.flex.shrink(1)}],icon:PZ.sorts[vb[P]].icon,suffix:(0,r.tZ)(ur.Z,{}),label:PZ.sorts[vb[P]].label,onAction:function(e){switch(e){case PZ.sorts.chronological.key:_("CHRONOLOGICAL");break;case PZ.sorts.codeOrder.key:_("CODE_ORDER")}},children:Object.entries(PZ.sorts).map((function(e){var n=(0,w.Z)(e,2),t=(n[0],n[1]);return(0,r.tZ)(yZ.ck,{"aria-label":t.label,children:(0,r.BX)(c.G,{css:l.l0.rowWithGap(8),children:[t.icon,(0,r.tZ)(s.xv,{multiline:!1,children:t.label})]})},t.key)}))})}),(0,r.tZ)(c.G,{css:[l.l0.flex.shrink(1)],children:(0,r.tZ)(ce.zx,{iconLeft:(0,r.tZ)(Pn.Z,{}),text:PZ.markAsRead,onClick:X,css:{span:l.l0.flex.shrink(1)}})})]})]})}),0===a.length?(0,r.tZ)(bb,{primary:PZ.empty.noThreadsCreated.text.primary,secondary:PZ.empty.noThreadsCreated.text.secondary(N)}):(0,r.tZ)(r.HY,{children:Object.keys(z).length>0?(0,r.tZ)(c.G,{css:[l.l0.flex.growAndShrink(1),l.l0.overflowY("auto"),l.l0.scrollbar.thin],children:Object.keys(z).map((function(e,n){return(0,r.tZ)(Zb,{path:e||"-",threads:Object.values(z)[n],onThreadClick:function(e){var n=window.getSelection();"Range"!==(null===n||void 0===n?void 0:n.type)&&j(e)}},e)}))}):(0,r.tZ)(bb,{primary:PZ.empty.noThreadsFound.text.primary,secondary:PZ.empty.noThreadsFound.text.secondary})})]})})},yb={Content:function(e){var n=e.options;return(0,r.tZ)(xb,{openFile:function(e){n.performPaneOperation({operation:"open",secondary:!0,pane:{type:"codeEditor",data:{path:e}}})}})},Icon:function(e){var n=e.size;return(0,r.tZ)(GZ.Z,{size:n})},getTitle:function(){return"Threads"}},wb=t(79339),kb=t(5616);var Cb,Sb=t(2965),Rb=t(84514);function Tb(){var e,n=(0,pe.Z)().fs,t=(0,ut.yR)(),i=(0,yr.Z)(u.y.Sidepane),o=(0,w.Z)(d.useState([]),2),a=o[0],p=o[1],f=(0,w.Z)(d.useState(Cb.Loading),2),h=f[0],v=f[1],m=(0,Ae.Z)(),g=(0,w.Z)(function(e,n){var t,r=(0,d.useState)((function(){return null!==(t=Sn.Z.get(e))&&void 0!==t?t:n})),i=r[0],o=r[1];return(0,d.useEffect)((function(){Sn.Z.set(e,i)}),[e,i]),[i,o]}("tutorialProgress--".concat(m),0),2),Z=g[0],b=g[1],x=(0,w.Z)(d.useState(!1),2),y=x[0],k=x[1],C=d.useRef(null),S=(0,Pv.d)(),R=S?S.toString():"",T=(0,ze.Qt)(),E=(0,ze.R3)(),I=(0,Ba.Z)(E),G=(0,at.Z)((function(){var e;return I?function(n){var t;return I({code:n,insertAt:null!==(e=null===(t=T())||void 0===t?void 0:t.position.offset)&&void 0!==e?e:"end"})}:void 0}),[I,T]),D=(0,Sb.jJ)(R,m),B=D?(0,r.tZ)(Sb.gC,{challenge:D}):null,P=d.useCallback((function(){C.current&&(C.current.scrollTop=0)}),[C]);return d.useEffect((function(){var e=!1,t=function(){var t=(0,tt.Z)((function(){var t,r,i,o,a,l,s,c,u,d,f,h,m,g,Z;return(0,rt.__generator)(this,(function(b){switch(b.label){case 0:return v(Cb.Loading),[4,n.readDir(ts.V)];case 1:return t=b.sent(),e?[2]:t.error?(v(Cb.Error),[2]):(r=[],[4,Promise.all(t.children.filter((function(e){return e.type===An.Tv.File&&Rb.c.includes((0,Un.r6)(e.filename))})).map((function(e){var t="".concat(ts.V,"/").concat(e.filename);return Promise.all([t,n.readFile(t)])})))]);case 2:if(i=b.sent(),e)return[2];o=!0,a=!1,l=void 0;try{for(s=i[Symbol.iterator]();!(o=(c=s.next()).done);o=!0)u=(0,w.Z)(c.value,2),d=u[0],(f=u[1]).error?v(Cb.Error):(m=f.content.toString(),g=RegExp("^#\\s(?<title>.*)"),Z=g.exec(m),r.push({title:null===Z||void 0===Z||null===(h=Z.groups)||void 0===h?void 0:h.title,content:m,path:d}))}catch(x){a=!0,l=x}finally{try{o||null==s.return||s.return()}finally{if(a)throw l}}return p(r),v(Cb.Ready),[2]}}))}));return function(){return t.apply(this,arguments)}}();return t(),function(){e=!0}}),[n]),d.useEffect((function(){a[Z]||b(0)}),[Z,b,a]),h===Cb.Loading?(0,r.tZ)(c.G,{css:[l.l0.flex.growAndShrink(1),l.l0.center],children:(0,r.tZ)(Ze.Z,{})}):h===Cb.Error?(0,r.tZ)(c.G,{css:[l.l0.flex.growAndShrink(1),l.l0.center],children:(0,r.BX)(c.G,{css:[l.l0.center,l.l0.colWithGap(4)],children:[(0,r.tZ)(la.Z,{color:l.TV.accentNegativeDefault}),(0,r.tZ)(s.xv,{color:"dimmer",multiline:!1,children:"Failed to load tutorial"})]})}):0===a.length?(0,r.tZ)(c.G,{css:[l.l0.flex.growAndShrink(1),l.l0.center],children:(0,r.BX)(c.G,{css:[l.l0.center,l.l0.colWithGap(4)],children:[(0,r.tZ)(la.Z,{color:l.TV.accentNegativeDefault}),(0,r.tZ)(s.xv,{color:"dimmer",multiline:!1,children:"No tutorials found!"})]})}):y?(0,r.BX)(c.G,{css:[l.l0.overflowY("scroll"),l.l0.flex.growAndShrink(1),l.l0.p(8),l.l0.colWithGap(16)],children:[(0,r.tZ)(s.xv,{variant:"headerDefault",multiline:!1,children:"Table of Contents"}),(0,r.tZ)(c.G,{css:[l.l0.flex.growAndShrink(1),l.l0.colWithGap(8)],children:a.map((function(e,n){return(0,r.BX)(c.G,{css:[l.l0.p(8),Z===n?l.l0.backgroundColor.backgroundHighest:l.l0.backgroundColor.backgroundHigher,l.l0.borderRadius(4),l.l0.rowWithGap(8),l.l0.align.center,l.l0.cursor.pointer,Z===n?{outline:"solid 2px var(--outline-dimmest)"}:{},{":hover":{outline:"solid 2px var(--outline-dimmest)"}}],onClick:function(){b(n),k(!1)},children:[(0,r.tZ)(c.G,{css:[l.l0.backgroundColor.backgroundHighest,l.l0.width(20),l.l0.height(20),l.l0.borderRadius("full"),l.l0.center,{outline:"solid 1px var(--outline-dimmest)"}],children:(0,r.tZ)(s.xv,{variant:"small",color:"dimmest",multiline:!1,children:n+1})}),(0,r.tZ)(s.xv,{css:[l.l0.maxWidth("80%")],multiline:!1,children:e.title})]},e.title)}))})]}):(0,r.tZ)(c.G,{innerRef:i,css:[l.l0.height("100%")],children:(0,r.BX)(c.G,{dataCy:"tutorial-viewer-content",innerRef:C,css:[l.l0.overflowY("scroll"),l.l0.flex.growAndShrink(1),l.l0.p(16),l.l0.pb(48),l.l0.colWithGap(16)],children:[t?(0,r.tZ)(ce.zx,{text:"Show tutorial video",iconLeft:(0,r.tZ)(_c.Z,{}),onClick:function(){return t()}}):null,B,a.length>1&&(0,r.tZ)(ce.zx,{text:"Table of Contents",iconLeft:(0,r.tZ)(kb.Z,{}),onClick:function(){return k(!0)}}),(0,r.tZ)(wb.Z,{fs:n,path:a[Z].path,source:a[Z].content,sourcePos:!1,onCodeInsert:G}),a.length>1&&(0,r.BX)(c.G,{css:[l.l0.position.absolute,l.l0.width("100%"),l.l0.left(0),l.l0.bottom(0),l.l0.overflow("hidden")],children:[(0,r.tZ)(Eb,{progress:(Z+1)/a.length}),(0,r.BX)(c.G,{css:[l.l0.width("100%"),l.l0.height(40),l.l0.align.center,l.l0.flex.row],children:[(0,r.tZ)(c.G,{tag:"button",css:[l.l0.justify.center,l.l0.p(8),l.l0.backgroundColor.backgroundHigher,l.l0.cursor.pointer,l.l0.width(40),l.l0.height("100%")],onClick:function(){Z>0&&(b((function(e){return e-1})),P())},children:Z>0&&(0,r.tZ)(Ug.Z,{size:24})}),(0,r.tZ)(c.G,{tag:"button",css:[l.l0.rowWithGap(8),l.l0.flex.growAndShrink(1),l.l0.height("100%"),l.l0.justify.spaceBetween,l.l0.backgroundColor.backgroundHighest,l.l0.align.center,l.l0.p(8),l.l0.cursor.pointer,{userSelect:"none"}],onClick:function(){Z<a.length-1&&(b((function(e){return e+1})),P())},children:Z<a.length-1&&(0,r.BX)(r.HY,{children:[(0,r.BX)(s.xv,{multiline:!1,css:[l.l0.flex.growAndShrink(1),l.l0.textAlign.left,l.l0.fontSize(l.TV.fontSizeSubheadDefault)],children:[(0,r.BX)("span",{css:[l.l0.color.foregroundDimmer],children:["Next",a[Z+1].title?": ":" page"]}),(0,r.tZ)("b",{children:null!==(e=a[Z+1].title)&&void 0!==e?e:""})]}),(0,r.tZ)(Hi.Z,{size:24})]})})]})]})]})})}!function(e){e.Ready="READY",e.Loading="LOADING",e.Error="ERROR"}(Cb||(Cb={}));var Eb=function(e){var n=e.progress;return(0,r.tZ)(me.u,{tooltip:"Progress: ".concat(Math.round(100*n*10)/10,"%"),children:(0,r.tZ)(c.G,{css:[l.l0.width("100%"),l.l0.height(4),l.l0.backgroundColor.backgroundHigher],children:(0,r.tZ)(c.G,{css:[l.l0.width("".concat(100*n,"%")),l.l0.height("100%"),l.l0.backgroundColor.purpleDefault]})})})},Ib={Content:function(){return(0,r.tZ)(Tb,{})},Icon:function(e){var n=e.size;return(0,r.tZ)(ar.Z,{size:n})},getTitle:function(){return"Tutorial"}},Gb=t(58424),Db=(0,i.iv)([l.l0.backgroundColor.backgroundDefault,l.l0.height("100%"),l.l0.borderRadius(4),{overflow:"hidden"}]),Bb=(0,i.iv)([l.l0.width("100%"),l.l0.height("100%"),l.l0.justify.center,l.l0.align.center,l.l0.display.flex]);function Pb(e){var n=e.paneId,t=e.extensionPaneData,i=e.environmentAPIs,o=(0,Rv.jx)(t.installationId),a=(0,Rv.r9)(t.installationId),u=fg({extension:o,environmentAPIs:i,sandboxTitle:t.name,sandboxUrl:t.url,paneId:n,filePath:t.path||null}),d=u.didConnectOnce,p=u.isValidExtensionPaneUrl,f=u.getIframeProps,h=u.reloadSandbox;return(0,xt.L5)((function(){return{actions:[{icon:(0,r.tZ)(Lc.Z,{}),label:"Refresh",run:function(){h()},type:"action",description:"Refresh the extension pane",key:"refresh"}]}}),[]),(0,r.tZ)(c.G,{className:"extension-pane",css:Db,children:a&&d?(0,r.tZ)(r.HY,{children:p()?(0,r.tZ)("iframe",(0,R.Z)({},f({css:{width:"100%",height:"100%",border:"none"}}))):(0,r.tZ)(c.G,{css:[l.l0.p(12)],children:(0,r.BX)(s.xv,{children:["Invalid url: ",(0,r.tZ)(Gb.Z,{children:t.url}),". Please contact the extension author, or Replit support."]})})}):(0,r.tZ)(c.G,{css:Bb,children:(0,r.tZ)(Ze.Z,{})})})}var _b={Content:function(e){var n=e.pane,t=e.options,i=vg();return(0,r.tZ)(Pb,{extensionPaneData:n.data,paneId:t.paneId,environmentAPIs:i})},Icon:function(e){var n=e.pane,t=e.size;return(0,x.P5)({controlName:"flag-extension-icons-in-workspace",logFlagToAnalytics:!1})&&n.data.icon?(0,r.tZ)(be.Z,{src:n.data.url+n.data.icon,layout:"fill",alt:""}):(0,r.tZ)(lu.Z,{size:t})},getTitle:function(e){return e.data.path?e.data.path+" \u2014 "+e.data.name:e.data.name}},Ab=t(99371),Ub=t(31963);function Lb(e){var n=(0,ut.HM)(),t=(0,Rv.WF)(),i=(0,Rv.LM)(),o=(0,Rv.Mu)(),a=d.useCallback((function(t,r){if("cover"===t){if(null===r)return void a("store",null);n({paneId:e.paneId,pane:{type:"extensionStore",data:{coverPageExtensionId:null!==r&&void 0!==r?r:null,page:"cover"}}})}else n({paneId:e.paneId,pane:{type:"extensionStore",data:{page:t}}})}),[n,e.paneId]);if("cover"===e.page){var l,s,c=null!==(s=null===(l=o.find((function(n){return n.extensionId===e.coverPageExtensionId})))||void 0===l?void 0:l.installationId)&&void 0!==s?s:null;return(0,r.tZ)(Ab.f,{existingInstallationId:c,extensionId:e.coverPageExtensionId,goBackToStore:function(){return a("store",null)},installExtension:(0,tt.Z)((function(){var n;return(0,rt.__generator)(this,(function(r){switch(r.label){case 0:return[4,t({extensionId:e.coverPageExtensionId,replId:null})];case 1:if(!(n=r.sent()))throw new Error("Failed to install extension");return[2,(0,To.Ad)(n.id)]}}))})),uninstallExtension:function(){var e=(0,tt.Z)((function(e){return(0,rt.__generator)(this,(function(n){switch(n.label){case 0:return[4,i({installationId:e,replId:null})];case 1:return n.sent(),[2]}}))}));return function(n){return e.apply(this,arguments)}}()})}return(0,r.tZ)(Ub.Z,{storeMode:"pane",openExtensionCover:function(e){return a("cover",e)},setPage:function(e){return a(e,null)},page:e.page})}var zb={Content:function(e){return(0,r.tZ)(Lb,(0,he.Z)((0,R.Z)({},e.pane.data),{paneId:e.options.paneId}))},Icon:function(e){var n=e.size;return(0,r.tZ)(lu.Z,{size:n})},getTitle:function(){return"Extensions"}},Ob=t(65911);var Xb=t(12470),jb=t(11666),Nb=t(33814),Mb=t(18638);function Fb(){var e=function(){var e=(0,pe.Z)().toolchain;function n(){return(n=(0,tt.Z)((function(n){return(0,rt.__generator)(this,(function(t){switch(t.label){case 0:return[4,e.addModule(n).catch((function(e){mf.kg.error("Toolchain: failed to add Nix module: "+e.message)}))];case 1:return t.sent(),[2]}}))}))).apply(this,arguments)}function t(){return(t=(0,tt.Z)((function(n){return(0,rt.__generator)(this,(function(t){switch(t.label){case 0:return[4,e.removeModule(n).catch((function(e){mf.kg.error("Toolchain: failed to remove Nix module: "+e.message)}))];case 1:return t.sent(),[2]}}))}))).apply(this,arguments)}function r(){return(r=(0,tt.Z)((function(n,t){return(0,rt.__generator)(this,(function(r){switch(r.label){case 0:return[4,e.upgradeModule(n,t).catch((function(e){mf.kg.error("Toolchain: failed to upgrade Nix module: "+e.message)}))];case 1:return r.sent(),[2]}}))}))).apply(this,arguments)}return{modules:(0,Wr.Z)(e.modules),addModule:function(e){return n.apply(this,arguments)},removeModule:function(e){return t.apply(this,arguments)},upgradeModule:function(e,n){return r.apply(this,arguments)}}}(),n=e.modules,t=e.addModule,i=e.removeModule,o=e.upgradeModule,a=(0,pe.Z)().toolchain,u=(0,d.useState)(null),p=u[0],f=u[1];return(0,d.useEffect)((function(){a.getRegistry().then((function(e){f(e)})).catch((function(e){mf.kg.error("Toolchain: failed to get module registry: "+e.message)}))}),[a]),(0,r.BX)(c.G,{children:[(0,r.tZ)(s.xv,{variant:"headerDefault",css:l.l0.p(8),children:"Modules"}),(0,r.BX)(Xb.mQ,{children:[(0,r.BX)(Xb.td,{withDividers:!1,css:[l.l0.fontSize(16),l.l0.px(12),{"[aria-selected=true]":[l.l0.fontWeight.medium]}],children:[(0,r.tZ)(Xb.OK,{iconLeft:(0,r.tZ)(jb.Z,{}),children:"Store"},1),(0,r.tZ)(Xb.OK,{iconLeft:(0,r.tZ)(Nb.Z,{}),children:"Installed"},2)]}),(0,r.BX)(Xb.nP,{children:[(0,r.tZ)(Xb.x4,{children:(0,r.tZ)(Wb,{registry:p,modules:n,addModule:t})}),(0,r.tZ)(Xb.x4,{children:(0,r.tZ)(Hb,{modules:n,registry:p,removeModule:i,upgradeModule:o})})]})]})]})}function Wb(e){var n=e.registry,t=e.modules,i=e.addModule,o=(0,d.useState)(!1),a=o[0],s=o[1],u=(0,d.useMemo)((function(){var e=new Set((null===t||void 0===t?void 0:t.map((function(e){return e.referencedId})))||[]);return((null===n||void 0===n?void 0:n.modules)||[]).filter((function(n){return!e.has(Vb(n))})).sort((function(e,n){return e.name===n.name?0:e.name>n.name?1:-1}))}),[n,t]);return(0,r.BX)(c.G,{css:[l.l0.p(12)],children:[n?(0,r.tZ)(c.G,{children:u.map((function(e){var n=e.id;return(0,r.BX)(c.G,{css:[l.l0.flex.row,l.l0.fontSize(16),l.l0.px(12),l.l0.py(8),{"[aria-selected=true]":[l.l0.fontWeight.medium]}],children:[(0,r.BX)(c.G,{children:[e.name," v",e.version,e.description]}),(0,r.tZ)(ue.h,{onClick:function(){i(Vb(e))},alt:"Install",children:(0,r.tZ)(gt.Z,{})})]},n)}))}):null,(0,r.tZ)(ce.zx,{text:"Add by source file",onClick:function(){s(!0)}}),(0,r.tZ)(tn.u,{isOpen:a,onRequestClose:function(){return s(!1)},children:(0,r.tZ)(Av.Z,{prompt:"Add module",desc:"What's the module file path?",placeholder:"path",type:"text",onCancel:function(){return s(!1)},onConfirm:function(){var e=(0,tt.Z)((function(e){return(0,rt.__generator)(this,(function(n){switch(n.label){case 0:return[4,i(e)];case 1:return n.sent(),s(!1),[2]}}))}));return function(n){return e.apply(this,arguments)}}()})})]})}function Vb(e){return"".concat(e.id,":").concat(e.tag)}function Hb(e){var n=e.registry,t=e.modules,i=e.removeModule,o=e.upgradeModule;return t?(t.sort((function(e,n){return e.name===n.name?0:e.name>n.name?1:-1})),(0,r.tZ)(r.HY,{children:t.map((function(e){return(0,r.tZ)(Yb,{removeModule:i,upgradeModule:o,moduleId:e.id,module:e,registry:n},e.id)}))})):(0,r.tZ)(c.G,{css:[l.l0.p(8)],children:"Loading..."})}function Yb(e){var n=e.moduleId,t=e.module,i=e.removeModule,o=e.upgradeModule,a=e.registry,s=null===a||void 0===a?void 0:a.recommendUpgrade[t.resolvedId],u=(0,d.useMemo)((function(){if(!a)return null;var e=a.recommendUpgrade[t.resolvedId];if(!e)return null;var n=e.to.split(":")[0];return a.modules.find((function(e){return e.id===n}))}),[a,t.resolvedId]);return(0,r.tZ)(ab.Q,{css:[{borderTop:"1px solid #ccc"},l.l0.pb(8)],headerContent:function(e){var i=e.isExpanded;return(0,r.BX)(c.G,{css:[l.l0.flex.row,l.l0.fontSize(16),l.l0.px(12),l.l0.py(8),{"[aria-selected=true]":[l.l0.fontWeight.medium]}],children:[t.name," ",t.version,!i&&s?(0,r.tZ)(Mb.Z,{alt:"Upgrade available"}):null]},n)},children:(0,r.BX)(c.G,{css:[l.l0.position.relative],children:[(0,r.tZ)(qb,{module:t}),s?(0,r.tZ)(me.u,{tooltip:s.changelog,children:(0,r.tZ)(ce.zx,{iconRight:(0,r.tZ)(Mb.Z,{}),text:"Upgrade to ".concat(null===u||void 0===u?void 0:u.name," v").concat(null===u||void 0===u?void 0:u.version),onClick:function(){o(t.referencedId,s.to)}})}):null,(0,r.tZ)(ce.zx,{css:[l.l0.position.absolute,l.l0.top(8),l.l0.right(8)],text:"",iconLeft:(0,r.tZ)(Ro.Z,{}),small:!0,onClick:(0,tt.Z)((function(){return(0,rt.__generator)(this,(function(e){switch(e.label){case 0:return[4,i(t.referencedId)];case 1:return e.sent(),[2]}}))}))})]})})}function qb(e){var n=e.module;return(0,r.BX)("ul",{css:[l.l0.pl(12)],children:["resolve"===n.buildType?(0,r.BX)("li",{css:[l.l0.pl(8)],children:["Registry ID: ",n.resolvedId]},"resolvedId"):null,"build"===n.buildType?(0,r.BX)("li",{css:[l.l0.pl(8)],children:["Built from: ",n.resolvedId]},"buildType"):null,n.referencedId!==n.resolvedId?(0,r.BX)("li",{css:[l.l0.pl(8)],children:["Originally installed version: ",n.referencedId]},n.referencedId):null,n.runners.map((function(e){return(0,r.BX)("li",{css:[l.l0.pl(8)],children:["Runner: ",e.name]},e.id)})),n.debuggers.map((function(e){return(0,r.BX)("li",{css:[l.l0.pl(8)],children:["Debugger: ",e.name]},e.id)})),n.languageServers.map((function(e){return(0,r.BX)("li",{css:[l.l0.pl(8)],children:["Language server: ",e.name]},e.id)})),n.packagers.map((function(e){return(0,r.BX)("li",{css:[l.l0.pl(8)],children:["Packager: ",e.name]},e.id)}))]})}var Kb={Content:function(){return(0,r.tZ)(c.G,{css:[l.l0.p(8)],children:(0,r.tZ)(Fb,{})})},Icon:function(e){var n=e.size;return(0,r.tZ)(Ob.Z,{size:n})},getTitle:function(){return"Modules"}},$b={Content:function(e){var n,t=e.pane;return(0,r.tZ)(se.Tg,{css:{width:"100%",height:"100%",borderBottomLeftRadius:"4px",borderBottomRightRadius:"4px",overflow:"hidden"},children:(0,r.tZ)("iframe",{title:"Replit Docs",src:(null===t||void 0===t||null===(n=t.data)||void 0===n?void 0:n.url)||_v.TT.HOME,width:"100%",height:"100%",frameBorder:"0"})})},Icon:function(e){var n=e.size;return(0,r.tZ)(Na.Z,{size:n})},getTitle:function(){return"Docs"}},Qb=["youtube.com","vimeo.com","wistia.com","sadanandpai.github.io"],Jb={Content:function(e){var n=e.pane.data;return(0,r.tZ)(ex,{title:n.title,embedUrl:n.embedUrl})},Icon:function(e){var n=e.size;return(0,r.tZ)(_c.Z,{size:n})},getTitle:function(e){return e.data.title}};function ex(e){return function(e){try{var n=new URL(e).hostname;return Qb.some((function(e){return n===e||n.endsWith("."+e)}))}catch(t){return!1}}(e.embedUrl)?(0,r.tZ)("iframe",{title:e.title,src:e.embedUrl,frameBorder:"0",css:[l.l0.coverContainer,l.l0.borderRadius(0,0,8,8)]}):(0,r.BX)("div",{children:["Only YouTube, Vimeo, and Wistia videos are supported."," ",(0,r.tZ)("a",{href:_v.xz,target:"_blank",children:"Request more formats here."})]})}var nx={Content:function(e){var n=e.options;return(0,r.tZ)(se.Tg,{background:"default",css:l.l0.flex.growAndShrink(1),children:(0,r.tZ)(xb,{isChatOnly:!0,openFile:function(e){n.performPaneOperation({operation:"open",secondary:!0,pane:{type:"codeEditor",data:{path:e}}})}})})},Icon:function(e){var n=e.size;return(0,r.tZ)(Gc.Z,{size:n})},getTitle:function(){return"Chat"}},tx=t(38819),rx=t(5795),ix=t(57786),ox=t(71338),ax=t(80928),lx=t(79249),sx=(0,xe.X)({self:[l.l0.position.relative,l.l0.flex.shrink(1),l.l0.width("100%")],iconWrapper:[l.l0.position.absolute,l.l0.top(0),l.l0.right(0),l.l0.height("100%"),l.l0.p(4)]}),cx=d.forwardRef((function(e,n){var t,i=e.onClear,o=(0,vr.Z)(e,["onClear"]);return(0,r.BX)(c.G,{css:sx.self,children:[(0,r.tZ)(lx.w,(0,R.Z)({ref:n},o)),((null===(t=o.value)||void 0===t?void 0:t.length)||0)>0?(0,r.tZ)(c.G,{css:sx.iconWrapper,children:(0,r.tZ)(ue.h,{alt:"Clear search query",tooltipHidden:!0,onClick:i,css:{"&:hover":{backgroundColor:"".concat(l.TV.backgroundHighest," !important")}},children:(0,r.tZ)(la.Z,{})})}):null]})}));cx.displayName="SearchInput";var ux=cx,dx=t(92471),px=t(96351),fx=(0,xe.X)({self:[l.l0.width(32),l.l0.height(32)],queryPill:[l.l0.display.inline,l.l0.fontSize(l.TV.fontSizeDefault)],popover:[{"& > .popover-control-container":l.l0.mr(0)}],replaceButton:[l.l0.width(104)]});function hx(e){var n=e.text;return(0,r.tZ)(px.D,{css:fx.queryPill,text:0===n.length?"\u23b5":n})}function vx(e){var n=e.query,t=e.replacement,i=e.numMatches,o=e.onCancel,a=e.onConfirm;return(0,r.BX)(c.G,{css:[l.l0.colWithGap(24)],children:[(0,r.BX)(s.xv,{children:["Replace ",(0,r.tZ)(hx,{text:n})," with ",(0,r.tZ)(hx,{text:t})," ","in ",(0,Vn.Z)("match",i,!0),"?"]}),(0,r.tZ)(s.xv,{children:"This operation cannot be undone!"}),(0,r.BX)(c.G,{css:[l.l0.rowWithGap(12),l.l0.justify.end],children:[(0,r.tZ)(ce.zx,{onClick:function(){return o()},text:"Cancel"}),(0,r.tZ)(ce.zx,{colorway:"negative",onClick:function(){return a()},text:"Yes, replace ".concat((0,Vn.Z)("match",i,!0)),iconLeft:(0,r.tZ)(dx.Z,{})})]})]})}function mx(e){var n=e.disabled,t=e.loading,i=e.query,o=e.replacement,a=e.results,l=e.replace,s=e.onReplace,u=e.buttonProps,p=(0,d.useState)(!1),f=p[0],h=p[1],v=(0,Za.Z)(),m=function(){var e=(0,tt.Z)((function(){var e;return(0,rt.__generator)(this,(function(n){switch(n.label){case 0:return h(!1),(0,g.j)(g.U3.SEARCH_PANE_USED,{action:"replace"}),[4,l()];case 1:return e=n.sent(),v.current&&e.success&&s(),[2]}}))}));return function(){return e.apply(this,arguments)}}(),Z=(0,d.useMemo)((function(){return a.reduce((function(e,n){return e+n.lines.reduce((function(e,n){return e+n.matches.length}),0)}),0)}),[a]);return(0,r.tZ)(c.G,{css:fx.popover,children:(0,r.BX)(Pe.Z,{isOpen:f,maxWidth:400,showArrow:!0,children:[(0,r.tZ)(ce.zx,(0,he.Z)((0,R.Z)({},u),{text:"Replace All",css:fx.replaceButton,disabled:n||t,onClick:function(){h((function(e){return!e}))}})),(0,r.tZ)(vx,{query:i,replacement:o,numMatches:Z,onCancel:function(){return h(!1)},onConfirm:m})]})})}var gx=t(57388),Zx=t(94629),bx=t(50993),xx=t(76735),yx=(0,xe.X)({self:[l.l0.flex.row,l.l0.rowWithGap(4),l.l0.align.center,l.l0.justify.center,l.l0.pt(8),l.l0.pb(8),l.l0.width("100%"),l.l0.flex.wrap],text:[l.l0.display.block,l.l0.textAlign.center,{overflow:"visible",whiteSpace:"normal"}]});function wx(e){var n=e.error;return(0,r.BX)(c.G,{css:yx.self,children:[(0,r.tZ)(xx.Z,{}),(0,r.tZ)(s.xv,{css:yx.text,multiline:!1,children:n})]})}var kx=(0,xe.X)({self:[l.l0.width("fit-content"),l.l0.display.inlineBlock,l.l0.color.accentNegativeDefault,l.l0.fontWeight.bold]});function Cx(e){var n=e.content;return(0,r.tZ)(r.HY,{children:n.split("\n").reduce((function(e,n,t){return null===e?[n]:(0,Qe.Z)(e).concat([(0,r.tZ)(c.K.span,{css:kx.self,children:"\\n"},"".concat(n,"-").concat(t)),n])}),null)})}var Sx,Rx,Tx=c.K.span,Ex=50,Ix="SearchMatch";!function(e){e.HIGHLIGHT="highlight",e.REMOVE="remove",e.ADD="add",e.TEXT="text"}(Sx||(Sx={}));var Gx=(0,xe.X)((Rx={self:[l.l0.width("fit-content"),l.l0.display.inlineBlock,l.l0.cursor.pointer,{"&:focus-visible":[l.l0.focusRing]}]},(0,C.Z)(Rx,Sx.HIGHLIGHT,[l.l0.px(2),l.l0.backgroundColor.accentPrimaryDimmest,l.l0.borderRadius(4),l.l0.border({color:l.TV.accentPrimaryDimmer,width:1,direction:"full"})]),(0,C.Z)(Rx,Sx.REMOVE,[l.l0.px(2),l.l0.backgroundColor.accentNegativeDimmest,l.l0.borderRadius(4),l.l0.border({color:l.TV.accentNegativeDimmer,width:1,direction:"full"}),{textDecoration:"line-through"}]),(0,C.Z)(Rx,Sx.ADD,[l.l0.px(2),l.l0.backgroundColor.accentPositiveDimmest,l.l0.borderRadius(4),l.l0.border({color:l.TV.accentPositiveDimmer,width:1,direction:"full"})]),(0,C.Z)(Rx,"hiddenTextWrapper",[l.l0.display.inlineBlock,l.l0.mx(2),{"& > div":[l.l0.display.inlineBlock],transform:"translateY(12.5%)"}]),(0,C.Z)(Rx,"firstHiddenTextWrapper",[l.l0.ml(0)]),(0,C.Z)(Rx,"lastHiddenTextWrapper",[l.l0.mr(0)]),Rx));function Dx(e){var n=e.content,t=e.matches,i=e.dedentBy,o=e.replacement,a=e.isRegex,l=e.query,s=e.onOpenAtPosition;return(0,r.tZ)(r.HY,{children:Px({content:n,matches:t,dedentBy:i,replacement:o}).map((function(e,t,i){var c=e.start,u=e.end,p=e.type,f="".concat(c,"-").concat(u),h=u-c;if("text"===p){var v=i[t+1];if(0===t&&h>Ex)return(0,r.BX)(d.Fragment,{children:[(0,r.tZ)(Tx,{css:[Gx.hiddenTextWrapper,Gx.firstHiddenTextWrapper],children:(0,r.tZ)(ue.h,{size:18,alt:"Jump to hidden text",onClick:function(){s(u-Ex)},children:(0,r.tZ)(lo.MoreHorizontal,{})})},f),(0,r.tZ)("span",{children:n.substring(u-Ex,u)})]},f);if(t===i.length-1&&h>Ex)return(0,r.BX)(d.Fragment,{children:[(0,r.tZ)("span",{children:n.substring(c,c+Ex)}),(0,r.tZ)(Tx,{css:[Gx.hiddenTextWrapper,Gx.lastHiddenTextWrapper],children:(0,r.tZ)(ue.h,{size:18,alt:"Jump to hidden text",onClick:function(){s(c+Ex)},children:(0,r.tZ)(lo.MoreHorizontal,{})})},f)]},f);if(v&&h>100)return(0,r.BX)(d.Fragment,{children:[(0,r.tZ)("span",{children:n.substring(c,c+Ex)}),(0,r.tZ)(Tx,{css:Gx.hiddenTextWrapper,children:(0,r.tZ)(ue.h,{size:18,alt:"Jump to hidden text",onClick:function(){s(c+Ex)},children:(0,r.tZ)(lo.MoreHorizontal,{})})},f),(0,r.tZ)("span",{children:n.substring(u-Ex,u)})]},f)}var m=-1===c?o:n.substring(c,u);if("text"===p)return(0,r.tZ)(d.Fragment,{children:m},f);var g=null,Z=i[t-1];return p===Sx.ADD&&(null===Z||void 0===Z?void 0:Z.type)===Sx.REMOVE&&(g=n.substring(Z.start,Z.end)),(0,r.tZ)(Bx,{content:m,type:p,isRegex:a,query:l,replacement:o,removedText:g,onClick:function(e){e.stopPropagation(),s(u)}},f)}))})}function Bx(e){var n=e.content,t=e.type,i=e.isRegex,o=e.replacement,a=e.query,l=e.removedText,s=(0,vr.Z)(e,["content","type","isRegex","replacement","query","removedText"]),u=n,d=void 0;switch(t){case Sx.HIGHLIGHT:d="Matched text ".concat(u);break;case Sx.REMOVE:d="Removed text ".concat(u);break;case Sx.ADD:if(d="Added text ".concat(u),i&&null!==l)try{u=l.replace(new RegExp(a),o.replaceAll(/\$[&`']/g,"$$$&"))}catch(p){}}return(0,r.tZ)(c.K.span,(0,he.Z)((0,R.Z)({css:[Gx.self,Gx[t]],tabIndex:0,"aria-label":d,role:"button","data-nav":Ix},s),{children:t===Sx.ADD?(0,r.tZ)(Cx,{content:u}):u}))}function Px(e){for(var n=e.content,t=e.matches,r=e.dedentBy,i=e.replacement,o=[],a=r,l=0;l<t.length;l++){var s=t[l],c=s.start+s.length;o.push({start:a,end:s.start,type:Sx.TEXT});var u=n.substring(s.start,c);i.length>0&&i!==u?(o.push({start:s.start,end:c,type:Sx.REMOVE}),o.push({start:-1,end:c,type:Sx.ADD})):o.push({start:s.start,end:c,type:Sx.HIGHLIGHT,matchIndex:l}),a=c}return o.push({start:a,end:n.length,type:Sx.TEXT}),o}var _x="SearchLine",Ax="--search-line-number-width",Ux=(0,xe.X)({self:[l.l0.rowWithGap(8),l.l0.align.stretch,l.l0.overflow("hidden"),l.l0.cursor.pointer,l.l0.borderRadius(4),{"&:focus-visible":[l.l0.focusRing],"&:hover, &:focus-visible":[l.l0.backgroundColor.backgroundHighest]}],content:[l.l0.font.code,l.l0.maxWidth("100%"),l.l0.width("fit-content"),{whiteSpace:"pre-wrap",overflowWrap:"break-word",lineHeight:l.TV.lineHeightDefault}],lineNumberWrapper:[l.l0.display.inlineBlock,l.l0.color.foregroundDimmest,l.l0.mr(8),l.l0.pl(8),l.l0.pt(4)],lineNumber:[l.l0.display.inlineBlock,l.l0.textAlign.right,{width:"var(".concat(Ax,")")}]});function Lx(e){var n=e.lineNumber,t=e.content,i=e.matches,o=e.path,a=e.dedentBy,l=e.performPaneOperation,s=(0,vr.Z)(e,["lineNumber","content","matches","path","dedentBy","performPaneOperation"]),u=(0,at.Z)((function(){return function(e){(0,g.j)(g.U3.SEARCH_PANE_RESULT_CLICKED,(0,R.Z)({},s)),l({operation:"open",pane:{type:"codeEditor",data:{path:o,line:n,col:e}},secondary:!0})}}),[n,s,o,l]),d=(0,at.Z)((function(){return function(){var e=i.length>0?i[0]:null;u(e?e.start+e.length:0)}}),[i,u]);return(0,r.BX)(c.G,{tabIndex:0,css:Ux.self,"data-nav":_x,onKeyDown:function(e){"Enter"===e.key&&(e.preventDefault(),e.stopPropagation(),d())},onClick:d,children:[(0,r.tZ)(c.G,{css:Ux.lineNumberWrapper,children:(0,r.tZ)(c.G,{tag:"span",css:Ux.lineNumber,"aria-label":"Line ".concat(n),children:n})}),(0,r.tZ)("pre",{css:Ux.content,children:(0,r.tZ)(Dx,{isRegex:s.isRegex,content:t,matches:i,dedentBy:a,query:s.query,replacement:s.replacement,onOpenAtPosition:u})})]})}function zx(e){return Math.log(e)*Math.LOG10E+1|0}var Ox="SearchFileNav",Xx="SearchFileHeaderNav",jx="SearchQueryNav",Nx="SearchQueryTogglesNav",Mx=cn.Wx.space24,Fx=parseInt(Mx,10)+10,Wx=(0,xe.X)({header:[l.l0.rowWithGap(8),l.l0.align.center,l.l0.flex.row,l.l0.flex.growAndShrink(1),l.l0.overflow("hidden"),l.l0.height(Mx),l.l0.overflow("hidden")],headerText:[l.l0.flex.shrink(1)],gap:[l.l0.height(24),l.l0.display.flex,l.l0.align.center,l.l0.truncate],accordionWrapper:[l.l0.backgroundColor.backgroundHigher,l.l0.borderRadius(4)],accordionChildren:[l.l0.p(8)],linesWrapper:[l.l0.py(8),l.l0.overflow("hidden"),l.l0.borderRadius(4),l.l0.colWithGap(2),l.l0.font.code],hiddenLineWrapper:[l.l0.display.flex,l.l0.justify.end,{width:"calc(var(".concat(Ax,") + ").concat(cn.TV.space16,")"),"& > div":[l.l0.align.end]}],padding:l.l0.pb(8)});function Vx(e){var n=e.path,t=e.lines,i=e.dedentBy,o=e.isFirst,a=e.isLast,l=e.expanded,u=void 0===l||l,p=e.onClick,f=e.performPaneOperation,h=e.scrollOffset,v=void 0===h?0:h,m=(0,vr.Z)(e,["path","lines","dedentBy","isFirst","isLast","expanded","onClick","performPaneOperation","scrollOffset"]),g=(0,d.useRef)(null),Z=(0,w.Z)((0,at.Z)((function(){return[t.reduce((function(e,n){return e+n.matches.length}),0),Hx(t)]}),[t]),2),b=Z[0],x=Z[1],y=(0,at.Z)((function(){var e=t[t.length-1];if(!e)return{};var n=zx(e.lineNumber);return(0,C.Z)({},Ax,"".concat(n,"ch"))}),[t]);return(0,r.tZ)(c.G,{css:[!a&&Wx.padding,y],"data-nav":Ox,innerRef:g,children:(0,r.tZ)(se.Tg,{css:Wx.accordionWrapper,elevated:!0,children:(0,r.tZ)(ab.Q,{expanded:u,onClick:function(){p(g.current)},headerProps:{"data-nav":"".concat(Xx," ").concat(_x," ").concat(o?"".concat(jx," ").concat(Nx):""),style:{position:"sticky",zIndex:1,insetBlockStart:"-".concat(v,"px"),background:cn.TV.backgroundHigher}},headerContent:(0,r.BX)(c.G,{css:Wx.header,children:[(0,r.tZ)(Zt.Z,{path:n}),(0,r.tZ)(s.xv,{css:Wx.headerText,multiline:!1,children:n.replace(/^\.\//,"")}),(0,r.BX)(s.xv,{color:"dimmest",css:Wx.headerText,multiline:!1,children:[b," ",(0,Vn.Z)("match",b)]})]}),children:(0,r.tZ)(c.G,{css:Wx.accordionChildren,children:(0,r.tZ)(se.Tg,{css:Wx.linesWrapper,children:t.map((function(e,t){return(0,r.BX)(d.Fragment,{children:[(0,r.tZ)(Lx,(0,he.Z)((0,R.Z)({},e,m),{path:n,dedentBy:i,performPaneOperation:f})),0!==x[t]?(0,r.tZ)(c.G,{css:Wx.hiddenLineWrapper,children:(0,r.tZ)(ue.h,{alt:"".concat(x[t]," hidden ").concat((0,Vn.Z)("line",x[t])),onClick:function(){f({operation:"open",pane:{type:"codeEditor",data:{path:n,line:e.lineNumber+1,col:0}},secondary:!0})},children:(0,r.tZ)(lo.MoreVertical,{})})}):null]},e.lineNumber)}))})})})})})}function Hx(e){return e.map((function(n,t){var r=e[t+1];return r?r.lineNumber-n.lineNumber-1:0}))}function Yx(e,n){var t=function(e){return Hx(e).map((function(e){return e>0}))}(e).filter((function(e){return e})).length,r=e.length;if(n)for(var i=n-48,o=0;o<e.length;o++){var a=e[o],l=9*zx(o)+9*a.content.length+4*a.matches.length;l>i&&(r+=Math.floor(i/l)+1)}return Fx+40+24.39*r+2*r+24*t}var qx=function(e){var n;null===(n=e.focus)||void 0===n||n.call(e)};function Kx(e){var n=e.isValid,t=e.move,r=e.focus,i=void 0===r?qx:r,o=e.wrap,a=void 0!==o&&o,l=e.selector,s=e.boundary,c=(0,d.useRef)(null);return(0,d.useEffect)((function(){if(c.current){var e=c.current,r=function(r){var o;if(n(r)&&0!==(o=l?(0,Qe.Z)(e.querySelectorAll(l)):function(e){var n=e.querySelectorAll('a[href],button,input,textarea,select,details,[tabindex]:not([tabindex="-1"])');return(0,Qe.Z)(n)}(e)).length){var c=document.activeElement;if(e.contains(c)){if(l)if(s){var u=null===c||void 0===c?void 0:c.closest(s),d=null===c||void 0===c?void 0:c.closest(l);c=d||(null===u||void 0===u?void 0:u.querySelector(l))}else c=null===c||void 0===c?void 0:c.closest(l);if(!l||c&&e.contains(document.activeElement)){if(!c)return r.preventDefault(),r.stopPropagation(),void i(o[0]);var p=o.findIndex((function(e){return e===c}));if(-1===p)return r.preventDefault(),r.stopPropagation(),void i(o[0]);var f,h=t({event:r,children:o,activeIndex:p,activeElement:c});if(a||!(h<0||h>o.length-1))f=h<0?o[o.length-1]:h>o.length-1?o[0]:o[h],i(f),r.stopPropagation(),r.preventDefault()}else{var v;r.preventDefault(),r.stopPropagation();var m=null===(v=document.activeElement)||void 0===v?void 0:v.querySelector(l);i(m||o[0])}}}};return e.addEventListener("keydown",r),function(){e.removeEventListener("keydown",r)}}}),[s,n,t,i,c,l,a]),c}var $x=t(9911),Qx=(0,xe.X)({container:[l.l0.p(4),l.l0.display.flex,l.l0.flex.row,l.l0.justify.spaceBetween],resultCount:[l.l0.color.foregroundDimmer],actions:[l.l0.display.flex,l.l0.rowWithGap(4)]});function Jx(e){var n="collapse"===e.collapseExpandAllState;return(0,r.BX)(c.G,{css:Qx.container,children:[(0,r.BX)(c.G,{css:Qx.resultCount,children:[e.totalCount," results in ",(0,Vn.Z)("file",e.fileCount,!0)]}),(0,r.BX)(c.G,{css:Qx.actions,children:[(0,r.tZ)(ue.h,{alt:"Open New Search",onClick:e.onStartNewSearch,children:(0,r.tZ)(Qi.Z,{})}),(0,r.tZ)(ue.h,{alt:n?"Collapse All":"Expand All",onClick:e.onToggleCollapseExpandAll,children:n?(0,r.tZ)($x.Z,{}):(0,r.tZ)(ix.Z,{})})]})]})}var ey=c.K.span,ny=(0,xe.X)({root:[l.l0.display.flex,l.l0.colWithGap(8),l.l0.align.center,l.l0.py(16)],icon:[l.l0.color.foregroundDimmest],message:[l.l0.color.foregroundDimmest]});function ty(e){var n=e.icon,t=void 0===n?null:n,i=e.message,o=void 0===i?"No results found.":i;return(0,r.BX)(c.G,{css:ny.root,children:[t?(0,r.tZ)(c.G,{css:ny.icon,children:t}):null,(0,r.tZ)(ey,{css:ny.message,children:o})]})}var ry=(0,i.F4)({from:{opacity:0},to:{opacity:1}}),iy=(0,xe.X)({listWrapper:[l.l0.overflowY("auto"),l.l0.flex.grow(1),{contain:"strict"}],list:[l.l0.width("100%"),l.l0.position.relative],listItem:[l.l0.position.absolute,l.l0.top(0),l.l0.left(0),l.l0.width("100%")],resultCount:[l.l0.p(4),l.l0.pb(8),l.l0.color.foregroundDimmer],resultRow:[{animation:"".concat(ry," 120ms linear forwards")}]});function oy(e){var n=e.results,t=e.error,i=e.paneRef,o=e.performPaneOperation,a=(0,vr.Z)(e,["results","error","paneRef","performPaneOperation"]),l=(0,at.Z)((function(){return n.filter((function(e){return e.lines.length>0}))}),[n]),s=(0,at.Z)((function(){return l.reduce((function(e,n){return e+n.lines.reduce((function(e,n){return e+n.matches.length}),0)}),0)}),[l]),u=(0,d.useState)({}),p=u[0],f=u[1],h=(0,d.useRef)(null),v=(0,Zx.MG)({count:l.length,getScrollElement:function(){return h.current},estimateSize:function(e){var n;return Yx(l[e].lines,null===i||void 0===i||null===(n=i.current)||void 0===n?void 0:n.offsetWidth)},overscan:3}),m=v.getVirtualItems(),g=(0,d.useRef)(null),Z=(0,d.useCallback)((function(e){var n=e,t=h.current;if(t&&g.current!==e)if(n.matches('[data-nav*="'.concat(Xx,'"]')))n.focus();else{var r=n.closest('[data-nav="'.concat(Ox,'"]')),i=null===r||void 0===r?void 0:r.querySelector('[data-nav*="'.concat(Xx,'"]'));if(i){var o=i.getBoundingClientRect();if(i.offsetTop+o.height>n.offsetTop){var a=n.offsetTop-o.height;g.current=e;var l=function(){if(t.scrollTop===a){if(t.removeEventListener("scroll",l),g.current!==e)return;n.focus(),g.current=null}};t.addEventListener("scroll",l),t.scrollTo({top:a})}else n.focus()}else n.focus()}}),[]),b=function(e){var n=(0,d.useCallback)((function(e){return"Tab"===e.key}),[]),t=(0,d.useCallback)((function(e){var n=e.event,t=e.activeIndex;return n.shiftKey?t-1:t+1}),[]);return Kx((0,he.Z)((0,R.Z)({},e),{isValid:n,move:t}))}({selector:'[data-nav*="'.concat(Xx,'"]'),boundary:'[data-nav*="'.concat(Ox,'"]')}),x=function(e){var n=(0,d.useCallback)((function(e){return"ArrowUp"===e.key||"ArrowDown"===e.key}),[]),t=(0,d.useCallback)((function(e){var n=e.event,t=e.activeIndex;return"ArrowUp"===n.key?t-1:t+1}),[]);return Kx((0,he.Z)((0,R.Z)({},e),{isValid:n,move:t}))}({selector:'[data-nav*="'.concat(_x,'"]'),focus:Z}),y=function(e){var n=(0,d.useCallback)((function(e){return"ArrowLeft"===e.key||"ArrowRight"===e.key}),[]),t=(0,d.useCallback)((function(e){var n=e.event,t=e.activeIndex;return"ArrowLeft"===n.key?t-1:t+1}),[]);return Kx((0,he.Z)((0,R.Z)({},e),{isValid:n,move:t}))}({selector:'[data-nav*="'.concat(Ix,'"]'),focus:Z}),w=(0,vl.lq)(b,x,y),k=(0,at.Z)((function(){return l.length===Object.keys(p).length&&Object.values(p).every(Boolean)}),[p,l.length]),S=null;return l.length>0?S=function(){var e;return(0,r.BX)(r.HY,{children:[(0,r.tZ)(Jx,{fileCount:l.length,totalCount:s,collapseExpandAllState:k?"expand":"collapse",onToggleCollapseExpandAll:function(){f(k?{}:l.reduce((function(e,n){return(0,he.Z)((0,R.Z)({},e),(0,C.Z)({},n.path,!0))}),{}))},onStartNewSearch:function(){o({operation:"commit"}),o({operation:"open",pane:{type:"searchReplace"}})}}),(0,r.tZ)(c.K.div,{ref:h,css:iy.listWrapper,children:(0,r.tZ)(c.G,{css:iy.list,style:{height:v.getTotalSize()},children:(0,r.tZ)(c.G,{css:iy.listItem,style:{transform:"translateY(".concat(null===(e=m[0])||void 0===e?void 0:e.start,"px)")},innerRef:w,children:m.map((function(e){var n,t=l[e.index],i=t.path;return(0,r.tZ)(c.K.div,{"data-index":e.index,ref:v.measureElement,css:iy.resultRow,children:(0,r.tZ)(Vx,(0,he.Z)((0,R.Z)({},t,a),{scrollOffset:null===(n=m[0])||void 0===n?void 0:n.start,performPaneOperation:o,isFirst:0===e.index,isLast:e.index===l.length-1,expanded:!0!==p[i],onClick:function(e){var n;if(f((function(e){return(0,he.Z)((0,R.Z)({},e),(0,C.Z)({},i,!(i in e)||!e[i]))})),h.current&&e){var t,r=Math.floor(null!==(t=null===(n=m[0])||void 0===n?void 0:n.start)&&void 0!==t?t:0),o=Math.floor(h.current.scrollTop),a=e.offsetTop+r;a>o||h.current.scrollTo({top:a-1})}}}))},e.key)}))})})})]})}():t===bx.f.EMPTY_RESULTS&&(S=(0,r.tZ)(ty,{icon:(0,r.tZ)(ht.Z,{size:32}),message:t})),(0,r.BX)(r.HY,{children:[t&&t!==bx.f.EMPTY_RESULTS?(0,r.tZ)(wx,{error:t}):null,S]})}var ay=t(17843);function ly(e){return(0,d.useMemo)((function(){return(0,Qe.Z)((0,ay.Eu)(e,",")).filter((function(e){return e.length>0}))}),[e])}var sy,cy=t(37001);function uy(e){var n=e.replacement,t=e.query,r=e.isRegex,i=e.isCaseSensitive,o=e.isMatchingWholeWords,a=["sd"],l=[t.indexOf("\n")>=0?"m":"e",i?"c":"i"];return o&&l.push("w"),a.push("--flags",l.join("")),r||a.push("--string-mode"),t.startsWith("-")&&(t="\\"+t),a.push(t,n),a}function dy(e){return py.apply(this,arguments)}function py(){return py=(0,tt.Z)((function(e){var n,t,r,i,o,a,l,s,c;return(0,rt.__generator)(this,(function(u){switch(u.label){case 0:return t=e.container,r=e.fileList,0===(i=(0,vr.Z)(e,["container","fileList"])).query.length?[2,{success:!1,errorOn:"exit",errorMessage:sy.QUERY_EMPTY}]:i.query===i.replacement?[2,{success:!1,errorOn:"exit",errorMessage:sy.QUERY_SAME}]:r&&r.length>0?(o=r,[3,3]):[3,1];case 1:return[4,(a=t).exec.apply(a,(0,Qe.Z)((0,cy.PR)((0,he.Z)((0,R.Z)({},i),{context:1,mode:"files"}))))];case 2:if((s=u.sent()).error)return[2,{success:!1,errorOn:"rg",errorMessage:"exit status 1"===s.error?sy.NO_MATCHES:s.error}];o=(null===(l=s.output)||void 0===l?void 0:l.split("\n").filter((function(e){return e.trim().length>0})))||[],u.label=3;case 3:return 0===o.length?[2,{success:!1,errorOn:"rg",errorMessage:sy.NO_MATCHES}]:[4,(n=t).exec.apply(n,(0,Qe.Z)(uy(i)).concat((0,Qe.Z)(o)))];case 4:return(c=u.sent()).error?[2,{success:!1,errorOn:"sd",errorMessage:c.error}]:[2,{success:!0}]}}))})),py.apply(this,arguments)}!function(e){e.QUERY_EMPTY="The query is empty",e.QUERY_SAME="The query is the same as replacement",e.NO_MATCHES="No matches were found to replace",e.RG_EMPTY="Ripgrep didn't return a response",e.NOT_MOUNTED="Component wasn't mounted"}(sy||(sy={}));var fy=t(81203),hy=t(68702);var vy="SearchQueryControlsNav",my="SearchQueryExcludeNav",gy="SearchQueryControlsColumnNav",Zy=(0,i.F4)({from:{transform:"scaleX(0)"},to:{transform:"scaleX(0.9)"}}),by=(0,xe.X)({self:[l.l0.p(8),l.l0.colWithGap(8),l.l0.height("100%"),l.l0.overflow("hidden")],filesIncludeExcludeWrapper:[l.l0.rowWithGap(4),l.l0.align.center,l.l0.flex.shrink(1),l.l0.mt(6),l.l0.mr(96),l.l0.pr(12)],inputWithLabel:[l.l0.flex.growAndShrink(1),l.l0.colWithGap(4)],inputLabel:[{userSelect:"none"},l.l0.flex.shrink(1),l.l0.color.foregroundDimmest,l.l0.truncate,l.l0.mb(2),{fontSize:l.TV.fontSizeSmall}],input:[l.l0.viewStyle,l.l0.border(),{blockSize:l.TV.space32,"::placeholder":{color:l.TV.foregroundDimmest},"&:hover::placeholder":{color:l.TV.foregroundDimmer},"&:focus::placeholder, &:hover:focus::placeholder":{color:l.TV.foregroundDimmest},":not([disabled])":{cursor:"text",":focus":{boxShadow:"none"}}}],optionsWrapper:[l.l0.rowWithGap(4),l.l0.align.center,l.l0.flex.shrink(0)],results:[l.l0.position.relative,l.l0.colWithGap(8),{flex:"1 1 auto"}],searchWrapper:[l.l0.rowWithGap(4),l.l0.align.center,{flex:"0 1 auto"}],replacementWrapper:[l.l0.ml(24),l.l0.pl(4)],replaceInputWrapper:[l.l0.rowWithGap(4),l.l0.align.center,l.l0.flex.shrink(1)],horizontalLine:[l.l0.mt(2),l.l0.mb(8),l.l0.height(1),l.l0.borderRadius(2),l.l0.width("100%"),l.l0.backgroundColor.backgroundHigher],loadingBar:[l.l0.position.absolute,l.l0.mt(2),l.l0.height(1),l.l0.borderRadius(2),l.l0.width("100%"),l.l0.backgroundColor.accentPrimaryDimmer,{animation:"".concat(Zy," 20s 1s ease forwards"),transformOrigin:"center left",transform:"scaleX(0)"}]});function xy(e){var n=e.updatePane,t=e.query,i=e.setQuery,o=e.isRegex,a=e.setIsRegex,l=e.isCaseSensitive,s=e.setIsCaseSensitive,u=e.isMatchingWholeWords,p=e.setIsMatchingWholeWords,f=e.isCollapsed,h=e.setIsCollapsed,v=e.executeSearch,m=(0,d.useRef)(null),g=(0,d.useCallback)((function(){var e,n;null===(e=m.current)||void 0===e||e.select(),null===(n=m.current)||void 0===n||n.focus()}),[]);return(0,xt.L5)((function(){return{type:"searchReplace",focusSearchInput:g}}),[]),(0,xt.Wk)((function(){return{focus:g}}),[g]),(0,r.BX)(c.G,{css:by.searchWrapper,children:[(0,r.tZ)(ue.h,{onClick:function(){return h((function(e){return!e}))},alt:f?"Show replacement options":"Hide replacement options",children:f?(0,r.tZ)(Hi.Z,{}):(0,r.tZ)(ur.Z,{})}),(0,r.tZ)(ux,{"data-nav":"".concat(jx," ").concat(vy),ref:m,autoSize:!0,placeholder:"Search",value:t,css:by.input,onChange:function(e){i(e),n({initialQuery:e})},onClear:function(){i(""),n({initialQuery:""})},onKeyDown:function(e){"Enter"===e.key&&((0,Ki.j)(e)||e.shiftKey||(e.preventDefault(),e.stopPropagation(),v()))}}),(0,r.BX)(c.G,{css:by.optionsWrapper,children:[(0,r.tZ)(gx.Z,{alt:"regular expressions","data-nav":"".concat(vy," ").concat(gy),icon:(0,r.tZ)(ox.Z,{}),checked:o,onClick:function(){return a((function(e){return!e}))}}),(0,r.tZ)(gx.Z,{alt:"case sensitive","data-nav":"".concat(vy," ").concat(gy),icon:(0,r.tZ)(ix.Z,{}),checked:l,onClick:function(){return s((function(e){return!e}))}}),(0,r.tZ)(gx.Z,{alt:"whole words","data-nav":"".concat(vy," ").concat(gy),icon:(0,r.tZ)(ax.Z,{}),checked:u,onClick:function(){return p((function(e){return!e}))}})]})]})}function yy(e){var n=e.updatePane,t=e.replacement,i=e.setReplacement,o=e.query,a=e.replaceLoading,l=e.search,u=e.includeGlob,d=e.setIncludeGlob,p=e.excludeGlob,f=e.setExcludeGlob,h=e.replace,v=e.results;return(0,r.BX)(c.G,{css:by.replacementWrapper,children:[(0,r.BX)(c.G,{css:by.replaceInputWrapper,children:[(0,r.tZ)(ux,{"data-nav":"".concat(jx," ").concat(vy," ").concat(my),autoSize:!0,placeholder:"Replacement",value:t,css:by.input,onChange:function(e){i(e),n({initialReplacement:e})},onClear:function(){i(""),n({initialReplacement:""})}}),(0,r.tZ)(c.G,{css:by.optionsWrapper,children:(0,r.tZ)(mx,{query:o,replacement:t,results:v,disabled:0===o.length,loading:a,replace:h,onReplace:l,buttonProps:{"data-nav":"".concat(vy," ").concat(Nx," ").concat(gy)}})})]}),(0,r.BX)(c.G,{css:by.filesIncludeExcludeWrapper,children:[(0,r.BX)(c.G,{css:by.inputWithLabel,id:"filesToInclude",children:[(0,r.tZ)(s.xv,{css:by.inputLabel,color:"dimmer",multiline:!1,children:"Files to include"}),(0,r.tZ)(ux,{"data-nav":"".concat(jx," ").concat(vy),autoSize:!0,label:"filesToInclude",value:u,css:by.input,placeholder:"e.g. **.js, src/**, app/",onChange:function(e){d(e),n({initialIncludeGlob:e})},onClear:function(){d(""),n({initialIncludeGlob:""})}})]}),(0,r.BX)(c.G,{css:by.inputWithLabel,id:"filesToExclude",children:[(0,r.tZ)(s.xv,{css:by.inputLabel,color:"dimmer",multiline:!1,children:"Files to exclude"}),(0,r.tZ)(ux,{"data-nav":"".concat(vy," ").concat(my),autoSize:!0,label:"filesToExclude",value:p,css:by.input,onChange:function(e){f(e),n({initialExcludeGlob:e})},onClear:function(){f(""),n({initialExcludeGlob:""})}})]})]})]})}function wy(e){var n=e.isActive,t=e.initialQuery,i=void 0===t?"":t,o=e.initialReplacement,a=void 0===o?"":o,l=e.initialIncludeGlob,s=void 0===l?"":l,u=e.initialExcludeGlob,p=void 0===u?"":u,f=e.performPaneOperation,h=(0,d.useState)(i),v=h[0],m=h[1],Z=(0,d.useState)(a),b=Z[0],y=Z[1],w=(0,d.useState)(!1),k=w[0],C=w[1],S=(0,d.useState)(!1),T=S[0],E=S[1],I=(0,d.useState)(!1),G=I[0],D=I[1],B=(0,d.useState)(!0),P=B[0],_=B[1],A=(0,d.useState)(p),U=A[0],L=A[1],z=(0,d.useState)(s),O=z[0],X=z[1],j=ly(U),N=ly(O),M=(0,d.useRef)(null),F=function(e){var n=e.query,t=e.isRegex,r=e.isCaseSensitive,i=e.isMatchingWholeWords,o=e.includeGlobs,a=void 0===o?[]:o,l=e.excludeGlobs,s=void 0===l?[]:l,c=(0,pe.Z)(),u=c.container,p=c.dotReplit,f=(0,fy.n)(p),h=(0,x.P5)({controlName:"flag-code-search-latency-metrics",logFlagToAnalytics:!1}),v=(0,d.useState)([]),m=v[0],g=v[1],Z=(0,d.useState)(null),b=Z[0],y=Z[1],w=(0,d.useState)(n.length>0),k=w[0],C=w[1],S=(0,at.Z)((function(){return(0,Qe.Z)(s).concat((0,Qe.Z)(f||[]),(0,Qe.Z)(ba.h))}),[s,f]),R=u.getConnectionState(),T=(0,Za.Z)(),E=(0,d.useMemo)((function(){return(0,hy.Z)({container:u,onError:function(e){return T.current&&y(e)},onUpdate:function(e){return T.current&&g(e)},onLoadingStateChange:function(e){return T.current&&C(e)},isStreaming:!0,trackLatency:h})}),[]);return(0,d.useEffect)((function(){R===Uv.em.CONNECTED&&E({query:n,isRegex:t,isCaseSensitive:r,isMatchingWholeWords:i,includeGlobs:a,excludeGlobs:S})}),[R,E,n,t,r,i,a,S,f]),{loading:k,error:b,data:m,search:function(){return E({query:n,isRegex:t,isCaseSensitive:r,isMatchingWholeWords:i,includeGlobs:a,excludeGlobs:S})}}}({query:v,isRegex:k,isCaseSensitive:T,isMatchingWholeWords:G,excludeGlobs:j,includeGlobs:N}),W=F.loading,V=F.error,H=F.data,Y=F.search;(0,rx.Z)((function(){""!==v&&(0,g.j)(g.U3.SEARCH_PANE_USED,{action:"search",isRegex:k,isCaseSensitive:T,hasIncludes:N.length>0,hasExcludes:j.length>0})}),[v,N,j,k,T],1e3);var q=function(e){var n=e.query,t=e.replacement,r=e.fileList,i=(0,vr.Z)(e,["query","replacement","fileList"]),o=(0,pe.Z)().container,a=(0,d.useState)(!1),l=a[0],s=a[1],c=(0,d.useState)(null),u=c[0],p=c[1],f=(0,d.useState)(!1),h=f[0],v=f[1],m=(0,Za.Z)();return{replace:(0,d.useCallback)((0,tt.Z)((function(){var e;return(0,rt.__generator)(this,(function(a){switch(a.label){case 0:return v(!0),p(null),[4,dy((0,R.Z)({container:o,query:n,replacement:t,fileList:null===r||void 0===r?void 0:r.map((function(e){return e.path}))},i))];case 1:return e=a.sent(),m.current?(e.success||p(e.errorMessage),v(!1),s(e.success),[2,e]):[2,{success:!1,errorOn:"exit",errorMessage:sy.NOT_MOUNTED}]}}))})),[o,n,t,r,i,m]),loading:h,error:u,data:l}}({replacement:b,query:v,isRegex:k,isCaseSensitive:T,isMatchingWholeWords:G,excludeGlobs:j,includeGlobs:N,fileList:V?void 0:H}),K=q.loading,$=q.replace,Q=(0,d.useCallback)((function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};f({operation:"replace",pane:{type:"searchReplace",data:(0,R.Z)({initialQuery:v,initialReplacement:b,initialExcludeGlob:U,initialIncludeGlob:O},e)}})}),[f,v,b,U,O]);(0,d.useLayoutEffect)((function(){m(i)}),[i]);var J=Kx({selector:'[data-nav*="'.concat(jx,'"]'),isValid:function(e){var n="ArrowUp"===e.key||"ArrowDown"===e.key,t=e.target.matches('[data-nav*="'.concat(jx,'"]')),r=e.target.matches("[data-nav*=".concat(Xx,"]"));return n&&t&&(e.altKey||r)},move:function(e){var n=e.event,t=e.activeIndex;return n.preventDefault(),n.stopPropagation(),"ArrowUp"===n.key?t-1:t+1}}),ee=Kx({selector:'[data-nav*="'.concat(Nx,'"]'),isValid:function(e){var n="ArrowUp"===e.key||"ArrowDown"===e.key,t=e.target.matches('[data-nav*="'.concat(Nx,'"]')),r=e.target.matches("[data-nav*=".concat(Xx,"]"));return n&&t&&!r},move:function(e){var n=e.event,t=e.activeIndex;return n.preventDefault(),n.stopPropagation(),"ArrowUp"===n.key?t-1:t+1}}),ne=Kx({selector:'[data-nav*="'.concat(gy,'"]'),isValid:function(e){var n="ArrowUp"===e.key||"ArrowDown"===e.key;if(e.target.matches('[data-nav*="'.concat(Nx,'"]'))&&"ArrowDown"===e.key)return!1;var t=e.target.matches('[data-nav*="'.concat(gy,'"]'));return n&&t},move:function(e){var n=e.event,t=e.activeIndex,r=e.children,i=n.target.matches('[data-nav*="'.concat(Nx,'"]'));return n.preventDefault(),n.stopPropagation(),i?0:0===t&&"ArrowUp"===n.key?-1:r.length-1}}),te=Kx({selector:'[data-nav*="'.concat(my,'"]'),isValid:function(e){var n="ArrowUp"===e.key||"ArrowDown"===e.key,t=e.target.matches('[data-nav*="'.concat(my,'"]')),r=e.target.matches("[data-nav*=".concat(jx,"]"));return n&&e.altKey&&t&&!r},move:function(e){var n=e.event,t=e.activeIndex;return n.preventDefault(),n.stopPropagation(),"ArrowUp"===n.key?t-1:t+1}}),re=Kx({selector:'[data-nav*="'.concat(vy,'"]'),isValid:function(e){var n="ArrowLeft"===e.key||"ArrowRight"===e.key,t=e.target.matches('[data-nav*="'.concat(gy,'"]'));return n&&(e.altKey||t)},move:function(e){var n=e.event,t=e.activeIndex;return n.preventDefault(),n.stopPropagation(),"ArrowLeft"===n.key?t-1:t+1}}),ie=(0,ti.l)(J,ee,ne,te,re);return(0,r.BX)(c.G,{css:by.self,innerRef:ie,children:[(0,r.tZ)(xy,{isActive:n,query:v,setQuery:m,updatePane:Q,isRegex:k,isCaseSensitive:T,isMatchingWholeWords:G,setIsRegex:C,setIsCaseSensitive:E,setIsMatchingWholeWords:D,isCollapsed:P,setIsCollapsed:_,executeSearch:Y}),P?null:(0,r.tZ)(yy,{replacement:b,setReplacement:y,updatePane:Q,query:v,replaceLoading:K,search:Y,includeGlob:O,setIncludeGlob:X,excludeGlob:U,setExcludeGlob:L,replace:$,results:H}),(0,r.BX)(c.G,{css:by.results,children:[(0,r.tZ)(c.G,{css:by.horizontalLine}),W?(0,r.tZ)(c.G,{css:by.loadingBar},v):null,0===v.length&&0===H.length?(0,r.tZ)(ty,{icon:(0,r.tZ)(ht.Z,{size:32}),message:"Enter a query to start searching."}):(0,r.tZ)(oy,{isRegex:k,query:v,replacement:b,include:O,exclude:U,results:H,error:V,paneRef:M,performPaneOperation:f})]})]})}var ky={getTitle:function(e){var n,t=null===e||void 0===e||null===(n=e.data)||void 0===n?void 0:n.initialQuery;return t&&t.length>0?"Code Search: ".concat(t):"Code Search"},Icon:function(e){var n=e.size;return(0,r.tZ)(ht.Z,{size:n})},Content:function(e){var n=e.pane,t=e.options;return(0,r.tZ)(wy,(0,he.Z)((0,R.Z)({},(null===n||void 0===n?void 0:n.data)||{}),{isActive:t.isActive,performPaneOperation:t.performPaneOperation}))}},Cy=t(71603),Sy=t(32471),Ry=t(38749),Ty=d.forwardRef((function(e,n){var t,i,o,a=e.label,l=e.id,s=e.description,c=e.onChange,u=e.fontFamily,p=void 0===u?"sans-serif":u,f=e.fontSize,h=void 0===f?"medium":f,v=e.fontWeight,m=void 0===v?"regular":v,g=e.foreground,Z=void 0===g?1:g,b=e.placeholder,x=void 0===b?"":b,y=e.validationResults,k=e.value,C=(0,vr.Z)(e,["label","id","description","onChange","fontFamily","fontSize","fontWeight","foreground","placeholder","validationResults","value"]),S=(0,HZ.Z)().ref,T=(0,Ln.H)(),E=l||T("input"),I=s?T("input-description"):void 0,G=(0,w.Z)(d.useState(!1),2),D=G[0],B=G[1];(null===y||void 0===y?void 0:y.some((function(e){return"loading"===e.state})))?t="loading":(null===y||void 0===y?void 0:y.some((function(e){return"error"===e.state})))?(t="error",o="var(--accent-negative-default)",i=(0,r.tZ)(xx.Z,{})):(null===y||void 0===y?void 0:y.every((function(e){return"success"===e.state})))?(t="success",o="var(--accent-positive-default)",i=(0,r.tZ)(Pn.Z,{})):t="default";var P=ga.P3[t],_=(C.className?C.className+" ":"")+P;return(0,r.BX)("div",{className:en().dynamic([["48c1334c65fd9e51",[o,Ry.Z.fontSize[h],Ry.Z.fontFamily[p],Ry.Z.fontWeight[m],Ry.Z.foreground[Z],Ry.Z.lineHeight[h]]]])+" container",children:[a?(0,r.BX)(r.HY,{children:[C.required?(0,r.BX)(Me.Ug,{spacing:"2px",children:[(0,r.tZ)(Ne.Z,{tag:"label",foreground:D?1:2,size:"large"===h?"small":"xsmall",htmlFor:E,children:a}),(0,r.tZ)("span",{className:en().dynamic([["48c1334c65fd9e51",[o,Ry.Z.fontSize[h],Ry.Z.fontFamily[p],Ry.Z.fontWeight[m],Ry.Z.foreground[Z],Ry.Z.lineHeight[h]]]])+" required",children:"*"})]}):(0,r.tZ)(Ne.Z,{tag:"label",foreground:D?1:2,size:"large"===h?"small":"xsmall",htmlFor:E,children:a}),(0,r.tZ)(ma.Z,{height:"4px"})]}):null,(0,r.BX)("div",{className:en().dynamic([["48c1334c65fd9e51",[o,Ry.Z.fontSize[h],Ry.Z.fontFamily[p],Ry.Z.fontWeight[m],Ry.Z.foreground[Z],Ry.Z.lineHeight[h]]]])+" textarea-container",children:[(0,r.tZ)("textarea",(0,he.Z)((0,R.Z)({id:E,placeholder:x,value:k,onChange:c,"aria-busy":"loading"===t,"aria-invalid":"error"===t,"aria-describedby":I},C),{ref:function(e){S(e),n&&("function"!==typeof n?n.current=e:n(e))},onFocus:function(e){B(!0),C.onFocus&&C.onFocus(e)},onBlur:function(e){B(!1),C.onBlur&&C.onBlur(e)},className:en().dynamic([["48c1334c65fd9e51",[o,Ry.Z.fontSize[h],Ry.Z.fontFamily[p],Ry.Z.fontWeight[m],Ry.Z.foreground[Z],Ry.Z.lineHeight[h]]]])+" "+(_||"")})),i?(0,r.tZ)("div",{onMouseEnter:function(){return B(!0)},onMouseLeave:function(){return B(!1)},className:en().dynamic([["48c1334c65fd9e51",[o,Ry.Z.fontSize[h],Ry.Z.fontFamily[p],Ry.Z.fontWeight[m],Ry.Z.foreground[Z],Ry.Z.lineHeight[h]]]])+" icon-container right",children:i}):null]}),s?(0,r.BX)(r.HY,{children:[(0,r.tZ)(ma.Z,{height:"4px"}),(0,r.tZ)(Ne.Z,{id:I,tag:"span",foreground:3,size:h,children:s})]}):null,y&&D?(0,r.tZ)(ga.QE,{validationResults:y}):null,(0,r.tZ)(en(),{id:"48c1334c65fd9e51",dynamic:[o,Ry.Z.fontSize[h],Ry.Z.fontFamily[p],Ry.Z.fontWeight[m],Ry.Z.foreground[Z],Ry.Z.lineHeight[h]],children:".container.__jsx-style-dynamic-selector{display:-webkit-box;display:-webkit-flex;display:-moz-box;display:-ms-flexbox;display:flex;position:relative;-webkit-box-orient:vertical;-webkit-box-direction:normal;-webkit-flex-direction:column;-moz-box-orient:vertical;-moz-box-direction:normal;-ms-flex-direction:column;flex-direction:column;width:100%}.textarea-container.__jsx-style-dynamic-selector{position:relative}.required.__jsx-style-dynamic-selector{color:var(--accent-negative-default);font-size:var(--font-size-small)}.icon-container.__jsx-style-dynamic-selector{display:-webkit-box;display:-webkit-flex;display:-moz-box;display:-ms-flexbox;display:flex;-webkit-box-align:center;-webkit-align-items:center;-moz-box-align:center;-ms-flex-align:center;align-items:center;-webkit-box-pack:center;-webkit-justify-content:center;-moz-box-pack:center;-ms-flex-pack:center;justify-content:center;position:absolute;top:var(--space-8);right:var(--space-8);background-color:var(--background-default);-webkit-border-radius:100%;-moz-border-radius:100%;border-radius:100%;padding:var(--space-4)}.icon-container.right.__jsx-style-dynamic-selector{right:var(--space-8);color:".concat(o,"}textarea.__jsx-style-dynamic-selector{resize:none;font-size:").concat(Ry.Z.fontSize[h],";font-family:").concat(Ry.Z.fontFamily[p],";font-weight:").concat(Ry.Z.fontWeight[m],";color:").concat(Ry.Z.foreground[Z],";line-height:").concat(Ry.Z.lineHeight[h],";background-color:transparent;padding:var(--space-8);-webkit-border-radius:var(--border-radius-4);-moz-border-radius:var(--border-radius-4);border-radius:var(--border-radius-4);outline:none;width:100%;-webkit-box-sizing:border-box;-moz-box-sizing:border-box;box-sizing:border-box;-webkit-transition:.1s;-moz-transition:.1s;-o-transition:.1s;transition:.1s;line-height:1.4}textarea.__jsx-style-dynamic-selector:disabled{opacity:.5}textarea.default.__jsx-style-dynamic-selector:hover{border-color:var(--accent-primary-dimmer)}textarea.success.__jsx-style-dynamic-selector{border-color:var(--accent-positive-default)}textarea.success.__jsx-style-dynamic-selector:hover{border-color:var(--accent-positive-dimmer)}textarea.negative.__jsx-style-dynamic-selector{border-color:var(--accent-negative-default)}textarea.negative.__jsx-style-dynamic-selector:hover{border-color:var(--accent-negative-dimmer)}textarea.__jsx-style-dynamic-selector:active,textarea.__jsx-style-dynamic-selector:focus{border-color:var(--accent-primary-default)}")})]})})),Ey=Ty,Iy=t(5683),Gy=t(83451),Dy=t(45347);function By(e){switch(e){case S.Fl.Match:return"The test passes if the expected output is in the actual output.";case S.Fl.Exact:return"The test passes if the expected output is equal to the actual output.";case S.Fl.Regex:return"The test passes if the actual output matches the regex expression for the expected output.";case S.Fl.Compatibility:return"The test passes if the expected output is in the actual output; some characters are removed for backwards compatibility."}}var Py=function(e){(0,Iy.Z)(t,e);var n=(0,Dy.Z)(t);function t(){for(var e=arguments.length,r=new Array(e),i=0;i<e;i++)r[i]=arguments[i];var o;return(0,Tf.Z)(this,t),(o=n.call.apply(n,[this].concat((0,Qe.Z)(r)))).name=o.constructor.name,o}return t}((0,Gy.Z)(Error));function _y(e){var n={id:e.id},t={id:-e.id,input:{input:e.input?e.input+"\n":""}};switch(e.type){case"compatibility":n.output={compatibility:{expected:e.output}};break;case"match":n.output={match:{expected:e.output,ignoreTrailingWhitespace:!0}};break;case"exact":n.output={exact:{expected:e.output,allowTrailingNewline:!0}};break;case"regex":n.output={regex:{expression:e.output}}}return{id:e.id,instructions:[t,n]}}function Ay(e){var n=e.args,t=e.env,r=n.indexOf("--ps1"),i=n.indexOf("--ps2"),o=n.indexOf("-i");return-1!==r&&null!=n[r+1]&&(n[r+1]=""),-1!==i&&null!=n[i+1]&&(n[i+1]=""),-1!==o&&n.splice(o,1),n.includes("-q")||n.unshift(n.shift(),"-q"),t.PS1="",t.PS2="",{args:n,env:t}}function Uy(e){return Ly.apply(this,arguments)}function Ly(){return Ly=(0,tt.Z)((function(e){var n,t,r,i,o,a,l,s,c,u;return(0,rt.__generator)(this,(function(d){switch(d.label){case 0:return[4,e.getRunConfig()];case 1:if(!(t=d.sent()))throw new Py("unable to fetch dotreplit run config");if(t.interp){if("stderred"===(null===(i=null===(r=t.interp)||void 0===r?void 0:r.command)||void 0===i?void 0:i.args[0])&&("--"===i.args[1]?i.args.splice(0,2):i.args.shift()),!i||i.args.length<1)throw o=new Py("received interp without command"),Ds.Tb(o,(function(e){return e.setExtra("runInfo",u)})),o;return i.args[0].match(/(^|\/)prybar/i)?[2,{execCommand:Ay(i)}]:[2,{execCommand:{args:i.args,env:i.env}}]}if(!(null===(n=t.run)||void 0===n?void 0:n.run))throw a=new Py("Bad repl run config received"),Ds.Tb(a,(function(e){return e.setExtra("runConfig",t)})),a;return l=t.run,s=l.run,c=l.compile,s.env.PS1="",s.env.PS2="",u={execCommand:{args:s.args,env:s.env}},c&&(c.env.PS1="",c.env.PS2="",u.buildCommand={args:c.args,env:c.env}),[2,u]}}))})),Ly.apply(this,arguments)}var zy,Oy=function(e){var n=e.test,t=e.onSubmit,i=e.onCancel,o=e.isOpen,a=e.onRequestClose,l=(0,w.Z)(d.useState({}),2),s=l[0],c=l[1],u=function(e){return{name:(null===e||void 0===e?void 0:e.name)||"",type:(null===e||void 0===e?void 0:e.type)||S.Fl.Match,input:(null===e||void 0===e?void 0:e.input)||"",output:(null===e||void 0===e?void 0:e.output)||""}},p=(0,on.Z)().showError,f=(0,w.Z)(d.useState(u(n)),2),h=f[0],v=f[1];d.useEffect((function(){v(u(n)),c({})}),[n,v]);var m=function(e,n){c((function(t){return(0,he.Z)((0,R.Z)({},t),(0,C.Z)({},e,n?void 0:[{message:e+" expected but not provided.",state:"error"}]))}))};return(0,r.tZ)(tn.u,{isOpen:o,onRequestClose:a,children:(0,r.BX)("div",{className:en().dynamic([["550654d38c65c62e",[""===h.type?"--foreground-dimmer":"--foreground-default"]]])+" manage-tests-view",children:[(0,r.tZ)("div",{className:en().dynamic([["550654d38c65c62e",[""===h.type?"--foreground-dimmer":"--foreground-default"]]])+" header-row",children:(0,r.tZ)(je.Z,{level:4,align:"center",children:n?"Edit test: ":"Create test"})}),(0,r.tZ)("div",{className:en().dynamic([["550654d38c65c62e",[""===h.type?"--foreground-dimmer":"--foreground-default"]]])+" manage-test-row",children:(0,r.tZ)(ga.ZP,{label:"Test name",placeholder:"The name of the test",value:(null===h||void 0===h?void 0:h.name)||"",validationResults:s.name,onChange:function(e){var n;e.persist(),v((function(n){var t;return(0,he.Z)((0,R.Z)({},n),{name:(null===(t=e.target)||void 0===t?void 0:t.value)||""})})),m("name",null===(n=e.target)||void 0===n?void 0:n.value)},maxLength:20})}),(0,r.tZ)("div",{className:en().dynamic([["550654d38c65c62e",[""===h.type?"--foreground-dimmer":"--foreground-default"]]])+" manage-test-row",children:(0,r.tZ)(Ey,{style:{height:"150px"},label:"Input (standard in)",placeholder:"The input for the test",value:h.input,fontFamily:"monospace",translate:"no",onChange:function(e){e.persist(),v((function(n){return(0,he.Z)((0,R.Z)({},n),{input:e.target.value})}))}})}),(0,r.tZ)("div",{className:en().dynamic([["550654d38c65c62e",[""===h.type?"--foreground-dimmer":"--foreground-default"]]])+" manage-test-row",children:(0,r.tZ)(Ey,{style:{height:"150px"},label:"Expected output",validationResults:s.output,placeholder:"The expected output for the test",value:h.output,fontFamily:"monospace",translate:"no",onChange:function(e){var n;e.persist(),v((function(n){return(0,he.Z)((0,R.Z)({},n),{output:e.target.value})})),m("output",null===(n=e.target)||void 0===n?void 0:n.value)}})}),(0,r.tZ)("div",{className:en().dynamic([["550654d38c65c62e",[""===h.type?"--foreground-dimmer":"--foreground-default"]]])+" manage-test-row",children:(0,r.tZ)("div",{className:en().dynamic([["550654d38c65c62e",[""===h.type?"--foreground-dimmer":"--foreground-default"]]])+" dropdown-container",children:(0,r.tZ)(Sy.Z,{items:[S.Fl.Match,S.Fl.Exact,S.Fl.Regex,S.Fl.Compatibility],renderItemChildComponent:function(e){return(0,r.BX)("a",{className:en().dynamic([["550654d38c65c62e",[""===h.type?"--foreground-dimmer":"--foreground-default"]]]),children:[e,(0,r.tZ)("br",{className:en().dynamic([["550654d38c65c62e",[""===h.type?"--foreground-dimmer":"--foreground-default"]]])}),(0,r.tZ)(Ne.Z,{size:"xsmall",children:By(e)})]})},renderAnchorComponent:function(e){var n=e.innerRef,t=(0,vr.Z)(e,["innerRef"]);return(0,r.BX)("a",(0,he.Z)((0,R.Z)({ref:n},t),{className:en().dynamic([["550654d38c65c62e",[""===h.type?"--foreground-dimmer":"--foreground-default"]]])+" dropdown-view dropdown-anchor",children:[(0,r.tZ)(Ne.Z,{children:h.type}),(0,r.tZ)(Ne.Z,{children:(0,r.tZ)(Vr.Z,{})})]}))},onClick:function(e){v((function(n){return(0,he.Z)((0,R.Z)({},n),{type:e})}))}})})}),(0,r.BX)("div",{className:en().dynamic([["550654d38c65c62e",[""===h.type?"--foreground-dimmer":"--foreground-default"]]])+" manage-test-row align-end",children:[(0,r.tZ)(We.Z,{onClick:i,children:"Cancel"}),(0,r.tZ)(We.Z,{color:"primary",filled:!0,onClick:function(){if(!h.name||!h.output)return p("Test name and expected output must be provided."),h.name||m("name"),void(h.output||m("output"));h.type?(t({testId:null===n||void 0===n?void 0:n.id,name:h.name,input:h.input||"",type:h.type,output:h.output}),v(u(void 0))):p("A test type must be provided")},children:"Save"})]}),(0,r.tZ)(en(),{id:"550654d38c65c62e",dynamic:[""===h.type?"--foreground-dimmer":"--foreground-default"],children:".dropdown-container.__jsx-style-dynamic-selector{border:1px solid var(--outline-dimmest);width:100%;-webkit-box-sizing:border-box;-moz-box-sizing:border-box;box-sizing:border-box;-webkit-border-radius:var(--border-radius-4);-moz-border-radius:var(--border-radius-4);border-radius:var(--border-radius-4)}.dropdown-anchor.__jsx-style-dynamic-selector{padding:var(--space-8)}.dropdown-container.__jsx-style-dynamic-selector .anchor{z-index:1}.dropdown-container.__jsx-style-dynamic-selector .dropdown-view{display:-webkit-box;display:-webkit-flex;display:-moz-box;display:-ms-flexbox;display:flex;-webkit-box-orient:horizontal;-webkit-box-direction:normal;-webkit-flex-direction:row;-moz-box-orient:horizontal;-moz-box-direction:normal;-ms-flex-direction:row;flex-direction:row;-webkit-box-pack:justify;-webkit-justify-content:space-between;-moz-box-pack:justify;-ms-flex-pack:justify;justify-content:space-between;text-align:right}.dropdown-container.__jsx-style-dynamic-selector .dropdown-view .text{color:var(".concat(""===h.type?"--foreground-dimmer":"--foreground-default",")}.manage-tests-view.__jsx-style-dynamic-selector{display:-webkit-box;display:-webkit-flex;display:-moz-box;display:-ms-flexbox;display:flex;-webkit-box-pack:justify;-webkit-justify-content:space-between;-moz-box-pack:justify;-ms-flex-pack:justify;justify-content:space-between;-webkit-box-orient:vertical;-webkit-box-direction:normal;-webkit-flex-direction:column;-moz-box-orient:vertical;-moz-box-direction:normal;-ms-flex-direction:column;flex-direction:column;padding:var(--space-16)}.manage-test-row.__jsx-style-dynamic-selector{display:-webkit-box;display:-webkit-flex;display:-moz-box;display:-ms-flexbox;display:flex;-webkit-box-pack:justify;-webkit-justify-content:space-between;-moz-box-pack:justify;-ms-flex-pack:justify;justify-content:space-between;-webkit-box-orient:horizontal;-webkit-box-direction:normal;-webkit-flex-direction:row;-moz-box-orient:horizontal;-moz-box-direction:normal;-ms-flex-direction:row;flex-direction:row;padding-top:var(--space-16)}.align-end.__jsx-style-dynamic-selector{-webkit-box-pack:end;-webkit-justify-content:flex-end;-moz-box-pack:end;-ms-flex-pack:end;justify-content:flex-end}.manage-test-row.__jsx-style-dynamic-selector>button{margin-left:var(--space-8)}.manage-test-row-section.__jsx-style-dynamic-selector{display:-webkit-box;display:-webkit-flex;display:-moz-box;display:-ms-flexbox;display:flex;-webkit-box-pack:start;-webkit-justify-content:start;-moz-box-pack:start;-ms-flex-pack:start;justify-content:start;-webkit-box-orient:vertical;-webkit-box-direction:normal;-webkit-flex-direction:column;-moz-box-orient:vertical;-moz-box-direction:normal;-ms-flex-direction:column;flex-direction:column;margin:0 var(--space-16);width:100%}")})]})})},Xy=function(e){var n=e.test,t=e.onEdit,i=e.onDelete,o=e.onView,a=e.isTeacherView,l=e.status,s=e.isRunning,c=e.onShowFailed,u=e.disableButtons,d="";return l?d=l:s&&(d="Running"),(0,r.BX)("div",{onClick:function(){return o()},className:"jsx-d0055d2df6a917c5 test",children:[(0,r.BX)("div",{className:"jsx-d0055d2df6a917c5 test-row",children:[(0,r.tZ)("div",{className:"jsx-d0055d2df6a917c5 test-text",children:(0,r.tZ)(Ne.Z,{size:"large",children:n.name})}),a?(0,r.tZ)("div",{onClick:function(e){return e.stopPropagation()},className:"jsx-d0055d2df6a917c5 test-row",children:(0,r.BX)(r.HY,{children:[(0,r.tZ)(We.Z,{color:"primary",onClick:t,Icon:wo.Z,disabled:u}),(0,r.tZ)(ma.Z,{width:"var(--space-4)"}),(0,r.tZ)(We.Z,{onClick:i,color:"negative",Icon:Ro.Z,disabled:u})]})}):null]}),l||s?(0,r.BX)(r.HY,{children:[(0,r.tZ)(ma.Z,{height:2}),(0,r.BX)("div",{className:"jsx-d0055d2df6a917c5 test-row",children:[(0,r.tZ)("div",{className:"jsx-d0055d2df6a917c5 test-text",children:(0,r.tZ)(Ne.Z,{className:fa()([{"status-passed":"Passed"===l},{"status-failed":"Failed"===l}]),children:d})}),(0,r.tZ)(We.Z,{onClick:function(e){return e.stopPropagation(),c(e)},disabled:s,children:"Results"})]})]}):null,(0,r.tZ)(en(),{id:"d0055d2df6a917c5",children:".test.jsx-d0055d2df6a917c5{background-color:var(--background-higher);margin-top:var(--space-8);padding:var(--space-8);display:-webkit-box;display:-webkit-flex;display:-moz-box;display:-ms-flexbox;display:flex;-webkit-box-orient:vertical;-webkit-box-direction:normal;-webkit-flex-direction:column;-moz-box-orient:vertical;-moz-box-direction:normal;-ms-flex-direction:column;flex-direction:column;-webkit-box-pack:justify;-webkit-justify-content:space-between;-moz-box-pack:justify;-ms-flex-pack:justify;justify-content:space-between;-webkit-border-radius:var(--border-radius-8);-moz-border-radius:var(--border-radius-8);border-radius:var(--border-radius-8);cursor:pointer}.test-row.jsx-d0055d2df6a917c5 .status-passed{color:var(--accent-positive-default)}.test-row.jsx-d0055d2df6a917c5 .status-failed{color:var(--accent-negative-default)}.test-text.jsx-d0055d2df6a917c5{width:100%;padding:var(--space-4)0;padding-right:var(--space-8);word-break:break-all}.test.jsx-d0055d2df6a917c5:hover{background-color:var(--background-higher)}.test-row.jsx-d0055d2df6a917c5{display:-webkit-box;display:-webkit-flex;display:-moz-box;display:-ms-flexbox;display:flex;-webkit-box-pack:start;-webkit-justify-content:start;-moz-box-pack:start;-ms-flex-pack:start;justify-content:start}"})]})},jy=function(e){var n=e.text;if(!n)return null;var t=n.split("\n").map((function(e,n){return[e,"".concat(n+1)]}));return""===t[t.length-1][0]&&t.pop(),(0,r.BX)(Me.Ug,{children:[(0,r.tZ)("code",{className:"jsx-6ac664c130469a42 gutter",children:(0,r.tZ)("pre",{className:"jsx-6ac664c130469a42",children:t.map((function(e){var n=(0,w.Z)(e,2);n[0];return n[1]})).join("\n")})}),(0,r.tZ)("code",{className:"jsx-6ac664c130469a42 text",children:(0,r.tZ)("pre",{className:"jsx-6ac664c130469a42",children:n})}),(0,r.tZ)(en(),{id:"6ac664c130469a42",children:".gutter.jsx-6ac664c130469a42,.text.jsx-6ac664c130469a42{color:var(--foreground-default)}.gutter.jsx-6ac664c130469a42{min-width:1.5em}.text.jsx-6ac664c130469a42{max-width:80%}"})]})},Ny=t(81362),My=function(e){var n=function(e){var n,t,i=null!==(n=o[e])&&void 0!==n?n:"",s=null!==(t=a[e])&&void 0!==t?t:"",c=0;l.push((0,Ny.Hg)(s,i).flatMap((function(e){var n=e.fromA,t=e.fromB,r=e.toA,o=e.toB,a=[];return n>c&&a.push({chars:s.slice(c,n)}),t!==o&&a.push({chars:i.slice(t,o),style:{backgroundColor:"var(--accent-negative-dimmer)",textDecoration:"line-through"}}),n!==r&&a.push({chars:s.slice(n,r),style:{backgroundColor:"var(--accent-positive-dimmer)",textDecoration:"underline"}}),c=r,a})).map((function(e,n){var t=e.chars,i=e.style;return(0,r.tZ)("span",{style:i,children:t},n)})))},t=e.expected,i=e.actual;if(!t||!i)return null;for(var o=i.split("\n"),a=t.split("\n"),l=[],s=Math.max(a.length,o.length),c=0;c<s;c++)n(c);return(0,r.BX)(Me.Ug,{children:[(0,r.tZ)("code",{className:"jsx-6ac664c130469a42 gutter",children:(0,r.tZ)("pre",{className:"jsx-6ac664c130469a42",children:Array.from({length:s},(function(e,n){return n+1})).join("\n")})}),(0,r.tZ)("code",{className:"jsx-6ac664c130469a42 text",children:(0,r.tZ)("pre",{"data-testid":"TestTextDiffText",className:"jsx-6ac664c130469a42",children:l.map((function(e,n){return(0,r.tZ)(d.Fragment,{children:e},n)}))})}),(0,r.tZ)(en(),{id:"6ac664c130469a42",children:".gutter.jsx-6ac664c130469a42,.text.jsx-6ac664c130469a42{color:var(--foreground-default)}.gutter.jsx-6ac664c130469a42{min-width:1.5em}.text.jsx-6ac664c130469a42{max-width:80%}"})]})},Fy=function(e){var n=e.test,t=e.actualOutput,i=e.isOpen,o=e.isResults,a=e.onRequestClose,l=e.didFail,s=e.error,c=n?By(n.type):"",u=null===t||void 0===t?void 0:t.split("\n"),d=null===n||void 0===n?void 0:n.output.split("\n"),p=null===n||void 0===n?void 0:n.output;return l=null!==l&&void 0!==l?l:"Failed"===(null===n||void 0===n?void 0:n.status),(0,r.BX)(tn.u,{onRequestClose:a,isOpen:i&&void 0!==n,children:[(0,r.BX)("div",{className:"jsx-c7ed87540f6ec33d test-info",children:[(0,r.BX)(Me.gC,{align:"center",spacing:1,children:[(0,r.BX)(je.Z,{level:4,children:[o?"Test results: ":null,null===n||void 0===n?void 0:n.name]}),(0,r.BX)(Me.Ug,{spacing:1,children:[(0,r.tZ)("div",{role:"tooltip","data-microtip-position":"top","aria-label":c,className:"jsx-c7ed87540f6ec33d test-type",children:(0,r.tZ)(Ne.Z,{align:"center",size:"small",children:null===n||void 0===n?void 0:n.type})}),o&&(null===n||void 0===n?void 0:n.status)?(0,r.tZ)("div",{className:"jsx-c7ed87540f6ec33d "+"test-status ".concat(null===n||void 0===n?void 0:n.status),children:(0,r.tZ)(Ne.Z,{align:"center",size:"small",children:null===n||void 0===n?void 0:n.status})}):null]})]}),(0,r.tZ)(ma.Z,{height:6}),(0,r.tZ)("div",{className:"jsx-c7ed87540f6ec33d test-io-row",children:(0,r.BX)("div",{className:"jsx-c7ed87540f6ec33d test-io-section",children:[(0,r.tZ)("div",{className:"jsx-c7ed87540f6ec33d test-io-label",children:o?(0,r.BX)(Me.Ug,{spacing:1,align:"center",children:[(0,r.tZ)(Ne.Z,{size:"medium",children:"Expected output"}),(0,r.tZ)(Ne.Z,{size:"xsmall",children:(0,r.tZ)("span",{"data-microtip-position":"top",role:"tooltip","aria-label":"Your program is expected to print this output.",className:"jsx-c7ed87540f6ec33d help",children:"?"})})]}):(0,r.tZ)(Ne.Z,{size:"medium",children:"Output"})}),(0,r.tZ)(ma.Z,{height:"var(--space-8)"}),(0,r.tZ)("div",{className:"jsx-c7ed87540f6ec33d test-io-box",children:(0,r.tZ)(jy,{text:null===n||void 0===n?void 0:n.output})})]})}),(0,r.tZ)(ma.Z,{height:2}),(0,r.tZ)("div",{className:"jsx-c7ed87540f6ec33d test-io-row",children:(0,r.BX)("div",{className:"jsx-c7ed87540f6ec33d test-io-section",children:[(0,r.tZ)("div",{className:"jsx-c7ed87540f6ec33d test-io-label",children:o?(0,r.BX)(Me.Ug,{spacing:1,align:"center",children:[(0,r.tZ)(Ne.Z,{size:"medium",children:"Actual output"}),(0,r.tZ)(Ne.Z,{size:"xsmall",children:(0,r.tZ)("span",{"data-microtip-position":"top",role:"tooltip","aria-label":"Your program actually printed this output.",className:"jsx-c7ed87540f6ec33d help",children:"?"})})]}):(0,r.tZ)(Ne.Z,{size:"medium",children:"Input"})}),(0,r.tZ)(ma.Z,{height:"var(--space-8)"}),(0,r.tZ)("div",{className:"jsx-c7ed87540f6ec33d test-io-box",children:(0,r.tZ)(jy,{text:o?t:null===n||void 0===n?void 0:n.input})})]})}),o&&l?(0,r.tZ)(r.HY,{children:s?(0,r.BX)(r.HY,{children:[(0,r.tZ)(ma.Z,{height:2}),(0,r.tZ)("div",{className:"jsx-c7ed87540f6ec33d test-io-row",children:(0,r.BX)("div",{className:"jsx-c7ed87540f6ec33d test-io-section",children:[(0,r.tZ)("div",{className:"jsx-c7ed87540f6ec33d test-io-label",children:(0,r.tZ)(Ne.Z,{size:"medium",children:"Error(s)"})}),(0,r.tZ)(ma.Z,{height:"var(--space-8)"}),(0,r.tZ)("div",{className:"jsx-c7ed87540f6ec33d test-io-box",children:(0,r.tZ)(jy,{text:s.stderr||s.message})})]})})]}):(null===n||void 0===n?void 0:n.type)!==S.Fl.Regex&&d&&u&&(0,r.BX)(r.HY,{children:[(0,r.tZ)(ma.Z,{height:2}),(0,r.tZ)("div",{className:"jsx-c7ed87540f6ec33d test-io-row",children:(0,r.BX)("div",{className:"jsx-c7ed87540f6ec33d test-io-section",children:[(0,r.tZ)("div",{className:"jsx-c7ed87540f6ec33d test-io-label",children:(0,r.BX)(Me.Ug,{spacing:1,align:"center",children:[(0,r.tZ)(Ne.Z,{size:"medium",children:"Difference"}),(0,r.tZ)(Ne.Z,{size:"xsmall",children:(0,r.tZ)("span",{"data-microtip-position":"top",role:"tooltip","aria-label":"Modify your output to match the expected output.",className:"jsx-c7ed87540f6ec33d help",children:"?"})})]})}),(0,r.tZ)(ma.Z,{height:"var(--space-8)"}),(0,r.tZ)("div",{className:"jsx-c7ed87540f6ec33d test-io-box",children:(0,r.tZ)(My,{expected:p,actual:t})})]})})]})}):null]}),(0,r.tZ)(en(),{id:"c7ed87540f6ec33d",children:".test-info.jsx-c7ed87540f6ec33d{padding:var(--space-24);display:relative}.test-io-line-spacing.jsx-c7ed87540f6ec33d{width:var(--space-8);-webkit-flex-shrink:0;-ms-flex-negative:0;flex-shrink:0}.test-io-row.jsx-c7ed87540f6ec33d{display:-webkit-box;display:-webkit-flex;display:-moz-box;display:-ms-flexbox;display:flex;-webkit-box-orient:horizontal;-webkit-box-direction:normal;-webkit-flex-direction:row;-moz-box-orient:horizontal;-moz-box-direction:normal;-ms-flex-direction:row;flex-direction:row;-webkit-box-pack:justify;-webkit-justify-content:space-between;-moz-box-pack:justify;-ms-flex-pack:justify;justify-content:space-between}.test-io-line-number.jsx-c7ed87540f6ec33d{display:inline-block;min-width:1.5em;-webkit-flex-shrink:0;-ms-flex-negative:0;flex-shrink:0;display:-webkit-inline-box;display:-webkit-inline-flex;display:-moz-inline-box;display:-ms-inline-flexbox;display:inline-flex;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none}.test-io-line.jsx-c7ed87540f6ec33d{display:-webkit-box;display:-webkit-flex;display:-moz-box;display:-ms-flexbox;display:flex;-webkit-box-orient:horizontal;-webkit-box-direction:normal;-webkit-flex-direction:row;-moz-box-orient:horizontal;-moz-box-direction:normal;-ms-flex-direction:row;flex-direction:row;-webkit-box-pack:start;-webkit-justify-content:start;-moz-box-pack:start;-ms-flex-pack:start;justify-content:start;font-family:var(--font-family-code)}.test-io-line-content.jsx-c7ed87540f6ec33d{display:inline-block}.test-io-label.jsx-c7ed87540f6ec33d{padding-bottom:var(--space-8);-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none}.test-io-label.jsx-c7ed87540f6ec33d .text{color:var(--foreground-dimmer)}.test-io-section.jsx-c7ed87540f6ec33d{display:-webkit-box;display:-webkit-flex;display:-moz-box;display:-ms-flexbox;display:flex;-webkit-box-orient:vertical;-webkit-box-direction:normal;-webkit-flex-direction:column;-moz-box-orient:vertical;-moz-box-direction:normal;-ms-flex-direction:column;flex-direction:column;-webkit-box-pack:start;-webkit-justify-content:start;-moz-box-pack:start;-ms-flex-pack:start;justify-content:start;width:100%}.test-io-box.jsx-c7ed87540f6ec33d{height:100%;border:1px solid var(--outline-dimmest);-webkit-box-sizing:border-box;-moz-box-sizing:border-box;box-sizing:border-box;-webkit-border-radius:var(--border-radius-4);-moz-border-radius:var(--border-radius-4);border-radius:var(--border-radius-4);padding:var(--space-8);display:-webkit-box;display:-webkit-flex;display:-moz-box;display:-ms-flexbox;display:flex;-webkit-box-orient:vertical;-webkit-box-direction:normal;-webkit-flex-direction:column;-moz-box-orient:vertical;-moz-box-direction:normal;-ms-flex-direction:column;flex-direction:column;overflow-x:auto}.test-io-box.jsx-c7ed87540f6ec33d .text{white-space:nowrap}.test-type.jsx-c7ed87540f6ec33d,.test-status.jsx-c7ed87540f6ec33d{background-color:var(--background-highest);-webkit-border-radius:var(--border-radius-4);-moz-border-radius:var(--border-radius-4);border-radius:var(--border-radius-4);padding:var(--space-8);display:inline-block;spacing:1;cursor:pointer;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none}.test-status.jsx-c7ed87540f6ec33d .text{color:var(--white)}.test-status.Passed.jsx-c7ed87540f6ec33d{background-color:var(--accent-positive-default)}.test-status.Failed.jsx-c7ed87540f6ec33d{background-color:var(--accent-negative-default)}.help.jsx-c7ed87540f6ec33d{display:-webkit-inline-box;display:-webkit-inline-flex;display:-moz-inline-box;display:-ms-inline-flexbox;display:inline-flex;-webkit-box-align:center;-webkit-align-items:center;-moz-box-align:center;-ms-flex-align:center;align-items:center;-webkit-box-pack:center;-webkit-justify-content:center;-moz-box-pack:center;-ms-flex-pack:center;justify-content:center;border:1px solid var(--background-higher);-webkit-border-radius:100%;-moz-border-radius:100%;border-radius:100%;width:var(--space-16);height:var(--space-16);-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;cursor:pointer}"})]})},Wy=t(49242),Vy=t(57843),Hy=function(){var e,n,t,i,o,a,l,s,c=(0,pe.Z)(),u=c.iotester,p=c.dotReplit,f=c.container,h=(0,on.Z)(),v=h.showError,m=h.showConfirm,g=(0,w.Z)(d.useState([]),2),Z=g[0],b=g[1],x=(0,w.Z)(d.useState(),2),y=x[0],k=x[1],T=(0,w.Z)(d.useState(f.getConnectionState()),2),E=T[0],I=T[1],G=(0,w.Z)(d.useState(u.state),2),D=G[0],B=G[1],P=(0,w.Z)(d.useState(),2),_=P[0],A=P[1],U=(0,Vy.x)();d.useEffect((function(){return f.onConnectionStateChanged(I)}),[I,f]);var L=(0,Ae.Z)(),z=(0,Bn.CH)({variables:{replId:L}}),O="Repl"===(null===(e=z.data)||void 0===e||null===(n=e.repl)||void 0===n?void 0:n.__typename)?z.data.repl:null,X="Team"===(null===O||void 0===O||null===(t=O.owner)||void 0===t?void 0:t.__typename)&&O.owner.id||null,j=(0,w.Z)((0,Bn.vk)({onCompleted:function(e){e&&e.saveIOTestResults&&v(e.saveIOTestResults.message)}}),1)[0];d.useEffect((function(){var e=[u.onStateChanged((function(e){B(e),X&&e===Wy.Z.Idle&&b((function(e){var n;return j({variables:{replId:L,results:Object.values(e).map((function(e){var t;return{testId:e.testId,status:e.status,output:(null===(t=e.error)||void 0===t?void 0:t.stderr)?(null!==(n=e.output)&&void 0!==n?n:"")+e.error:e.output}})),teamId:X}}).catch((function(n){Ds.Tb(n,(function(n){return n.setExtras({results:e,payload:_})}))})),e}))})),u.onError((function(e){v(e.message)})),u.onTestResult((function(e){b((function(n){var t=(0,he.Z)((0,R.Z)({},n[e.testId]),{testId:e.testId,status:"passed"===e.body?S.kQ.Passed:S.kQ.Failed});return"error"===e.body&&(t.error=e.error),(0,he.Z)((0,R.Z)({},n),(0,C.Z)({},e.testId,t))}))})),u.onInstructionResult((function(e){b((function(n){var t,r,i=Math.abs(e.instructionId),o="";switch(e.body){case"passed":var a;o+=null!==(a=e.passed.output)&&void 0!==a?a:"";break;case"failed":var l;o+=null!==(l=e.failed.output)&&void 0!==l?l:"";break;case"timeout":var s;o+=null!==(s=e.timeout.output)&&void 0!==s?s:"";break;case"error":o+=e.error.message}return(0,he.Z)((0,R.Z)({},n),(0,C.Z)({},i,(0,he.Z)((0,R.Z)({},n[i]),{testId:i,output:(null!==(r=null===(t=Z[i])||void 0===t?void 0:t.output)&&void 0!==r?r:"")+o})))}))}))];return function(){return e.forEach((function(e){return e()}))}}),[Z,v,B,u,L,X,_,j]),d.useEffect((function(){var e=function(e){(0,Qn.Z)(e,Error)&&v(e.message),Ds.Tb(e)};return Uy(p).then(k).catch(e),p.watch((function(){return Uy(p).then(k).catch(e)}))}),[p,k,v]);var N=null===O||void 0===O?void 0:O.ioTests,M=(0,w.Z)((0,Bn.Ne)({onError:function(e){return v(e.message)},onCompleted:function(e){var n;"UserError"===(null===(n=e.deleteTemplateTest)||void 0===n?void 0:n.__typename)?v(e.deleteTemplateTest.message):(m("Test deleted!"),z.refetch())}}),2),F=M[0],W=M[1],V=(0,w.Z)((0,Bn.AA)({onError:function(e){return v(e.message)},onCompleted:function(e){var n;"UserError"===(null===(n=e.updateTemplateTest)||void 0===n?void 0:n.__typename)?v(e.updateTemplateTest.message):"ReplTemplateTest"===e.updateTemplateTest.__typename&&(m("Test updated!"),U.writeFragment({fragment:Bn.Gg,data:e.updateTemplateTest}))}}),2),H=V[0],Y=V[1],q=(0,w.Z)((0,Bn.pV)({onError:function(e){return v(e.message)},onCompleted:function(e){var n;"UserError"===(null===(n=e.createTemplateTest)||void 0===n?void 0:n.__typename)?v(e.createTemplateTest.message):(m("Test created!"),z.refetch())}}),2),K=q[0],$=q[1],Q=z.loading||W.called&&W.loading||Y.called&&Y.loading||$.called&&$.loading;d.useEffect((function(){Q||A(y&&N&&N.length>0?{runInfo:y,tests:N.map(_y)}:void 0)}),[N,y,A,Q]);var J=(0,w.Z)(d.useState(!1),2),ee=J[0],ne=J[1],te=(0,w.Z)(d.useState(!1),2),re=te[0],ie=te[1],oe=(0,w.Z)(d.useState(!1),2),ae=oe[0],le=oe[1],se=(0,w.Z)(d.useState(),2),ce=se[0],ue=se[1],de="undefined"!==typeof ce&&"Repl"===(null===(i=z.data)||void 0===i?void 0:i.repl.__typename)&&z.data.repl.ioTests[ce]||void 0,fe="Repl"===(null===(o=z.data)||void 0===o?void 0:o.repl.__typename)&&z.data.repl.isProject;if(z.error)return(0,r.BX)("div",{className:"jsx-fb1466c53ace89ca wrapper",children:[(0,r.tZ)(Ne.Z,{align:"center",children:"Unable to fetch tests"}),(0,r.tZ)(en(),{id:"fb1466c53ace89ca",children:".wrapper.jsx-fb1466c53ace89ca{padding:var(--deprecated-spacing-2);display:-webkit-box;display:-webkit-flex;display:-moz-box;display:-ms-flexbox;display:flex;-webkit-box-pack:center;-webkit-justify-content:center;-moz-box-pack:center;-ms-flex-pack:center;justify-content:center}"})]});var ve=function(e){var n;if(void 0!==(null===(n=Z[e])||void 0===n?void 0:n.status))return Z[e].status===S.kQ.Passed?"Passed":"Failed"};return(0,r.BX)("div",{className:"jsx-69bed4444090144f tests-panel",children:[(0,r.tZ)("div",{className:"jsx-69bed4444090144f tests-header",children:(0,r.tZ)(je.Z,{level:4,children:"Input/Output Tests"})}),z.loading?(0,r.tZ)("div",{className:"jsx-69bed4444090144f spinner",children:(0,r.tZ)(Ze.Z,{})}):(0,r.BX)("div",{className:"jsx-69bed4444090144f tests",children:[(0,r.BX)("div",{className:"jsx-69bed4444090144f button-bar",children:[fe?(0,r.tZ)(We.Z,{color:"green",Icon:gt.Z,className:"create-test-button",disabled:Q||D!==Wy.Z.Idle,onClick:function(){ue(void 0),ne(!0)},children:"Create test"}):null,!fe&&N&&0===N.length?(0,r.tZ)(Ne.Z,{children:"This project has no tests "}):(0,r.tZ)(We.Z,{color:"positive",Icon:_c.Z,onClick:function(){var e;if(!_||"Repl"!==(null===O||void 0===O?void 0:O.__typename)||"Team"!==(null===(e=O.owner)||void 0===e?void 0:e.__typename)||u.state!==Wy.Z.Idle){var n=new Error("no tests or run info");throw Ds.Tb(n,(function(e){return e.setExtra("payload",_)})),n}b({}),u.run(_).catch((function(e){Ds.Tb(e,(function(e){return e.setExtra("payload",_)})),v(e.message)}))},disabled:Q||D!==Wy.Z.Idle||!_||E!==Df.em.CONNECTED,children:"Run tests"})]}),null===N||void 0===N?void 0:N.map((function(e,n){return(0,r.tZ)(Xy,{test:e,onEdit:function(){ue(n),ne(!0)},onDelete:function(){F({variables:{testId:e.id}})},onView:function(){ue(n),ie(!0),le(!1)},onShowFailed:function(){ue(n),ie(!0),le(!0)},isRunning:D!==Wy.Z.Idle&&void 0!==Z[e.id]&&void 0===Z[e.id].status,isTeacherView:fe,status:ve(e.id),disableButtons:Q||D!==Wy.Z.Idle},e.id)})),(0,r.tZ)(Oy,{test:de,isOpen:ee,readOnly:!fe,onRequestClose:function(){ne(!1),ue(void 0)},onCancel:function(){ne(!1),ue(void 0)},onSubmit:function(e){var n,t,r,i;void 0!==e.testId?(H({variables:{input:e}}),ue(void 0)):"Repl"===(null===(n=z.data)||void 0===n||null===(t=n.repl)||void 0===t?void 0:t.__typename)&&(null===(r=z.data)||void 0===r||null===(i=r.repl)||void 0===i?void 0:i.template)&&K({variables:{input:(0,he.Z)((0,R.Z)({},e),{templateId:z.data.repl.template.id})}}),ne(!1)}}),(0,r.tZ)(Fy,{test:de,isOpen:re,actualOutput:"undefined"!==typeof de?null===(a=Z[de.id])||void 0===a?void 0:a.output:void 0,error:de&&(null===(l=Z[de.id])||void 0===l?void 0:l.error),didFail:de&&(null===(s=Z[de.id])||void 0===s?void 0:s.status)===S.kQ.Failed,isResults:ae,onRequestClose:function(){ie(!1),ue(void 0)}})]}),(0,r.tZ)(en(),{id:"69bed4444090144f",children:".flex-grow.jsx-69bed4444090144f{-webkit-box-flex:1;-webkit-flex-grow:1;-moz-box-flex:1;-ms-flex-positive:1;flex-grow:1}.spacer-1.jsx-69bed4444090144f{padding:var(--space-4)}.tests-header.jsx-69bed4444090144f{display:-webkit-box;display:-webkit-flex;display:-moz-box;display:-ms-flexbox;display:flex;-webkit-box-align:center;-webkit-align-items:center;-moz-box-align:center;-ms-flex-align:center;align-items:center;-webkit-box-pack:justify;-webkit-justify-content:space-between;-moz-box-pack:justify;-ms-flex-pack:justify;justify-content:space-between;position:relative;padding:var(--space-4)0 var(--space-8)0;margin-bottom:var(--space-8);color:var(--foreground-default);width:100%;-webkit-flex-wrap:wrap;-ms-flex-wrap:wrap;flex-wrap:wrap}.button-bar.jsx-69bed4444090144f{display:-webkit-box;display:-webkit-flex;display:-moz-box;display:-ms-flexbox;display:flex;-webkit-box-pack:start;-webkit-justify-content:flex-start;-moz-box-pack:start;-ms-flex-pack:start;justify-content:flex-start;-webkit-flex-wrap:wrap;-ms-flex-wrap:wrap;flex-wrap:wrap;margin-bottom:var(--space-8)}.button-bar.jsx-69bed4444090144f>button{margin-right:var(--space-8);margin-bottom:var(--space-8)}.spinner.jsx-69bed4444090144f{position:absolute;top:50%;left:50%;-webkit-transform:translate(-50%,-50%);-moz-transform:translate(-50%,-50%);-ms-transform:translate(-50%,-50%);-o-transform:translate(-50%,-50%);transform:translate(-50%,-50%)}.tests-panel.jsx-69bed4444090144f{min-width:200px;background-color:var(--background-default);color:var(--foreground-default);overflow:hidden auto}.section.jsx-69bed4444090144f{height:-webkit-calc(100% - 50px);height:-moz-calc(100% - 50px);height:calc(100% - 50px)}"})]})},Yy=t(72196);function qy(e){var n=(0,w.Z)(d.useState(null),2),t=n[0],i=n[1],o=d.useRef(zy.None),a=(0,Ae.Z)(),l=(0,Yy.Z)(),s=l.language,c=l.isLoading,u=(0,Bn.CH)({variables:{replId:a}}),p=u.loading;return d.useEffect((function(){var e,n,t=null===(e=u.data)||void 0===e?void 0:e.repl;if("Repl"===(null===t||void 0===t?void 0:t.__typename)){var r=t.unitTests,a=t.ioTests,l=zy.Choose;l=a.length>0?zy.IO:(null===r||void 0===r?void 0:r.tests)&&(null===(n=r.tests)||void 0===n?void 0:n.length)>0||(null===r||void 0===r?void 0:r.meta)?zy.Unit:t.currentUserPermissions.writeTests?o.current!==zy.None?o.current:zy.Choose:zy.None,i(l)}}),[u.data]),p||c?(0,r.BX)("div",{className:"jsx-1652fb32f8a812d3",children:[(0,r.tZ)(Ze.Z,{size:32}),(0,r.tZ)(en(),{id:"1652fb32f8a812d3",children:"div.jsx-1652fb32f8a812d3{height:100%;width:100%;background-color:var(--background-default);display:-webkit-box;display:-webkit-flex;display:-moz-box;display:-ms-flexbox;display:flex;-webkit-box-align:center;-webkit-align-items:center;-moz-box-align:center;-ms-flex-align:center;align-items:center;-webkit-box-pack:center;-webkit-justify-content:center;-moz-box-pack:center;-ms-flex-pack:center;justify-content:center}"})]}):(0,r.BX)("div",{className:"jsx-ba2c7540ad19d138 testing-controller",children:[t===zy.None&&(0,r.tZ)("div",{className:"jsx-ba2c7540ad19d138 empty",children:(0,r.tZ)(Ne.Z,{children:"No tests found"})}),t===zy.Choose&&(0,r.BX)(Me.gC,{align:"center",spacing:2,children:[(0,r.tZ)(je.Z,{align:"center",level:3,children:"Choose a testing method"}),(0,r.BX)("div",{onClick:function(){i(zy.Unit),o.current=zy.Unit},className:"jsx-ba2c7540ad19d138 "+(fa()("panel",{"is-disabled":!s})||""),children:[(0,r.tZ)(je.Z,{level:4,children:"Unit tests"}),(0,r.tZ)(Ne.Z,{align:"center",children:s?"A language specific framework that tests individual functions":"Unit tests are not currently supported for this language"})]}),(0,r.tZ)("div",{onClick:function(){i(zy.IO),o.current=zy.IO},className:"jsx-ba2c7540ad19d138 panel",children:(0,r.BX)(Me.gC,{spacing:1,align:"center",children:[(0,r.tZ)(je.Z,{level:4,children:"Input output tests"}),(0,r.tZ)(Ne.Z,{align:"center",children:"Test your program via standard in, and assert based on the result of standard out"})]})})]}),t===zy.IO&&(0,r.tZ)(Hy,{}),t===zy.Unit&&(0,r.tZ)(Cy.Z,{onBack:function(){return i(zy.Choose)},getRunnerOutput:e.getRunnerOutput}),(0,r.tZ)(en(),{id:"ba2c7540ad19d138",children:".empty.jsx-ba2c7540ad19d138{padding:var(--space-16);-webkit-border-radius:var(--border-radius-4);-moz-border-radius:var(--border-radius-4);border-radius:var(--border-radius-4);-webkit-box-shadow:var(--shadow-2);-moz-box-shadow:var(--shadow-2);box-shadow:var(--shadow-2);display:-webkit-box;display:-webkit-flex;display:-moz-box;display:-ms-flexbox;display:flex;-webkit-box-align:center;-webkit-align-items:center;-moz-box-align:center;-ms-flex-align:center;align-items:center;-webkit-box-pack:center;-webkit-justify-content:center;-moz-box-pack:center;-ms-flex-pack:center;justify-content:center}.testing-controller.jsx-ba2c7540ad19d138{overflow-y:auto;padding:var(--space-8);height:100%;width:100%;background-color:var(--background-default);-webkit-box-shadow:var(--shadow-1);-moz-box-shadow:var(--shadow-1);box-shadow:var(--shadow-1)}.panel.jsx-ba2c7540ad19d138{width:100%;-webkit-border-radius:var(--border-radius-4);-moz-border-radius:var(--border-radius-4);border-radius:var(--border-radius-4);border:1px solid var(--background-higher);max-width:200px;display:-webkit-box;display:-webkit-flex;display:-moz-box;display:-ms-flexbox;display:flex;-webkit-box-orient:vertical;-webkit-box-direction:normal;-webkit-flex-direction:column;-moz-box-orient:vertical;-moz-box-direction:normal;-ms-flex-direction:column;flex-direction:column;-webkit-box-align:center;-webkit-align-items:center;-moz-box-align:center;-ms-flex-align:center;align-items:center;cursor:pointer;padding:var(--space-8)}.panel.jsx-ba2c7540ad19d138:hover{background-color:var(--background-root)}.panel.is-disabled.jsx-ba2c7540ad19d138{opacity:.5;pointer-events:none}"})]})}!function(e){e[e.None=0]="None",e[e.Choose=1]="Choose",e[e.Unit=2]="Unit",e[e.IO=3]="IO"}(zy||(zy={}));var Ky={Content:function(e){var n=e.options,t=function(){var e=i().find((function(e){var n=(0,w.Z)(e,2);n[0];return"runnerOutput"===n[1].type}));if(e)return e[0]},i=(0,eu.nC)(),o=(0,xt.dr)();return(0,r.tZ)(qy,{getRunnerOutput:function(){var e=t();if(e||n.performPaneOperation({operation:"open",secondary:!0,pane:{type:"runnerOutput"}}),e=t()){var r=o(e);if("runnerOutput"===(null===r||void 0===r?void 0:r.type))return r}}})},Icon:function(e){var n=e.size;return(0,r.tZ)(Pn.Z,{size:n})},getTitle:function(){return"Tests"}};function $y(){var e=(0,T.Z)(["\n  fragment EducationPaneRepl on Repl {\n    id\n    title\n    url\n    timeCreated\n    slug\n  }\n"]);return $y=function(){return e},e}function Qy(){var e=(0,T.Z)(["\n  fragment EducationPaneTemplate on ReplTemplate {\n    id\n    dueDate\n    repl {\n      id\n      ...EducationPaneRepl\n    }\n  }\n  ","\n"]);return Qy=function(){return e},e}function Jy(){var e=(0,T.Z)(["\n  fragment EducationPaneUser on User {\n    id\n    username\n    firstName\n    lastName\n    fullName\n    image\n  }\n"]);return Jy=function(){return e},e}function ew(){var e=(0,T.Z)(["\n  fragment EducationPaneReplSubmission on ReplSubmission {\n    id\n    timeSubmitted\n    timeLastReviewed\n    author {\n      id\n      ...EducationPaneUser\n    }\n    repl {\n      id\n      ...EducationPaneRepl\n    }\n    isGroupSubmission\n    submissionGroup {\n      users {\n        id\n        ...EducationPaneUser\n      }\n    }\n  }\n  ","\n  ","\n"]);return ew=function(){return e},e}function nw(){var e=(0,T.Z)(["\n  fragment EducationPaneTemplateWithSubmissions on ReplTemplate {\n    id\n    ...EducationPaneTemplate\n    submissions {\n      id\n      ...EducationPaneReplSubmission\n    }\n  }\n  ","\n  ","\n"]);return nw=function(){return e},e}function tw(){var e=(0,T.Z)(['\n  fragment EducationPaneTeam on Team {\n    id\n    templates {\n      id\n      ...EducationPaneTemplate\n    }\n    username\n    displayName\n    image\n    students: members(permissions: "member") {\n      id\n      permissions\n      nickname\n      user {\n        id\n        ...EducationPaneUser\n      }\n    }\n  }\n  ',"\n  ","\n"]);return tw=function(){return e},e}function rw(){var e=(0,T.Z)(["\n  fragment EducationPaneReplAttachment on ReplAttachment {\n    id\n    fileName\n    mimeType\n    contents\n    timeCreated\n    timeUpdated\n  }\n"]);return rw=function(){return e},e}function iw(){var e=(0,T.Z)(["\n  query EducationPane($replId: String!) {\n    repl(id: $replId) {\n      ... on Repl {\n        id\n        isProject\n        isProjectFork\n        ...EducationPaneRepl\n        owner {\n          ... on Team {\n            id\n            ...EducationPaneTeam\n          }\n        }\n        template {\n          id\n          ...EducationPaneTemplateWithSubmissions\n        }\n        submission {\n          id\n          ...EducationPaneReplSubmission\n        }\n        attachments {\n          id\n          ...EducationPaneReplAttachment\n        }\n      }\n    }\n  }\n  ","\n  ","\n  ","\n  ","\n  ","\n"]);return iw=function(){return e},e}function ow(){var e=(0,T.Z)(["\n  mutation EducationPaneUploadReplAttachment(\n    $input: UploadReplAttachmentInput!\n  ) {\n    uploadReplAttachment(input: $input) {\n      ... on Repl {\n        id\n        attachments {\n          id\n          ...EducationPaneReplAttachment\n        }\n      }\n    }\n  }\n  ","\n"]);return ow=function(){return e},e}function aw(){var e=(0,T.Z)(["\n  mutation MarkSubmissionReviewed($replId: String!, $status: Boolean!) {\n    reviewRepl(replId: $replId, status: $status) {\n      ... on UserError {\n        message\n      }\n      ... on Repl {\n        id\n        submission {\n          id\n          timeLastReviewed\n        }\n      }\n    }\n  }\n"]);return aw=function(){return e},e}function lw(){var e=(0,T.Z)(["\n  mutation UnsubmitSubmission($replId: String!) {\n    unsubmitRepl(replId: $replId) {\n      ... on UserError {\n        message\n      }\n      ... on Repl {\n        id\n        submission {\n          id\n          timeSubmitted\n          timeLastReviewed\n        }\n      }\n    }\n  }\n"]);return lw=function(){return e},e}var sw={},cw=(0,E.Ps)($y()),uw=(0,E.Ps)(Qy(),cw),dw=(0,E.Ps)(Jy()),pw=(0,E.Ps)(ew(),dw,cw),fw=(0,E.Ps)(nw(),uw,pw),hw=(0,E.Ps)(tw(),uw,dw),vw=(0,E.Ps)(rw()),mw=(0,E.Ps)(iw(),cw,hw,fw,pw,vw);var gw=(0,E.Ps)(ow(),vw);var Zw=(0,E.Ps)(aw());var bw=(0,E.Ps)(lw());var xw,yw=t(17755),ww=t(65738),kw=function(){return(0,r.BX)(c.G,{title:"late",css:[l.l0.fontSize("small"),l.l0.px(4),l.l0.borderRadius(4),l.l0.color.accentNegativeDefault,{border:"1px solid",borderColor:l.TV.accentNegativeDefault}],children:["late",(0,r.tZ)(en(),{id:"4b00beb7f87eecca",children:"span.jsx-4b00beb7f87eecca{color:var(--accent-negative-default)}"})]})},Cw=t(91204),Sw=c.K.a,Rw=c.K.div;function Tw(e){var n=xw.NotStarted,t=xw.Started,r=xw.Submitted,i=xw.Reviewed;switch(e){case n:return"Not Started";case t:return"Not submitted yet";case r:return"Submitted (waiting for review)";case i:return"Reviewed";default:return""}}function Ew(e){return e?e.timeSubmitted||e.timeLastReviewed?e.timeSubmitted&&!e.timeLastReviewed?xw.Submitted:!e.timeSubmitted&&e.timeLastReviewed?xw.Reviewed:e.timeSubmitted&&e.timeLastReviewed?new Date(e.timeSubmitted)>new Date(e.timeLastReviewed)?xw.Submitted:xw.Reviewed:void 0:xw.Started:xw.NotStarted}!function(e){e.NotStarted="not-started",e.Started="started",e.Submitted="submitted",e.Reviewed="reviewed"}(xw||(xw={}));var Iw,Gw=function(e,n){var t=e.indexOf("?"),r=new URLSearchParams(-1===t?"":e.slice(t));r.append("submissionReview","true");var i=-1===t?e:e.slice(0,t);return n?"".concat(i,"?").concat(r.toString(),"#").concat(n):"".concat(i,"?").concat(r.toString())},Dw=(Iw={},(0,C.Z)(Iw,xw.Started,l.TV.blueDefault),(0,C.Z)(Iw,xw.NotStarted,l.TV.foregroundDimmest),(0,C.Z)(Iw,xw.Reviewed,l.TV.greenDefault),(0,C.Z)(Iw,xw.Submitted,l.TV.yellowDefault),Iw);function Bw(e){var n=e.status,t=e.highlighted?l.TV.foregroundDefault:Dw[n];return(0,r.tZ)(me.u,{tooltip:Tw(n),placement:"right",children:(0,r.BX)(c.G,{children:[n===xw.Submitted?(0,r.tZ)(Cw.Z,{color:t}):null,n===xw.Reviewed?(0,r.tZ)(Pn.Z,{color:t}):null,n===xw.Started?(0,r.tZ)(ot.Z,{color:t}):null,n===xw.NotStarted?(0,r.tZ)(fo.Z,{color:t}):null]})})}function Pw(e){var n=e.result,t=e.highlighted,i=e.current,o=e.isLate,a=(0,ze.R3)(),u=!i&&n.url?Gw(n.url,a):"",d=(0,r.BX)(c.G,{css:[l.l0.p(8),l.l0.rowWithGap(8),l.l0.justify.spaceBetween,l.l0.align.center,n.status===xw.NotStarted&&{opacity:t?1:.4},t&&{backgroundColor:de.gU.listItem["@media (hover: hover)"][":not([disabled])"][":not(textarea):active"].backgroundColor},i&&{backgroundColor:l.TV.accentPrimaryDimmer,color:l.TV.foregroundDefault}],children:[(0,r.BX)(c.G,{css:[l.l0.rowWithGap(4),l.l0.align.center,l.l0.flex.growAndShrink(1)],children:[(0,r.tZ)(ve.q,{size:24,username:n.name,src:n.image}),(0,r.tZ)(s.xv,{css:l.l0.flex.growAndShrink(1),multiline:!1,children:n.name}),o?(0,r.tZ)(kw,{}):null]}),n.status?(0,r.tZ)(Bw,{status:n.status,highlighted:t||i}):null]});return u?(0,r.tZ)(Sw,{href:u,style:{color:"inherit"},children:d}):d}var _w=function(e){var n=e.team,t=e.submission,i=e.submissionList,o=e.template,a=(0,w.Z)(d.useState([]),2),s=a[0],u=a[1],p=(0,w.Z)(d.useState(""),2),f=p[0],h=p[1],v=(0,zZ.Kb)({items:s,defaultHighlightedIndex:0}),m=v.isOpen,g=v.getComboboxProps,Z=v.getInputProps,b=v.getMenuProps,x=v.getItemProps,y=v.getToggleButtonProps,k=v.highlightedIndex,C=v.openMenu,S=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";if(t.isGroupSubmission){var r=i;0!==e.length&&(r=r.filter((function(n){var t;return null===(t=n.submissionGroup)||void 0===t?void 0:t.users.some((function(n){var t;return null===(t=(null===n||void 0===n?void 0:n.fullName)||(null===n||void 0===n?void 0:n.username))||void 0===t?void 0:t.toLocaleLowerCase().includes(e.toLocaleLowerCase())}))})));var o=r.map((function(e){var n,t,r,i,o=(null===e||void 0===e||null===(n=e.submissionGroup)||void 0===n?void 0:n.users.map((function(e){return(null===e||void 0===e?void 0:e.fullName)||(null===e||void 0===e?void 0:e.username)||""})).join(", "))||"";return{image:(null===(r=null===e||void 0===e||null===(t=e.submissionGroup)||void 0===t?void 0:t.users[0])||void 0===r?void 0:r.image)||"",name:o,url:null===(i=e.repl)||void 0===i?void 0:i.url,status:Ew(e),submissionId:e.id,timeSubmitted:null===e||void 0===e?void 0:e.timeSubmitted}}));u((0,Qe.Z)(o))}else{var a=n.students;a=0===e.length?a.filter((function(e){return e.user})).sort((function(e,n){var t,r,i,o;return(e.nickname||(null===(t=e.user)||void 0===t?void 0:t.fullName)||(null===(r=e.user)||void 0===r?void 0:r.username)||"").localeCompare(n.nickname||(null===(i=n.user)||void 0===i?void 0:i.fullName)||(null===(o=n.user)||void 0===o?void 0:o.username)||"")})):a.filter((function(n){var t,r,i;return null===(i=n.nickname||(null===(t=n.user)||void 0===t?void 0:t.fullName)||(null===(r=n.user)||void 0===r?void 0:r.username))||void 0===i?void 0:i.toLocaleLowerCase().includes(e.toLocaleLowerCase())}));var l=a.map((function(e){var n,t,r,o,a=i.find((function(n){var t,r;return(null===(t=n.author)||void 0===t?void 0:t.id)===(null===(r=e.user)||void 0===r?void 0:r.id)}));return{image:(null===(n=e.user)||void 0===n?void 0:n.image)||"",name:e.nickname||(null===(t=e.user)||void 0===t?void 0:t.fullName)||(null===(r=e.user)||void 0===r?void 0:r.username)||"",url:null===a||void 0===a||null===(o=a.repl)||void 0===o?void 0:o.url,status:Ew(a),submissionId:null===a||void 0===a?void 0:a.id,timeSubmitted:null===a||void 0===a?void 0:a.timeSubmitted}}));u((0,Qe.Z)(l))}};return(0,r.BX)(c.G,{css:[l.l0.position.relative,{zIndex:2}],children:[(0,r.BX)(Rw,(0,he.Z)((0,R.Z)({css:[l.l0.position.relative]},g()),{children:[(0,r.tZ)(Pa.II,(0,R.Z)({},Z({value:f,placeholder:"Switch submission",onKeyDown:function(e){"Escape"===e.key&&u([])},onChange:function(e){var n=e.target.value;S(n),h(n)},onFocus:function(){S(),C()}}))),(0,r.tZ)(c.G,{css:[l.l0.position.absolute,l.l0.top(0),l.l0.right(0),l.l0.height("100%"),l.l0.center],children:f?(0,r.tZ)(c.G,{css:[l.l0.reset.button,l.l0.cursor.pointer,l.l0.px(8)],onClick:function(){return h("")},tag:"button",children:(0,r.tZ)(la.Z,{})}):(0,r.tZ)(c.G,(0,he.Z)((0,R.Z)({css:[l.l0.reset.button,l.l0.cursor.pointer,l.l0.px(8)]},y({refKey:"innerRef"})),{tag:"button",children:(0,r.tZ)(ur.Z,{})}))})]})),(0,r.tZ)(se.Tg,(0,he.Z)((0,R.Z)({tag:"ul",elevated:!0,css:[{zIndex:1,position:"absolute",overflowY:"auto",width:"100%",left:0,top:"calc(100% + ".concat(l.TV.space8,")"),border:"1px solid",borderColor:l.TV.outlineDimmest,listStyle:"none"},!m&&{visibility:"hidden"},l.l0.borderRadius(8),l.l0.maxHeight(400)]},b({refKey:"innerRef"})),{children:s.map((function(e,n){var i=e.submissionId===t.id,a=!e.url;return(0,r.tZ)(c.G,(0,he.Z)((0,R.Z)({tag:"li",css:[!a&&l.l0.cursor.pointer]},x({index:n,item:e,refKey:"innerRef",disabled:a,onClick:function(e){e.nativeEvent.preventDownshiftDefault=!0}})),{children:(0,r.tZ)(Pw,{result:e,highlighted:k===n,current:i,isLate:o.dueDate&&e.timeSubmitted&&new Date(o.dueDate)<new Date(e.timeSubmitted)||!1})}),e.name)}))}))]})},Aw=t(60803),Uw=function(e){return{short:(0,JZ.Z)(e,"do MMM"),long:(0,JZ.Z)(e,"do MMM, hh:mm a")}},Lw=function(e,n){var t=e.students.find((function(e){var t;return(null===(t=e.user)||void 0===t?void 0:t.id)===(null===n||void 0===n?void 0:n.id)}));return(null===t||void 0===t?void 0:t.nickname)||(null===n||void 0===n?void 0:n.fullName)||"@".concat(null===n||void 0===n?void 0:n.username)};function zw(e){var n=e.submission,t=e.submissionList,i=(0,ze.R3)(),o=t.findIndex((function(e){return e.id===n.id})),a=t[o-1],u=t[o+1],d=t.filter((function(e){return e.timeLastReviewed})).length;return(0,r.BX)(c.G,{css:l.l0.rowWithGap(8),children:[t.length===d?(0,r.BX)(c.G,{css:[l.l0.rowWithGap(4),l.l0.flex.growAndShrink(1)],children:[(0,r.tZ)(Pn.Z,{color:l.TV.greenDefault}),(0,r.BX)(s.xv,{color:"dimmer",css:[l.l0.flex.growAndShrink(1)],multiline:!1,children:["All ",d," submissions reviewed"]})]}):(0,r.BX)(c.G,{css:[l.l0.rowWithGap(8),l.l0.flex.growAndShrink(1),l.l0.align.center],children:[(0,r.tZ)(me.u,{tooltip:"Reviewed",children:(0,r.BX)(c.G,{css:[l.l0.rowWithGap(4),l.l0.align.center],children:[(0,r.tZ)(Pn.Z,{color:l.TV.greenDefault}),(0,r.tZ)(s.xv,{color:"dimmer",multiline:!1,children:d})]})}),(0,r.tZ)(me.u,{tooltip:"Waiting for review",children:(0,r.BX)(c.G,{css:[l.l0.rowWithGap(4),l.l0.align.center],children:[(0,r.tZ)(Cw.Z,{size:12,color:l.TV.yellowDefault}),(0,r.tZ)(s.xv,{variant:"small",color:"dimmer",multiline:!1,children:t.length-d})]})})]}),(0,r.BX)(c.G,{css:[l.l0.rowWithGap(4)],children:[(null===a||void 0===a?void 0:a.repl)?(0,r.tZ)($t.Z,{small:!0,outlined:!0,href:Gw(a.repl.url,i),text:"",iconLeft:(0,r.tZ)(Ug.Z,{})}):(0,r.tZ)(ce.zx,{small:!0,outlined:!0,text:"",disabled:!0,iconLeft:(0,r.tZ)(Ug.Z,{})}),(null===u||void 0===u?void 0:u.repl)?(0,r.tZ)($t.Z,{small:!0,outlined:!0,href:Gw(u.repl.url,i),text:"",iconRight:(0,r.tZ)(Hi.Z,{})}):(0,r.tZ)(ce.zx,{small:!0,outlined:!0,text:"",disabled:!0,iconRight:(0,r.tZ)(Hi.Z,{})})]})]})}function Ow(e){var n,t=e.submission,i=e.dueDate,o=e.team,a=Boolean(i&&new Date(i)<new Date(t.timeSubmitted));return(0,r.BX)(se.Tg,{css:[l.l0.colWithGap(16),l.l0.p(16),l.l0.borderRadius(8)],elevated:!0,children:[t.isGroupSubmission&&t.submissionGroup?(0,r.tZ)(c.G,{css:[l.l0.colWithGap(8),l.l0.maxHeight(400),l.l0.overflow("auto")],children:t.submissionGroup.users.map((function(e){return(0,r.tZ)(c.G,{children:(0,r.tZ)(yw.n,{src:(null===e||void 0===e?void 0:e.image)||null,username:Lw(o,e)})},null===e||void 0===e?void 0:e.id)}))}):(0,r.tZ)(r.HY,{children:(0,r.tZ)(yw.n,{src:(null===(n=t.author)||void 0===n?void 0:n.image)||null,username:Lw(o,t.author)})}),t.timeSubmitted?(0,r.BX)(c.G,{css:[l.l0.colWithGap(8)],children:[(0,r.tZ)(c.G,{css:[l.l0.colWithGap(4)],children:(0,r.BX)(c.G,{css:[l.l0.rowWithGap(4),l.l0.align.center],children:[(0,r.tZ)(Pn.Z,{}),(0,r.BX)(c.G,{css:[l.l0.rowWithGap(4),l.l0.align.center],children:[(0,r.tZ)(s.xv,{css:[l.l0.flex.growAndShrink(1)],multiline:!1,children:"Submitted"}),a?(0,r.tZ)(kw,{}):null,t.timeLastReviewed?null:(0,r.tZ)(s.xv,{multiline:!1,variant:"small",color:"dimmer",css:[l.l0.flex.growAndShrink(1)],children:"(waiting for review)"})]})]})}),(0,r.BX)(c.G,{css:[l.l0.rowWithGap(4)],children:[(0,r.tZ)(ot.Z,{}),(0,r.tZ)(s.xv,{multiline:!1,children:Uw(new Date(t.timeSubmitted)).long})]})]}):(0,r.BX)(c.G,{css:[l.l0.colWithGap(8)],children:[(0,r.BX)(c.G,{css:[l.l0.rowWithGap(4),l.l0.align.center],children:[(0,r.tZ)(ot.Z,{}),(0,r.BX)(c.G,{css:[l.l0.rowWithGap(4),l.l0.align.center],children:[(0,r.tZ)(s.xv,{css:[l.l0.flex.growAndShrink(1)],multiline:!1,children:"In progress"}),(0,r.tZ)(s.xv,{multiline:!1,variant:"small",color:"dimmer",css:[l.l0.flex.growAndShrink(1)],children:"(not submitted)"})]})]}),t.repl?(0,r.BX)(c.G,{css:[l.l0.rowWithGap(4)],children:[(0,r.tZ)(ww.Z,{}),(0,r.BX)(s.xv,{multiline:!1,children:["Forked"," ",Uw(new Date(t.repl.timeCreated)).short]})]}):(0,r.tZ)(s.xv,{multiline:!1,children:"Submission repl missing"})]})]})}function Xw(e){var n=e.repl,t=e.submission,i=(0,Ln.H)(),o=(0,on.Z)().showError,a=(0,w.Z)(function(e){var n=(0,R.Z)({},sw,e);return G.D(Zw,n)}({onError:function(e){return o(e.message)},onCompleted:function(e){"UserError"===e.reviewRepl.__typename&&o(e.reviewRepl.message)}}),2),s=a[0],u=a[1].loading,d=(0,w.Z)(function(e){var n=(0,R.Z)({},sw,e);return G.D(bw,n)}(),1)[0],p=Boolean(t.timeLastReviewed);return(0,r.BX)(c.G,{css:l.l0.colWithGap(16),children:[(0,r.BX)(c.G,{css:[l.l0.rowWithGap(8),l.l0.align.center],children:[(0,r.tZ)(Yn.X,{id:i("reviewed-status"),disabled:u,checked:p,onChange:function(){return e=!p,void s({variables:{replId:n.id,status:e},optimisticResponse:{__typename:"RootMutationType",reviewRepl:(0,he.Z)((0,R.Z)({},n),{__typename:"Repl",submission:(0,he.Z)((0,R.Z)({},t),{timeLastReviewed:e?(new Date).toJSON():null})})}});var e}}),(0,r.tZ)("label",{htmlFor:i("reviewed-status"),children:p?"Reviewed":"Mark as reviewed"})]}),t.timeSubmitted?(0,r.tZ)(ce.zx,{css:{alignSelf:"start"},iconLeft:(0,r.tZ)(Aw.Z,{}),onClick:function(){d({variables:{replId:n.id},optimisticResponse:{__typename:"RootMutationType",unsubmitRepl:(0,he.Z)((0,R.Z)({},n),{__typename:"Repl",submission:(0,he.Z)((0,R.Z)({},t),{timeLastReviewed:null})})}})},text:"Unsubmit",small:!0}):null]})}function jw(e){var n=e.repl,t=e.submission,i=e.team,o=e.template,a=o.submissions;return(0,r.BX)(c.G,{css:[l.l0.colWithGap(16),l.l0.flex.growAndShrink(1)],children:[(0,r.BX)(c.G,{css:[l.l0.colWithGap(16),l.l0.flex.grow(1)],children:[(0,r.BX)(c.G,{css:[l.l0.colWithGap(8)],children:[(0,r.tZ)(zw,{submission:t,submissionList:a}),(0,r.tZ)(_w,{team:i,template:o,submission:t,submissionList:a})]}),(0,r.tZ)(Ow,{team:i,submission:t,dueDate:o.dueDate}),(0,r.tZ)(Xw,{repl:n,submission:t})]}),(0,r.tZ)($t.Z,{css:[{alignSelf:"start"}],small:!0,href:"/team/".concat(i.username,"/templates/").concat(o.repl.slug),iconLeft:(0,r.tZ)(Ug.Z,{}),text:"Return to submissions"})]})}var Nw,Mw=t(66528),Fw=t(69994),Ww=t(14806),Vw=t(34227),Hw=t(64804),Yw=function(e){var n=e.fileName,t=e.docRef,i=e.initialContents,o=(0,Hw.Z)(),a=o.ref,l=o.view;return d.useEffect((function(){if(l){var e=Fw.tk.updateListener.of((function(e){t.current=e.state.doc}));l.dispatch({effects:Ww.Py.appendConfig.of(e)}),l.focus()}}),[l,t]),d.useEffect((function(){l&&(l.state.doc.length||l.dispatch({changes:{from:0,insert:i}}))}),[l,i]),(0,r.BX)("div",{className:"jsx-d59ba8968f57599c editable-area",children:[(0,r.tZ)("div",{className:"jsx-d59ba8968f57599c editor-wrapper",children:(0,r.tZ)("div",{className:"jsx-d59ba8968f57599c editor",children:(0,r.tZ)(Vw.Z,{ref:a,filePath:n,fontSize:14,indentSize:4,indentIsSpaces:!0})})}),(0,r.tZ)(en(),{id:"d59ba8968f57599c",children:".editable-area.jsx-d59ba8968f57599c{width:100%;-webkit-box-flex:1;-webkit-flex-grow:1;-moz-box-flex:1;-ms-flex-positive:1;flex-grow:1;border:1px solid var(--background-higher);-webkit-border-radius:var(--border-radius-4);-moz-border-radius:var(--border-radius-4);border-radius:var(--border-radius-4);padding:var(--space-8)0}.editor-wrapper.jsx-d59ba8968f57599c{height:450px;padding-bottom:var(--space-8);-webkit-box-flex:1;-webkit-flex-grow:1;-moz-box-flex:1;-ms-flex-positive:1;flex-grow:1;position:relative}.editor.jsx-d59ba8968f57599c{overflow:auto;position:absolute;width:100%;height:100%}.loader.jsx-d59ba8968f57599c{height:100%;width:100%;z-index:5}"})]})},qw=function(e){var n=e.title,t=e.fileName,i=e.initialContents,o=e.isOpen,a=e.onSave,l=e.onCancel,s=d.useRef(null);return(0,r.BX)(tn.u,{maxWidth:872,isOpen:o,onRequestClose:function(){},preventClose:!0,children:[(0,r.tZ)("div",{className:"jsx-c68269737c22d0ec editor-modal",children:(0,r.BX)(Me.gC,{align:"stretch",spacing:2,children:[(0,r.BX)(je.Z,{level:3,children:["Edit ",n.toLowerCase()]}),(0,r.tZ)(Yw,{docRef:s,fileName:t,initialContents:i}),(0,r.tZ)(Me.Ug,{justify:"end",align:"end",children:(0,r.BX)(Me.Ug,{justify:"end",align:"end",spacing:1,children:[(0,r.tZ)(We.Z,{onClick:function(){return l()},children:"Cancel"}),(0,r.tZ)(We.Z,{color:"primary",onClick:function(){var e;return s.current&&a(null===(e=s.current)||void 0===e?void 0:e.toString())},children:"Save"})]})})]})}),(0,r.tZ)(en(),{id:"c68269737c22d0ec",children:".editor-modal.jsx-c68269737c22d0ec{padding:var(--space-16)}"})]})};!function(e){e.LessonPlan="lessonplan.md",e.Instructions="instructions.md"}(Nw||(Nw={}));var Kw=t(68825),$w=t(49500);function Qw(e){var n=e.attachments;return(0,r.tZ)("div",{className:"manage-attachments",children:(0,r.BX)(Me.gC,{spacing:2,children:[(0,r.tZ)(Jw,{attachment:n.find((function(e){return e.fileName===Nw.LessonPlan})),fileName:Nw.LessonPlan,label:"Lesson plan",helpText:"Upload teacher facing materials"}),(0,r.tZ)(Jw,{attachment:n.find((function(e){return e.fileName===Nw.Instructions})),fileName:Nw.Instructions,label:"Instructions",helpText:"Upload student facing materials"})]})})}function Jw(e){var n,t=e.attachment,i=e.fileName,o=e.label,a=e.helpText,l=(0,Kw.Z)(),s=(0,on.Z)(),c=s.showConfirm,u=s.showError,p=(0,w.Z)(function(e){var n=(0,R.Z)({},sw,e);return G.D(gw,n)}({onCompleted:function(){return c("Updated "+i)},onError:function(e){$w.log(e),u("Error")}}),2),f=p[0],h=p[1],v=d.useCallback(function(){var e=(0,tt.Z)((function(e){return(0,rt.__generator)(this,(function(n){return l&&f({variables:{input:{replId:l.id,fileName:i,contents:e,lastModified:(new Date).toISOString()}}}),[2]}))}));return function(n){return e.apply(this,arguments)}}(),[l,i,f]);return l&&(n=i===Nw.LessonPlan?Mo({language:l.language}):Fo({language:l.language})),(0,r.tZ)(ek,{loading:!l||h.loading,fileName:i,contents:null===t||void 0===t?void 0:t.contents,defaultContents:n,label:o,helpText:a,attachmentLastUploadedAgo:t?(0,Nc.F)(new Date(t.timeUpdated)):void 0,onUploadFile:v})}function ek(e){var n=e.loading,t=e.fileName,i=e.contents,o=e.defaultContents,a=e.label,l=e.helpText,s=e.attachmentLastUploadedAgo,c=e.onUploadFile,u=(0,w.Z)(d.useState(!1),2),p=u[0],f=u[1];return(0,r.BX)("div",{className:"jsx-5b5c01bd3abb3f44 attachment",children:[(0,r.tZ)(qw,{title:a,fileName:t,isOpen:p,initialContents:i||o,onCancel:function(){return f(!1)},onSave:function(e){f(!1),c(e)}}),(0,r.BX)(Me.Ug,{justify:"space-between",align:"center",wrap:"nowrap",children:[(0,r.BX)(Me.gC,{spacing:1,children:[(0,r.BX)(Me.Ug,{align:"center",spacing:1,wrap:"nowrap",children:[(0,r.tZ)(Ne.Z,{fontWeight:"medium",children:a}),(0,r.tZ)(Mw.Z,{label:l})]}),s?(0,r.BX)(Ne.Z,{size:"xsmall",children:["Uploaded ",s]}):null]}),n?(0,r.tZ)(Ze.Z,{size:16}):(0,r.tZ)(We.Z,{border:!1,filled:!1,Icon:wo.Z,onClick:(0,tt.Z)((function(){return(0,rt.__generator)(this,(function(e){return f(!0),[2]}))}))})]}),(0,r.tZ)(en(),{id:"5b5c01bd3abb3f44",children:".attachment.jsx-5b5c01bd3abb3f44{padding:var(--space-8);background-color:var(--background-root);-webkit-border-radius:var(--border-radius-8);-moz-border-radius:var(--border-radius-8);border-radius:var(--border-radius-8);width:100%;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none}"})]})}function nk(e){var n=e.attachments;return(0,r.BX)("div",{className:"jsx-ea2ca64296d8f56a project-view-container",children:[(0,r.tZ)("div",{className:"jsx-ea2ca64296d8f56a project-view-contents",children:(0,r.tZ)(Qw,{attachments:n})}),(0,r.tZ)("div",{className:"jsx-ea2ca64296d8f56a bottom-dock",children:(0,r.tZ)(Ne.Z,{size:"small",children:(0,r.tZ)("a",{href:"/curriculum",target:"_blank",className:"jsx-ea2ca64296d8f56a",children:"Find more curriculum on Curriculum Hub"})})}),(0,r.tZ)(en(),{id:"ea2ca64296d8f56a",children:".project-view-container.jsx-ea2ca64296d8f56a{padding-top:var(--space-32);max-width:400px;-webkit-box-flex:1;-webkit-flex-grow:1;-moz-box-flex:1;-ms-flex-positive:1;flex-grow:1;display:-webkit-box;display:-webkit-flex;display:-moz-box;display:-ms-flexbox;display:flex;-webkit-box-orient:vertical;-webkit-box-direction:normal;-webkit-flex-direction:column;-moz-box-orient:vertical;-moz-box-direction:normal;-ms-flex-direction:column;flex-direction:column}.bottom-dock.jsx-ea2ca64296d8f56a{display:grid;grid-gap:var(--space-8);margin-top:auto}"})]})}function tk(){var e,n=function(e){var n=(0,R.Z)({},sw,e);return $.a(mw,n)}({variables:{replId:(0,Ae.Z)()}}),t=n.data,i=n.loading,o=n.error;if(i)return(0,r.tZ)(c.G,{css:[l.l0.center,l.l0.flex.growAndShrink(1)],children:(0,r.tZ)(Ze.Z,{size:24})});if(o)return(0,r.tZ)(c.G,{css:l.l0.center,children:(0,r.tZ)(s.xv,{multiline:!1,children:"Something went wrong"})});var a="Repl"===(null===t||void 0===t?void 0:t.repl.__typename)?t.repl:null,u="Team"===(null===a||void 0===a||null===(e=a.owner)||void 0===e?void 0:e.__typename)?a.owner:null,d=null===a||void 0===a?void 0:a.template;return a&&u&&d?(0,r.BX)(c.G,{css:[l.l0.height("100%")],children:[(0,r.tZ)(s.xv,{css:[l.l0.p(8)],variant:"subheadBig",multiline:!1,children:a.submission?"Submissions":"Curriculum"}),(0,r.tZ)(c.G,{css:[l.l0.px(8),l.l0.pb(8),l.l0.flex.growAndShrink(1),l.l0.overflowY("auto")],children:a.submission?(0,r.tZ)(jw,{repl:a,team:u,template:d,submission:a.submission}):(0,r.tZ)(nk,{attachments:a.attachments})})]}):(0,r.tZ)(c.G,{css:l.l0.center,children:(0,r.tZ)(s.xv,{multiline:!1,children:"Something went wrong"})})}var rk={Content:function(){return(0,r.tZ)(tk,{})},Icon:function(e){var n=e.size;return(0,r.tZ)(ar.Z,{size:n})},getTitle:function(){return"Submissions"}},ik=t(47900),ok=t(88167),ak=t(91821),lk=t(49500),sk=".lesson/".concat("instructions.md"),ck=function(e){var n=e.contents,t=(0,pe.Z)().fs,i=(0,ok.l)(t,sk);return(0,r.BX)("div",{className:en().dynamic([["4a2a9dfc904beede",[Le.j.tabletMin]]])+" root",children:[(0,r.tZ)("div",{className:en().dynamic([["4a2a9dfc904beede",[Le.j.tabletMin]]])+" content",children:(0,r.tZ)(ik.ZP,{components:{img:i},sourcePos:!0,children:n})}),(0,r.tZ)(en(),{id:"4a2a9dfc904beede",dynamic:[Le.j.tabletMin],children:".root.__jsx-style-dynamic-selector{height:100%;width:100%;overflow:auto;background:var(--background-default);z-index:2;position:relative}.content.__jsx-style-dynamic-selector{max-width:840px;margin:0 auto;padding:var(--space-32)var(--space-16)}@media only screen and (min-width:".concat(Le.j.tabletMin,"px){.content.__jsx-style-dynamic-selector{padding:var(--space-48)var(--space-32)}}")})]})},uk=function(){var e=(0,Ae.Z)(),n=(0,pe.Z)().fs,t=(0,Za.Z)(),i=(0,w.Z)(d.useState(null),2),o=i[0],a=i[1];return d.useEffect((function(){n.readFile(sk).then((function(e){if(t.current)return e.error?(lk.error(e.error),void Bl.c_.withScope((function(n){n.setTag("instructions-viewer",!0),Bl.c_.captureException("Error loading instructions viewier: ".concat(e.error))}))):void a(e.content.toString())}))}),[n,t,e]),o?(0,r.tZ)(ck,{contents:o}):(0,r.tZ)(ak.Z,{preventHighlightBorder:!0})},dk={Content:function(){return(0,r.tZ)(uk,{})},Icon:function(e){var n=e.size;return(0,r.tZ)(ar.Z,{size:n})},getTitle:function(){return"Instructions"}},pk=t(67570),fk=t(60369),hk={Content:function(e){var n=e.options.paneId,t=(0,ut.A)();return(0,r.tZ)(pk.Z,{closeConfigPane:function(){return t(n)},useReadFile:fk.Z})},Icon:function(){return null},getTitle:function(){return"Configure Repl"}};var vk=t(99536);var mk={Content:function(){var e=function(){var e=(0,d.useState)(!1),n=e[0],t=e[1],r=(0,Ae.Z)(),i=(0,pe.Z)(),o=i.dotReplit,a=i.fs,l=(0,Za.Z)(),s=(0,ut.n7)(),c=(0,cv.T)(),u=(0,qi.Z)().preferences.isLayoutStacked,p=(0,au.cR)();return{reset:(0,d.useCallback)((0,tt.Z)((function(){var e;return(0,rt.__generator)(this,(function(n){switch(n.label){case 0:return t(!0),[4,(0,eh.W)({fs:a,dotReplit:o,replId:r})];case 1:return e=n.sent().entrypoint,l.current?(t(!0),s({replId:r,isStacked:u,isHTML:c,isExtension:p,entrypoint:e}),[2]):[2]}}))})),[r,a,o,s,l,u,c,p]),reseting:n}}();return(0,r.tZ)(c.G,{css:[l.l0.width("100%"),l.l0.maxWidth(640),l.l0.overflow("auto"),{marginRight:"auto",marginLeft:"auto"}],children:(0,r.tZ)(vk.Z,{resetLayout:e,css:[{backgroundColor:"transparent"}]})})},Icon:function(e){var n=e.size;return(0,r.tZ)(Nb.Z,{size:n})},getTitle:function(){return"Settings"}},gk=t(26752),Zk=t(59884),bk=t(66334);function xk(){var e=(0,T.Z)(["\n  query DevtoolsHomeHostedUrl($replId: String!) {\n    repl(id: $replId) {\n      ... on Repl {\n        id\n        hostedUrl\n      }\n    }\n  }\n"]);return xk=function(){return e},e}var yk={},wk=(0,E.Ps)(xk());function kk(e){var n=e.setEditing,t=(0,Bv.zm)(),i=(0,Bv.I1)(),o=(0,Bv.EO)(),a=(0,Bv.bN)(),s=(0,d.useState)(!1),u=s[0],p=s[1],f=(0,d.useState)(!1),h=f[0],v=f[1];return(0,r.BX)(c.G,{css:[l.l0.rowWithGap(8),l.l0.flex.wrap,{rowGap:8}],children:[(0,r.tZ)(ce.zx,{small:!0,outlined:!0,text:"Edit listing",onClick:function(){n(!0)}}),t||h?(0,r.BX)(r.HY,{children:[(0,r.tZ)(ce.zx,{small:!0,text:"Reload",iconLeft:h?(0,r.tZ)(Ze.Z,{}):(0,r.tZ)(Lc.Z,{}),disabled:h,onClick:(0,tt.Z)((function(){return(0,rt.__generator)(this,(function(e){switch(e.label){case 0:return t?(v(!0),[4,o(t.installationId)]):[2];case 1:return e.sent(),v(!1),[2]}}))}))}),(0,r.tZ)(ce.zx,{small:!0,text:"Unload",iconLeft:(0,r.tZ)(Zk.Z,{}),disabled:!t,onClick:function(){t&&a(t.installationId)}})]}):(0,r.tZ)(ce.zx,{small:!0,text:"Load locally",colorway:"primary",iconLeft:u?(0,r.tZ)(Ze.Z,{}):(0,r.tZ)(po.Z,{}),loading:u,onClick:(0,tt.Z)((function(){return(0,rt.__generator)(this,(function(e){switch(e.label){case 0:return p(!0),[4,i()];case 1:return e.sent(),p(!1),[2]}}))}))})]})}function Ck(e){var n,t=e.manifest,i=e.update,o=function(e){var n=(0,R.Z)({},yk,e);return $.a(wk,n)}({variables:{replId:(0,Ae.Z)()}}).data,a=(0,d.useState)(!1),u=a[0],p=a[1],f="Repl"===(null===o||void 0===o||null===(n=o.repl)||void 0===n?void 0:n.__typename)?o.repl.hostedUrl:null;return(0,r.tZ)(c.G,{css:[l.l0.colWithGap(16),l.l0.width("100%")],children:(0,r.BX)(se.Tg,{elevated:!0,css:[l.l0.p(12),l.l0.borderRadius(8),l.l0.colWithGap(8)],children:[u?(0,r.tZ)(Sk,{manifest:t,onSubmit:function(e){i((0,R.Z)({},t,e)),p(!1)},onCancel:function(){p(!1)}}):(0,r.BX)(c.G,{css:[l.l0.flex.row,l.l0.rowWithGap(16),l.l0.align.center],children:[(0,r.tZ)(c.G,{css:[l.l0.flex.grow(0),l.l0.display.flex,l.l0.flex.row],children:(0,r.tZ)(bk.I,{size:64,baseUrl:f,icon:t.icon})}),(0,r.BX)(c.G,{css:[l.l0.flex.growAndShrink(1)],children:[(0,r.tZ)(Me.Ug,{align:"center",justify:"space-between",children:(0,r.tZ)(s.xv,{variant:"subheadDefault",multiline:!1,children:t.name})}),(0,r.tZ)(s.xv,{variant:"text",color:"dimmest",multiline:!1,children:t.description})]})]}),u?null:(0,r.tZ)(kk,{setEditing:p})]})})}function Sk(e){var n,t,i,o,a,u,p,f=e.manifest,h=e.onSubmit,v=e.onCancel,m=(0,d.useState)(null!==(i=f.name)&&void 0!==i?i:""),g=m[0],Z=m[1],b=(0,d.useState)(null!==(o=f.description)&&void 0!==o?o:""),x=b[0],y=b[1],w=(0,d.useState)(null!==(a=f.longDescription)&&void 0!==a?a:void 0),k=w[0],C=w[1],S=(0,d.useState)(null!==(u=f.icon)&&void 0!==u?u:""),R=S[0],T=S[1],E=(0,d.useState)(null!==(p=null===(n=f.coverImages)||void 0===n||null===(t=n[0])||void 0===t?void 0:t.path)&&void 0!==p?p:""),I=E[0],G=E[1],D=(0,Ln.H)();return(0,r.BX)(c.G,{tag:"form",css:[l.l0.colWithGap(16)],onSubmit:function(e){e.preventDefault();var n={name:g,description:x};f.longDescription&&!k?n.longDescription=null:k&&(n.longDescription=k),f.icon&&!R?n.icon=null:R&&(n.icon=R),f.coverImages&&!I?n.coverImages=null:I&&(n.coverImages=[{path:I,label:"preview of extension"}]),h(n)},children:[(0,r.tZ)(s.xv,{variant:"subheadBig",multiline:!1,children:"Edit your Store listing"}),(0,r.BX)(c.G,{css:[l.l0.flex.growAndShrink(1),l.l0.colWithGap(4)],tag:"label",htmlFor:D("name"),children:[(0,r.tZ)(s.xv,{multiline:!1,children:"Extension Name"}),(0,r.tZ)(Pa.II,{id:D("name"),placeholder:"Give your extension a name",value:g,onChange:function(e){Z(e.currentTarget.value)},required:!0})]}),(0,r.BX)(c.G,{css:[l.l0.flex.growAndShrink(1),l.l0.colWithGap(4)],tag:"label",htmlFor:D("tagline"),children:[(0,r.tZ)(s.xv,{multiline:!1,children:"Tagline"}),(0,r.tZ)(Pa.II,{id:D("tagline"),placeholder:"Give your extension a short tagline",value:x,onChange:function(e){y(e.currentTarget.value)},required:!0})]}),(0,r.BX)(c.G,{css:[l.l0.flex.growAndShrink(1),l.l0.colWithGap(4)],tag:"label",htmlFor:D("longDescription"),children:[(0,r.tZ)(s.xv,{multiline:!1,children:"Long Description"}),(0,r.tZ)(Pa.B,{id:D("longDescription"),placeholder:"Give your extension a long description, markdown formatting is supported",value:null!==k&&void 0!==k?k:"",onChange:function(e){C(e.currentTarget.value||void 0)},css:{resize:"vertical"},autoSize:!0})]}),(0,r.BX)(c.G,{css:[l.l0.flex.growAndShrink(1),l.l0.colWithGap(4)],tag:"label",htmlFor:D("icon"),children:[(0,r.tZ)(s.xv,{multiline:!1,children:"Icon"}),(0,r.tZ)(Pa.II,{id:D("icon"),placeholder:"/extension-logo.svg",value:R,onChange:function(e){T(e.currentTarget.value)}})]}),(0,r.BX)(c.G,{css:[l.l0.flex.growAndShrink(1),l.l0.colWithGap(4)],tag:"label",htmlFor:D("coverImage"),children:[(0,r.tZ)(s.xv,{multiline:!1,children:"Cover Image"}),(0,r.tZ)(Pa.II,{id:D("coverImage"),placeholder:"/extension-preview.png",value:I,onChange:function(e){G(e.currentTarget.value)}})]}),(0,r.BX)(c.G,{css:[l.l0.rowWithGap(12),{alignSelf:"end"},l.l0.pt(8)],children:[(0,r.tZ)(ce.zx,{text:"Cancel",onClick:v}),(0,r.tZ)(ce.zx,{colorway:"primary",iconLeft:(0,r.tZ)(Pn.Z,{}),text:"Save Changes",type:"submit"})]})]})}var Rk=t(14292);function Tk(e){var n=e.fileHandlers,t=e.onCreate,i=e.onUpdate,o=e.onOpen,a=e.onDelete,u=(0,d.useState)([]),p=u[0],f=u[1],h=(0,d.useState)(!1),v=h[0],m=h[1];return(0,r.BX)(c.G,{children:[(0,r.BX)(c.G,{css:[l.l0.pb(12)],children:[(0,r.BX)(c.G,{css:[l.l0.rowWithGap(8),l.l0.align.center],children:[(0,r.BX)(c.G,{css:[l.l0.rowWithGap(8),l.l0.align.center],children:[(0,r.tZ)(ad.Z,{}),(0,r.tZ)(s.xv,{variant:"subheadDefault",multiline:!1,children:"File Handlers"})]}),(0,r.tZ)(ue.h,{onClick:function(){return m(!v)},alt:"Add a new File Handler",tooltipHidden:v,disabled:v,children:(0,r.tZ)(gt.Z,{})})]}),(0,r.tZ)(s.xv,{color:"dimmer",variant:"small",multiline:!1,children:"Custom file viewers and editors"})]}),(0,r.BX)(c.G,{css:[l.l0.colWithGap(8)],children:[v?(0,r.tZ)(Ek,{onSubmit:function(e){t(e),m(!1)},onCancel:function(){m(!1)}}):null,n.length?n.map((function(e,n){return p.includes(n)?(0,r.tZ)(Ek,{initialFileHandler:e,onSubmit:function(e){i(e,n),f((function(e){return e.filter((function(e){return e!==n}))}))},onCancel:function(){f((function(e){return e.filter((function(e){return e!==n}))}))}},n):(0,r.BX)(se.Tg,{css:[l.l0.flex.row,l.l0.justify.spaceBetween,l.l0.align.center,l.l0.py(8),l.l0.borderRadius(8),l.l0.flex.wrap,{rowGap:8}],elevated:!0,children:[(0,r.tZ)(s.xv,{multiline:!1,children:null!==(t=e.name)&&void 0!==t?t:"Unnamed"}),(0,r.BX)(c.G,{css:[l.l0.rowWithGap(12),l.l0.align.center],children:[(0,r.tZ)(ue.h,{alt:"Remove ".concat(e.name||"this file handler"),colorway:"red",onClick:function(){a(n)},children:(0,r.tZ)(Ro.Z,{})}),(0,r.tZ)(ue.h,{alt:"Edit ".concat(e.name||"this file handler"),onClick:function(){f((function(e){return(0,Qe.Z)(e).concat([n])}))},children:(0,r.tZ)(wo.Z,{})}),(0,r.tZ)(ce.zx,{iconLeft:(0,r.tZ)(Rk.Z,{}),outlined:!0,text:"Preview",onClick:function(){o(e)}})]})]},n);var t})):(0,r.tZ)(r.HY,{children:v?null:(0,r.BX)(c.G,{css:[l.l0.border({style:"dashed"}),l.l0.borderRadius(8),l.l0.p(16),l.l0.colWithGap(8),l.l0.center],children:[(0,r.tZ)(s.xv,{color:"dimmest",children:"You haven't added a file handler yet"}),(0,r.tZ)(ce.zx,{outlined:!0,text:"New File Handler",iconLeft:(0,r.tZ)(gt.Z,{}),onClick:function(){return m(!0)}})]})})]})]})}function Ek(e){var n,t,i,o,a=e.onSubmit,u=e.onCancel,p=e.initialFileHandler,f=(0,d.useState)(null!==(n=null===p||void 0===p?void 0:p.name)&&void 0!==n?n:""),h=f[0],v=f[1],m=(0,d.useState)(null!==(t=null===p||void 0===p?void 0:p.icon)&&void 0!==t?t:""),g=m[0],Z=m[1],b=(0,d.useState)(null!==(i=null===p||void 0===p?void 0:p.handler)&&void 0!==i?i:""),x=b[0],y=b[1],w=(0,d.useState)(null!==(o=null===p||void 0===p?void 0:p.glob)&&void 0!==o?o:""),k=w[0],C=w[1],S=(0,Ln.H)();return(0,r.BX)(se.Tg,{css:[l.l0.borderRadius(8),l.l0.border({color:l.TV.outlineDimmest}),l.l0.p(8),l.l0.colWithGap(8)],tag:"form",onSubmit:function(e){e.preventDefault(),a({name:h,icon:g,handler:x,glob:k})},elevated:!0,children:[(0,r.BX)(c.G,{css:[l.l0.rowWithGap(2),l.l0.justify.spaceBetween,l.l0.border({color:l.TV.outlineDimmest,direction:"bottom"}),l.l0.align.center,l.l0.flex.wrap,{rowGap:8}],children:[(0,r.tZ)(s.xv,{multiline:!1,children:h||"New File Viewer"}),(0,r.BX)(c.G,{css:[l.l0.rowWithGap(8)],children:[(0,r.tZ)(ce.zx,{text:"Cancel",onClick:function(){u()}}),(0,r.tZ)(ce.zx,{colorway:"primary",iconLeft:(0,r.tZ)(Pn.Z,{}),text:"Save Changes",type:"submit"})]})]}),(0,r.BX)(c.G,{css:[l.l0.colWithGap(8)],children:[(0,r.BX)(c.G,{css:[l.l0.flex.growAndShrink(1),l.l0.colWithGap(2)],tag:"label",htmlFor:S("name"),children:[(0,r.tZ)(s.xv,{color:"dimmer",multiline:!1,children:"Name"}),(0,r.tZ)(Pa.II,{id:S("name"),label:"Name",placeholder:"SVG Editor",value:h,onChange:function(e){v(e.currentTarget.value)},required:!0})]}),(0,r.BX)(c.G,{css:[l.l0.flex.growAndShrink(1),l.l0.colWithGap(2)],tag:"label",htmlFor:S("handler"),children:[(0,r.tZ)(s.xv,{color:"dimmer",multiline:!1,children:"URL Path"}),(0,r.tZ)(Pa.II,{id:S("handler"),placeholder:"/svg-editor",value:x,onChange:function(e){y(e.currentTarget.value)},required:!0})]}),(0,r.BX)(c.G,{css:[l.l0.flex.growAndShrink(1),l.l0.colWithGap(2)],tag:"label",htmlFor:S("glob"),children:[(0,r.tZ)(s.xv,{color:"dimmer",multiline:!1,children:"Glob Pattern"}),(0,r.tZ)(Pa.II,{id:S("glob"),placeholder:"*.svg",value:k,onChange:function(e){C(e.currentTarget.value)},required:!0})]}),(0,r.BX)(c.G,{css:[l.l0.flex.growAndShrink(1),l.l0.colWithGap(2)],tag:"label",htmlFor:S("icon"),children:[(0,r.tZ)(s.xv,{color:"dimmer",multiline:!1,children:"Icon (path)"}),(0,r.tZ)(Pa.II,{id:S("icon"),placeholder:"/svg-editor-logo.png",value:g,onChange:function(e){Z(e.currentTarget.value)},required:!0})]})]})]})}function Ik(e){var n=e.tools,t=e.onCreate,i=e.onUpdate,o=e.onOpen,a=e.onDelete,u=(0,d.useState)([]),p=u[0],f=u[1],h=(0,d.useState)(!1),v=h[0],m=h[1];return(0,r.BX)(c.G,{children:[(0,r.BX)(c.G,{css:[l.l0.pb(12)],children:[(0,r.BX)(c.G,{css:[l.l0.rowWithGap(8),l.l0.align.center],children:[(0,r.BX)(c.G,{css:[l.l0.rowWithGap(8),l.l0.align.center],children:[(0,r.tZ)(pt.Z,{}),(0,r.tZ)(s.xv,{variant:"subheadDefault",multiline:!1,children:"Tools"})]}),(0,r.tZ)(ue.h,{onClick:function(){return m(!v)},alt:"Add a new tool",disabled:v,tooltipHidden:v,children:(0,r.tZ)(gt.Z,{})})]}),(0,r.tZ)(s.xv,{color:"dimmer",variant:"small",multiline:!1,children:"Custom user interfaces as a Pane"})]}),(0,r.BX)(c.G,{css:[l.l0.colWithGap(8)],children:[v?(0,r.tZ)(Gk,{onSubmit:function(e){t(e),m(!1)},onCancel:function(){m(!1)}}):null,n.length?n.map((function(e,n){return p.includes(n)?(0,r.tZ)(Gk,{initialTool:e,onSubmit:function(e){i(e,n),f((function(e){return e.filter((function(e){return e!==n}))}))},onCancel:function(){f((function(e){return e.filter((function(e){return e!==n}))}))}},n):(0,r.BX)(se.Tg,{css:[l.l0.flex.row,l.l0.justify.spaceBetween,l.l0.align.center,l.l0.p(8),l.l0.borderRadius(8),l.l0.flex.wrap,{rowGap:8}],elevated:!0,children:[(0,r.tZ)(s.xv,{multiline:!1,children:null!==(t=e.name)&&void 0!==t?t:"Unnamed"}),(0,r.BX)(c.G,{css:[l.l0.rowWithGap(12),l.l0.align.center],children:[(0,r.tZ)(ue.h,{alt:"Remove ".concat(e.name||"this tool"),colorway:"red",onClick:function(){a(n)},children:(0,r.tZ)(Ro.Z,{})}),(0,r.tZ)(ue.h,{alt:"Remove ".concat(e.name||"this tool"),onClick:function(){f((function(e){return(0,Qe.Z)(e).concat([n])}))},children:(0,r.tZ)(wo.Z,{})}),(0,r.tZ)(ce.zx,{iconLeft:(0,r.tZ)(ep.Z,{}),outlined:!0,text:"Preview",onClick:function(){o(e)}})]})]},n);var t})):(0,r.tZ)(r.HY,{children:v?null:(0,r.BX)(c.G,{css:[l.l0.border({style:"dashed"}),l.l0.borderRadius(8),l.l0.p(16),l.l0.colWithGap(8),l.l0.center],children:[(0,r.tZ)(s.xv,{color:"dimmest",children:"You haven't added any tools"}),(0,r.tZ)(ce.zx,{outlined:!0,text:"New Tool",iconLeft:(0,r.tZ)(gt.Z,{}),onClick:function(){return m(!0)}})]})})]})]})}function Gk(e){var n,t,i,o=e.onSubmit,a=e.onCancel,u=e.initialTool,p=(0,d.useState)(null!==(n=null===u||void 0===u?void 0:u.name)&&void 0!==n?n:""),f=p[0],h=p[1],v=(0,d.useState)(null!==(t=null===u||void 0===u?void 0:u.icon)&&void 0!==t?t:null),m=v[0],g=v[1],Z=(0,d.useState)(null!==(i=null===u||void 0===u?void 0:u.handler)&&void 0!==i?i:""),b=Z[0],x=Z[1],y=(0,Ln.H)();return(0,r.BX)(se.Tg,{tag:"form",css:[l.l0.borderRadius(8),l.l0.border({color:l.TV.outlineDimmest}),l.l0.p(8)],elevated:!0,onSubmit:function(e){e.preventDefault(),o({name:f,icon:m,handler:b})},children:[(0,r.BX)(c.G,{css:[l.l0.rowWithGap(2),l.l0.justify.spaceBetween,l.l0.border({color:l.TV.outlineDimmest,direction:"bottom"}),l.l0.align.center,l.l0.flex.wrap,{rowGap:8}],children:[(0,r.tZ)(s.xv,{multiline:!1,children:f||"New Tool"}),(0,r.BX)(c.G,{css:[l.l0.rowWithGap(8)],children:[(0,r.tZ)(ce.zx,{text:"Cancel",onClick:function(){a()}}),(0,r.tZ)(ce.zx,{colorway:"primary",iconLeft:(0,r.tZ)(Pn.Z,{}),text:"Save Changes",type:"submit"})]})]}),(0,r.BX)(c.G,{css:[l.l0.colWithGap(8)],children:[(0,r.BX)(c.G,{css:[l.l0.flex.growAndShrink(1),l.l0.colWithGap(2)],tag:"label",htmlFor:y("name"),children:[(0,r.tZ)(s.xv,{color:"dimmer",multiline:!1,children:"Name"}),(0,r.tZ)(Pa.II,{id:y("name"),label:"Name",placeholder:"SQL Viewer",value:f,onChange:function(e){h(e.currentTarget.value)},required:!0})]}),(0,r.BX)(c.G,{css:[l.l0.flex.growAndShrink(1),l.l0.colWithGap(2)],tag:"label",htmlFor:y("handler"),children:[(0,r.tZ)(s.xv,{color:"dimmer",multiline:!1,children:"URL Path"}),(0,r.tZ)(Pa.II,{id:y("handler"),placeholder:"/sql",value:b,onChange:function(e){x(e.currentTarget.value)},required:!0})]}),(0,r.BX)(c.G,{css:[l.l0.flex.growAndShrink(1),l.l0.colWithGap(2)],tag:"label",htmlFor:y("icon"),children:[(0,r.tZ)(s.xv,{color:"dimmer",multiline:!1,children:"Icon (path)"}),(0,r.tZ)(Pa.II,{id:y("icon"),placeholder:"/sql-logo.png",value:null!==m&&void 0!==m?m:"",onChange:function(e){g(e.currentTarget.value||null)},required:!0})]})]})]})}function Dk(e){var n=e.glob,t=e.openFile,i=(0,pe.Z)().fs,o=(0,d.useState)(null),a=o[0],u=o[1],p=(0,d.useMemo)((function(){return(0,Io.Z)(n)}),[n]);return(0,d.useEffect)((function(){var e=!1;function n(){return(n=(0,tt.Z)((function(){var n;return(0,rt.__generator)(this,(function(t){switch(t.label){case 0:return[4,i.listFiles()];case 1:return n=t.sent(),e?[2]:n.files&&p?(u(n.files.filter((function(e){return e.match(p)}))),[2]):[2]}}))}))).apply(this,arguments)}return function(){n.apply(this,arguments)}(),function(){e=!0}}),[p,i]),a?0===a.length?(0,r.tZ)(c.G,{children:(0,r.BX)(s.xv,{multiline:!1,children:["No files found matching the glob pattern: ",n]})}):(0,r.BX)(c.G,{css:l.l0.colWithGap(8),children:[(0,r.BX)(s.xv,{multiline:!1,children:["Pick a file (files match ",n,")"]}),a.map((function(e){return(0,r.tZ)(ce.zx,{text:e,onClick:function(){t(e)}},e)}))]}):(0,r.BX)(c.G,{children:["Loading a list of files matching ",n]})}function Bk(e){var n,t,i=e.manifest,o=e.performPaneOperation,a=e.update,s=(0,Bv.zm)(),u=(0,Bv.I1)(),p=(0,d.useState)(null),f=p[0],h=p[1];return(0,r.BX)(c.G,{css:[l.l0.colWithGap(24),l.l0.width("100%")],children:[(0,r.tZ)(Tk,{onOpen:function(){var e=(0,tt.Z)((function(e){return(0,rt.__generator)(this,(function(n){return h(e),[2]}))}));return function(n){return e.apply(this,arguments)}}(),onDelete:function(e){var n;a((0,he.Z)((0,R.Z)({},i),{fileHandlers:null===(n=i.fileHandlers)||void 0===n?void 0:n.filter((function(n,t){return t!==e}))}))},onUpdate:function(e,n){var t,r,o,l;a((0,he.Z)((0,R.Z)({},i),{fileHandlers:(0,Qe.Z)(null!==(o=null===(t=i.fileHandlers)||void 0===t?void 0:t.slice(0,n))&&void 0!==o?o:[]).concat([e],(0,Qe.Z)(null!==(l=null===(r=i.fileHandlers)||void 0===r?void 0:r.slice(n+1))&&void 0!==l?l:[]))}))},onCreate:function(e){var n;a((0,he.Z)((0,R.Z)({},i),{fileHandlers:(0,Qe.Z)(null!==(n=i.fileHandlers)&&void 0!==n?n:[]).concat([e])}))},fileHandlers:null!==(n=i.fileHandlers)&&void 0!==n?n:[]}),(0,r.tZ)(Ik,{onOpen:function(){var e=(0,tt.Z)((function(e){var n,t;return(0,rt.__generator)(this,(function(r){switch(r.label){case 0:return(n=s)?[3,2]:[4,u()];case 1:n=r.sent(),r.label=2;case 2:if(!n)throw new Error("Expected current repl to be installed as an extension");return o({operation:"open",pane:{type:"extension",data:{extensionId:n.extensionId,installationId:n.installationId,name:null!==(t=e.name)&&void 0!==t?t:n.manifest.name,url:(0,Eo.Vh)(n.baseUrl,e.handler)}}}),[2]}}))}));return function(n){return e.apply(this,arguments)}}(),onDelete:function(e){var n;a((0,he.Z)((0,R.Z)({},i),{tools:null===(n=i.tools)||void 0===n?void 0:n.filter((function(n,t){return t!==e}))}))},onUpdate:function(e,n){var t,r,o,l;a((0,he.Z)((0,R.Z)({},i),{tools:(0,Qe.Z)(null!==(o=null===(t=i.tools)||void 0===t?void 0:t.slice(0,n))&&void 0!==o?o:[]).concat([e],(0,Qe.Z)(null!==(l=null===(r=i.tools)||void 0===r?void 0:r.slice(n+1))&&void 0!==l?l:[]))}))},onCreate:function(e){var n;a((0,he.Z)((0,R.Z)({},i),{tools:(0,Qe.Z)(null!==(n=i.tools)&&void 0!==n?n:[]).concat([e])}))},tools:null!==(t=i.tools)&&void 0!==t?t:[]}),(0,r.tZ)(tn.u,{isOpen:!!f,onRequestClose:function(){return h(null)},children:f?(0,r.tZ)(Dk,{glob:f.glob,openFile:function(){var e=(0,tt.Z)((function(e){var n,t;return(0,rt.__generator)(this,(function(r){switch(r.label){case 0:if(!f)throw new Error("Expected pending file handler");return(n=s)?[3,2]:[4,u()];case 1:n=r.sent(),r.label=2;case 2:if(!n)throw new Error("Expected current repl to be installed as an extension");return o({operation:"open",pane:{type:"extension",data:{extensionId:n.extensionId,installationId:n.installationId,name:null!==(t=f.name)&&void 0!==t?t:n.manifest.name,url:(0,Eo.Vh)(n.baseUrl,f.handler),path:e}}}),h(null),[2]}}))}));return function(n){return e.apply(this,arguments)}}()}):null})]})}var Pk=t(8082),_k=t(13548),Ak=t(14723),Uk=t(71540),Lk=t(72463),zk=t(25150);var Ok=function(e){var n=e.complete,t=e.onClick,i=e.description,o=e.title,a=e.icon,u=n?"dimmer":"default";return(0,r.BX)(c.G,{tag:"li",css:[de.gU.filled,l.l0.position.relative,l.l0.p(4),n?l.l0.backgroundColor.backgroundDefault:l.l0.backgroundColor.backgroundHigher,{border:"1px solid ".concat(l.TV.outlineDimmer)},n&&{pointerEvents:"none"}],children:[(0,r.BX)(c.G,{css:[l.l0.p(4)],children:[(0,r.BX)(c.G,{css:[l.l0.rowWithGap(6),l.l0.align.center],children:[n?(0,r.tZ)(Pn.Z,{color:l.TV.accentPositiveStrongest,size:16,css:[l.l0.mr(4)]}):null!==a&&void 0!==a?a:null,(0,r.tZ)(s.xv,{variant:"small",color:u,css:[l.l0.fontWeight.medium],children:o})]}),i?(0,r.tZ)(s.xv,{color:"dimmer",variant:"small",children:i}):null,(0,r.tZ)(c.G,{children:(0,r.tZ)("button",{onClick:function(){t&&"function"===typeof t&&t()},type:"button",className:"jsx-6c599e90d55a1346",children:"Start"})})]}),(0,r.tZ)(en(),{id:"6c599e90d55a1346",children:'button.jsx-6c599e90d55a1346{overflow:hidden;margin:-1px;border-width:0;padding:0;width:1px;height:1px;background:none;clip:rect(0,0,0,0);white-space:nowrap;cursor:pointer}button.jsx-6c599e90d55a1346::after{content:"";position:absolute;top:0;right:0;bottom:0;left:0;display:block;cursor:pointer;z-index:1}'})]})},Xk=function(e){var n=e.performPaneOperation,t=e.setSelectedTab,i=(0,zk.o)("extensions-onboarding-checklist"),o=i.isDone,a=i.setAsDone,u=(0,zk.o)("extensions-onboarding-checklist-create"),p=u.isDone,f=u.setAsDone,h=(0,zk.o)("extensions-onboarding-checklist-concepts"),v=h.isDone,m=h.setAsDone,Z=(0,zk.o)("extensions-onboarding-checklist-api"),b=Z.isDone,x=Z.setAsDone,y=(0,zk.o)("extensions-onboarding-checklist-publish").isDone;if((0,d.useEffect)((function(){f()}),[]),void 0===o||!0===o)return null;var w=[p,v,b,y].filter(Boolean).length,k=[{name:"create",title:"Create an Extension",complete:!!p,icon:(0,r.tZ)(lu.Z,{})},{name:"concepts",title:"Learn key concepts",complete:!!v,onClick:function(){n({operation:"open",secondary:!0,pane:{type:"docs",data:{url:_v.TT.EXTENSIONS}}}),(0,g.j)(g.U3.EXTENSION_DEVELOPER_ONBOARDING_COMPLETED,{step:"concepts"}),m()},icon:(0,r.tZ)(Uk.Z,{})},{name:"learn",title:"Use the API",complete:!!b,onClick:function(){n({operation:"open",secondary:!0,pane:{type:"docs",data:{url:_v.TT.EXTENSIONS}}}),(0,g.j)(g.U3.EXTENSION_DEVELOPER_ONBOARDING_COMPLETED,{step:"learn"}),x()},icon:(0,r.tZ)(lb.Z,{})},{name:"publish",title:"Publish your Extension",complete:!!y,onClick:function(){t(1)},icon:(0,r.tZ)(Lk.Z,{})}];return(0,r.tZ)("section",{css:[l.l0.width("100%")],children:(0,r.BX)(c.G,{css:[l.l0.colWithGap(12)],children:[(0,r.tZ)(c.G,{css:[l.l0.colWithGap(2)],children:(0,r.BX)(c.G,{css:[l.l0.rowWithGap(12),l.l0.align.center,l.l0.flex.wrap],children:[(0,r.tZ)(s.xv,{variant:"subheadDefault",children:"Get started with Extensions"}),(0,r.BX)(c.G,{css:[l.l0.rowWithGap(12),l.l0.align.center],children:[(0,r.tZ)(c.G,{css:[l.l0.rowWithGap(2),l.l0.align.center,l.l0.justify.center],children:Array.from({length:k.length}).map((function(e,n){return(0,r.tZ)(c.G,{css:[l.l0.borderRadius(8),l.l0.width(12),l.l0.height(4),n<w?l.l0.backgroundColor.accentPositiveDefault:l.l0.backgroundColor.backgroundHighest]},n)}))}),(0,r.tZ)(s.xv,{multiline:!1,variant:"small",color:"dimmer",children:"".concat(w,"/").concat(k.length)}),(0,r.tZ)(ue.h,{alt:"Hide section",onClick:a,children:(0,r.tZ)(lo.Close,{})})]})]})}),(0,r.tZ)(c.G,{tag:"ul",css:[l.l0.flex.row,l.l0.flex.wrap,{listStyleType:"none",gap:l.TV.space8}],children:k.map((function(e,n){return(0,r.tZ)(Ok,(0,R.Z)({},e),n)}))})]})})};function jk(e){var n=e.filePaths,t=e.outputDir,r=[],i=!0,o=!1,a=void 0;try{for(var l,s=n[Symbol.iterator]();!(i=(l=s.next()).done);i=!0){var c=l.value;if("extension.json"===c)return c;c.endsWith("/extension.json")&&r.push(c)}}catch(g){o=!0,a=g}finally{try{i||null==s.return||s.return()}finally{if(o)throw a}}var u,d=!0,p=!1,f=void 0;try{for(var h,v=r[Symbol.iterator]();!(d=(h=v.next()).done);d=!0){var m=h.value;if(!m.startsWith(t))return m}}catch(g){p=!0,f=g}finally{try{d||null==v.return||v.return()}finally{if(p)throw f}}return null!==(u=r[0])&&void 0!==u?u:null}function Nk(e){var n=e.children;return(0,r.tZ)(c.G,{css:[l.l0.colWithGap(12),l.l0.p(16)],children:(0,r.tZ)(se.Tg,{elevated:!0,css:[l.l0.p(16),l.l0.borderRadius(8),l.l0.colWithGap(8)],children:n})})}function Mk(e){var n=e.performPaneOperation,t=e.setSelectedTab,i=(0,d.useState)(null),o=i[0],a=i[1],u=(0,pe.Z)(),p=u.fs,f=u.dotReplit,h=(0,x.P5)({controlName:"flag-extensions-onboarding",logFlagToAnalytics:!0}),v=(0,d.useCallback)((function(e){a((function(n){if(!n)throw new Error("state should be defined");return(0,he.Z)((0,R.Z)({},n),{manifestStr:e})}))}),[]),m=(0,d.useState)(0),g=m[0],Z=m[1],b=function(){Z((function(e){return e+1}))},y=(0,d.useState)(!1),k=y[0],C=y[1],S=(0,d.useCallback)((0,tt.Z)((function(){return(0,rt.__generator)(this,(function(e){switch(e.label){case 0:return[4,p.writeFile("extension.json",JSON.stringify({name:"My Extension",description:"My Extension Description",version:"0"},null,2))];case 1:return e.sent(),[2]}}))})),[p]);(0,d.useEffect)((function(){a(null);var e=!1,n=function(){};function t(){return t=(0,tt.Z)((function(){var t,r,i,o,l,s,c;return(0,rt.__generator)(this,(function(u){switch(u.label){case 0:return[4,Promise.all([p.listFiles(),f.getConfig()])];case 1:return r=w.Z.apply(void 0,[u.sent(),2]),i=r[0],o=r[1],e?[2]:!i.files||o.error?(a({fileError:"Failed to read files, please try again"}),[2]):(s=(0,am.Oh)((0,am.AH)(null!==(l=null===(t=o.config.extension)||void 0===t?void 0:t.outputDirectory)&&void 0!==l?l:"dist")),(c=jk({filePaths:i.files,outputDir:s}))?(n=p.watchTextFile(c,{onReady:function(e){var n=e.writeChange,t=e.initialContent;a({fileError:null,writeChange:n,manifestStr:t,manifestPath:c})},onChange:function(e){var n=e.latestContent;v(n)},onMoveOrDelete:function(){a({fileError:"extension.json was moved or deleted, please re-add it"})},onError:function(){a({fileError:"Failed to read extension.json"})}}),[2]):(a({fileError:"No extension.json found"}),[2]))}}))})),t.apply(this,arguments)}return function(){t.apply(this,arguments)}(),function(){n(),e=!0}}),[p,v,f,g]);var T=(0,d.useMemo)((function(){if(!o||null!==o.fileError)return null;var e;try{e=yh.ku(o.manifestStr)}catch(n){return{error:n,manifest:null}}return(0,Eo.U4)(e)}),[o]);if(!o)return(0,r.tZ)(c.G,{css:[l.l0.justify.center,l.l0.align.center,l.l0.display.flex,l.l0.width("100%"),l.l0.height("100%")],children:(0,r.tZ)(Ze.Z,{})});if(null!==o.fileError)return(0,r.BX)(Nk,{children:[(0,r.BX)(c.G,{css:[l.l0.rowWithGap(8),l.l0.display.flex,l.l0.align.center],children:[(0,r.tZ)(xx.Z,{}),(0,r.tZ)(s.xv,{variant:"headerDefault",multiline:!1,children:"Error reading extension.json"})]}),(0,r.tZ)(s.xv,{multiline:!1,children:o.fileError}),(0,r.BX)(c.G,{css:[l.l0.rowWithGap(8)],children:[(0,r.tZ)(ce.zx,{colorway:"primary",text:"Create extension.json",loading:k,iconLeft:k?(0,r.tZ)(Ze.Z,{}):(0,r.tZ)(gt.Z,{}),onClick:(0,tt.Z)((function(){return(0,rt.__generator)(this,(function(e){switch(e.label){case 0:return C(!0),[4,S()];case 1:return e.sent(),b(),C(!1),[2]}}))}))}),(0,r.tZ)(ce.zx,{text:"Retry",iconLeft:(0,r.tZ)(Lc.Z,{}),onClick:function(){b()}})]})]});if(!T)throw new Error("expected parsed to be defined if state exists");var E=T.manifest,I=T.error;return I?(0,r.tZ)(Nk,{children:(0,r.BX)(c.G,{css:[l.l0.colWithGap(16),l.l0.p(8)],children:[(0,r.BX)(c.G,{css:[l.l0.rowWithGap(8),l.l0.display.flex,l.l0.align.center],children:[(0,r.tZ)(xx.Z,{}),(0,r.tZ)(s.xv,{variant:"headerDefault",multiline:!1,children:"Error parsing extension.json"})]}),(0,r.tZ)(s.xv,{variant:"subheadDefault",multiline:!1,children:"Details:"}),(0,r.tZ)(c.G,{css:[l.l0.colWithGap(8)],children:(0,Qn.Z)(I,ag.jm)?I.issues.map((function(e,n){var t=e.path,i=e.message;return(0,r.BX)(c.G,{css:[l.l0.display.flex,l.l0.flex.row,l.l0.rowWithGap(4)],children:[(0,r.tZ)(s.xv,{multiline:!1,css:[l.l0.font.code,l.l0.color.orangeStrongest,l.l0.backgroundColor.orangeDimmest],children:t.join(".")}),(0,r.tZ)(s.xv,{multiline:!1,children:i})]},n)})):(0,r.tZ)(c.G,{tag:"pre",children:I.message})}),(0,r.BX)(c.G,{css:[l.l0.rowWithGap(8)],children:[(0,r.tZ)(ce.zx,{colorway:"primary",text:"Open extension.json",onClick:function(){n({operation:"open",secondary:!0,pane:(0,xo.$E)(o.manifestPath)})}}),(0,r.tZ)(ce.zx,{iconLeft:(0,r.tZ)(ar.Z,{}),text:"Read extension.json docs",onClick:function(){window.open("https://docs.replit.com/extensions/api/manifest","_blank")}})]})]})}):(0,r.BX)(c.G,{css:[l.l0.colWithGap(24),l.l0.align.center,l.l0.pt(12),l.l0.width("100%")],children:[(0,r.tZ)(Ck,{manifest:E,update:function(e){var n=yh.r$(o.manifestStr,e);o.writeChange((0,Pk.F)(o.manifestStr,n)),v(n)}}),h?(0,r.tZ)(Xk,{performPaneOperation:n,setSelectedTab:t}):null,(0,r.tZ)(c.G,{css:[l.l0.border({direction:"bottom",width:4,color:l.TV.outlineDimmest}),l.l0.width("100%")]}),(0,r.BX)(c.G,{css:[l.l0.colWithGap(8),l.l0.width("100%")],children:[(0,r.BX)(c.G,{css:[l.l0.colWithGap(2)],children:[(0,r.BX)(c.G,{css:[l.l0.rowWithGap(8),l.l0.align.center],children:[(0,r.tZ)(_k.Z,{}),(0,r.tZ)(s.xv,{variant:"subheadDefault",multiline:!1,children:"Permission Scopes"})]}),(0,r.BX)(s.xv,{variant:"small",color:"dimmer",children:["Let users know what your Extension can do with their data. For more information,"," ",(0,r.tZ)("a",{onClick:function(){return n({operation:"open",secondary:!0,pane:{type:"docs",data:{url:_v.TT.EXTENSIONS+"/api/manifest#scopetype"}}})},children:"read the docs"}),"."]})]}),(0,r.tZ)(c.G,{css:[l.l0.borderRadius(4),l.l0.border({color:l.TV.outlineDimmest,width:1}),l.l0.flex.row,l.l0.align.center,l.l0.p(8),l.l0.flex.wrap,{gap:12},l.l0.width("fit-content")],children:Ak.k.map((function(e){var n;return(0,r.BX)(c.G,{css:[l.l0.rowWithGap(6),l.l0.align.center],children:[(0,r.tZ)(Yn.X,{id:e.key,checked:null===(n=E.scopes)||void 0===n?void 0:n.some((function(n){return n.name===e.key})),onChange:function(n){var t,r,i,a=(null===(t=E.scopes)||void 0===t?void 0:t.some((function(n){return n.name===e.key})))&&!n.target.checked?yh.r$(o.manifestStr,(0,he.Z)((0,R.Z)({},E),{scopes:null===(r=E.scopes)||void 0===r?void 0:r.filter((function(n){return n.name!==e.key}))})):yh.r$(o.manifestStr,(0,he.Z)((0,R.Z)({},E),{scopes:(0,Qe.Z)(null!==(i=E.scopes)&&void 0!==i?i:[]).concat([{name:e.key,reason:e.description}])}));o.writeChange((0,Pk.F)(o.manifestStr,a)),v(a)}}),(0,r.tZ)("label",{htmlFor:e.key,css:[l.l0.fontSize(12),l.l0.cursor.pointer],children:(0,r.tZ)("abbr",{title:e.description,css:[{textDecorationColor:l.TV.foregroundDimmest}],children:e.friendlyName})})]},e.key)}))})]}),(0,r.tZ)(Bk,{performPaneOperation:n,manifest:E,update:function(e){var n=yh.r$(o.manifestStr,e);o.writeChange((0,Pk.F)(o.manifestStr,n)),v(n)}})]})}function Fk(){var e=(0,T.Z)(["\n  query ExtensionOwner($extensionId: String!) {\n    extension(id: $extensionId) {\n      ... on Extension {\n        id\n        user {\n          id\n        }\n      }\n      ... on NotFoundError {\n        message\n      }\n    }\n  }\n"]);return Fk=function(){return e},e}function Wk(){var e=(0,T.Z)(["\n  mutation DeployExtension(\n    $extensionId: String!\n    $replId: String!\n    $outputDirectory: String!\n  ) {\n    deployExtension(\n      extensionId: $extensionId\n      replId: $replId\n      outputDirectory: $outputDirectory\n    ) {\n      ... on Extension {\n        ...TopLevelExtension\n      }\n      ... on TooManyRequestsError {\n        message\n      }\n      ... on UserError {\n        message\n      }\n    }\n  }\n  ","\n"]);return Wk=function(){return e},e}function Vk(){var e=(0,T.Z)(["\n  mutation CreateExtension($name: String!, $description: String!) {\n    createExtension(name: $name, description: $description) {\n      ... on Extension {\n        id\n        url\n      }\n      ... on UserError {\n        message\n      }\n      ... on TooManyRequestsError {\n        message\n      }\n      ... on UnauthorizedError {\n        message\n      }\n    }\n  }\n"]);return Vk=function(){return e},e}var Hk={},Yk=(0,E.Ps)(Fk());var qk=(0,E.Ps)(Wk(),Tv.R9);var Kk=(0,E.Ps)(Vk());var $k,Qk=c.K.button;!function(e){e.Pending="pending",e.Active="active",e.Complete="complete",e.Error="error"}($k||($k={}));var Jk,eC=function(){return(0,r.tZ)(c.G,{css:[l.l0.flex.row,l.l0.flex.grow(1),l.l0.border({color:l.TV.outlineDimmest,direction:"top"})]})},nC=function(e){var n=e.text,t=e.small,i=e.big,o=e.state,a=e.onClick,s=e.disabled,c=e.hideLoadingIcon,u=(0,ce.TS)({small:t,big:i}),d=(0,ce.m2)({small:t,big:i});return(0,r.tZ)(Qk,{type:"button",css:[l.l0.reset.button,l.l0.position.relative,a&&de.gU.nofill,l.l0.px(8),l.l0.py(2),l.l0.borderRadius(4),l.l0.rowWithGap(4),l.l0.align.center,{borderRadius:l.TV.borderRadiusRound}].concat((0,Qe.Z)(o===$k.Error?[l.l0.color.accentNegativeStronger]:o===$k.Active?[l.l0.backgroundColor.accentPrimaryDimmer,l.l0.color.accentPrimaryStrongest]:o===$k.Complete?[l.l0.color.accentPositiveStronger]:[l.l0.color.foregroundDimmest])),onClick:a,disabled:s,children:(0,r.tZ)(ce.BQ,{text:n,iconSize:d,variant:u,iconRight:function(){if(o===$k.Error)return(0,r.tZ)(xx.Z,{});if(o===$k.Active){if(c)return;return(0,r.tZ)(Ze.Z,{})}return o===$k.Complete?(0,r.tZ)(Pn.Z,{}):(0,r.tZ)(_k.Z,{})}()})})},tC=t(29061),rC=t(12318),iC=t(4780),oC=t(9348),aC=t(60583),lC=t(50575);!function(e){e.Init="Init",e.Building="Building",e.BuildError="BuildError",e.Validating="Validating",e.ValidationError="ValidationError",e.CreatingExtension="CreatingExtension",e.CreatingExtensionError="CreatingExtensionError",e.Deploying="Deploying",e.DeployError="DeployError",e.Success="Success"}(Jk||(Jk={}));var sC,cC=[Jk.Building,Jk.Validating,Jk.CreatingExtension,Jk.Deploying];!function(e){e.Init="Configure",e.Build="Build",e.Validate="Validate",e.Create="Create",e.Deploy="Deploy"}(sC||(sC={}));var uC=[sC.Init,sC.Build,sC.Validate,sC.Deploy];function dC(e){var n,t=e.performPaneOperation,i=function(){return q?"Build error: ".concat(q):Q?"Validation error: ".concat(Q):Q?"Create extension error: ".concat(ne):ie?"Deploy error: ".concat(ie):void 0},o=(0,pe.Z)(),a=o.container,u=o.fs,p=o.dotReplit,f=(0,w.Z)(function(e){var n=(0,R.Z)({},Hk,e);return ai.t(Yk,n)}(),1)[0],h=(n="publish",(0,zk.o)("extensions-onboarding-checklist-".concat(n)).setAsDone),v=(0,Pv.d)(),m=(0,w.Z)(d.useState(null),2),Z=m[0],b=m[1],x=(0,w.Z)(d.useState(Jk.Init),2),y=x[0],k=x[1],C=(0,w.Z)(d.useState(null),2),S=C[0],T=C[1],E=(0,rC.Y)("",(function(e){return e?e.startsWith("/")?{message:'Folder must be relative to the root of your project (e.g. "extension" or "./extension")',severity:"error"}:null:{message:"Output folder is required",severity:"error"}})),I=E.value,D=E.setValue,B=E.error,P=E.validate,_=(0,w.Z)(d.useState([]),2),A=_[0],U=_[1],L=(0,d.useCallback)((function(e){return t({operation:"open",secondary:!0,pane:{type:(0,it.Dp)(e),data:e}})}),[t]),z=(0,w.Z)((0,oC.Z)({openFile:L,listFiles:u.listFiles}),2),O=z[0],X=z[1],j=(0,aC.f)();d.useEffect((function(){O&&(O.clear(),A.forEach((function(e){O.write(e.replaceAll("\n","\r\n"))})))}),[A,O]);var N=d.useCallback((function(e){if(null===e||void 0===e?void 0:e.config){var n=e.config.extension;if(!n||!1===n.isExtension)return b(null),T(null),void D(null);n.buildCommand&&T(n.buildCommand),n.outputDirectory&&D(n.outputDirectory),n.extensionID&&b(n.extensionID)}}),[D]);d.useEffect((function(){var e=!1;return(0,tt.Z)((function(){var n;return(0,rt.__generator)(this,(function(t){switch(t.label){case 0:return[4,p.getConfig()];case 1:return n=t.sent(),e?[2]:(N(n),[2])}}))}))(),function(){e=!0}}),[p,N]);var M=d.useCallback(function(){var e=(0,tt.Z)((function(e){return(0,rt.__generator)(this,(function(n){switch(n.label){case 0:return b(e),[4,p.updateDotReplit([{op:"add",path:"extension/extensionID",value:JSON.stringify(e)},{op:"add",path:"extension/isExtension",value:JSON.stringify(!0)}])];case 1:return n.sent(),[2]}}))}));return function(n){return e.apply(this,arguments)}}(),[p]),F=d.useCallback(function(){var e=(0,tt.Z)((function(e){return(0,rt.__generator)(this,(function(n){switch(n.label){case 0:return T(e),[4,p.updateDotReplit([{op:"add",path:"extension/buildCommand",value:JSON.stringify(e)},{op:"add",path:"extension/isExtension",value:JSON.stringify(!0)}])];case 1:return n.sent(),[2]}}))}));return function(n){return e.apply(this,arguments)}}(),[p]),W=(0,w.Z)(d.useState(null),2),V=W[0],H=W[1],Y=(0,w.Z)(d.useState(null),2),q=Y[0],K=Y[1],$=(0,w.Z)(d.useState(null),2),Q=$[0],J=$[1],ee=(0,w.Z)(d.useState(null),2),ne=ee[0],te=ee[1],re=(0,w.Z)(d.useState(null),2),ie=re[0],oe=re[1],ae=(0,w.Z)(function(e){var n=(0,R.Z)({},Hk,e);return G.D(qk,n)}(),1)[0],le=(0,Ae.Z)(),ue=(0,w.Z)(function(e){var n=(0,R.Z)({},Hk,e);return G.D(Kk,n)}(),1)[0],de=(0,w.Z)(d.useState(null),2),fe=de[0],he=de[1],ve=d.useCallback(function(){var e=(0,tt.Z)((function(e){var n,t,r,i,o;return(0,rt.__generator)(this,(function(a){switch(a.label){case 0:return n=e.name,t=e.description,[4,ue({variables:{name:n,description:t}})];case 1:if((i=a.sent()).errors)return[2,{error:i.errors.map((function(e){return e.message})).join(", "),result:null}];if(!(o=null===(r=i.data)||void 0===r?void 0:r.createExtension))return[2,{error:"Failed to create extension",result:null}];if("TooManyRequestsError"===o.__typename||"UserError"===o.__typename||"UnauthorizedError"===o.__typename)return[2,{error:"Failed to create extension: "+o.message,result:null}];if("Extension"===o.__typename)return[2,{error:null,result:o}];throw new Error("Unexpected response from createExtension mutation")}}))}));return function(n){return e.apply(this,arguments)}}(),[ue]),ge=d.useCallback(function(){var e=(0,tt.Z)((function(e,n){var t;return(0,rt.__generator)(this,(function(r){return t=a.client(),[2,new Promise((function(r){var i=t.openChannel({service:"exec"},(function(t){var o=t.channel,a="";o.onCommand((function(e){e.output&&(a+=e.output,n(e.output))})),o.request({exec:{args:["bash","-c",e],env:null}}).then((function(e){e.channelClosed?r({error:"Channel closed",output:a||null}):("open"===o.status&&i(),e.error?r({error:e.error,output:a||null}):r({output:a,error:null}))}))}))}))]}))}));return function(n,t){return e.apply(this,arguments)}}(),[a]),be=d.useCallback((0,tt.Z)((function(){var e,n,t,r,i,o,l,s,c,d,p,m,b,x,y;return(0,rt.__generator)(this,(function(w){switch(w.label){case 0:return e=Z,[4,P()];case 1:if(null===(n=w.sent())||void 0===n?void 0:n.message)return J(null===n||void 0===n?void 0:n.message),[2];if(!I)throw new Error("expected output folder");return t=(0,am.AH)(I),(r=function(){k(Jk.Init),U([]),oe(null),J(null),K(null),H(null)})(),k(Jk.Building),[4,u.flush()];case 2:return w.sent(),S?[4,ge(S,(function(e){U((function(n){return n?(0,Qe.Z)(n).concat([e]):[e]}))}))]:[3,4];case 3:if((i=w.sent()).error)return k(Jk.BuildError),K(i.error+" "+(i.output||" ")),[2];w.label=4;case 4:return k(Jk.Validating),[4,a.exec("test","-d",t)];case 5:return w.sent().error?(k(Jk.ValidationError),J("The output folder ".concat(t," does not exist. Please create it and ensure the path is relative to your project's root directory.")),[2]):[4,u.readFile("".concat(t,"/extension.json"),{fromDisk:!0})];case 6:if((o=w.sent()).error)return k(Jk.ValidationError),J("The output folder ".concat(t," does not have an extension.json file. Please make sure you have an extension.json file in your output folder.")),[2];l=o.content.toString("utf8");try{s=yh.ku(l)}catch(C){return k(Jk.ValidationError),J("The extension.json file in the output folder ".concat(t," is not a valid JSON file: ").concat(C)),[2]}return(c=(0,Eo.U4)(s)).error?(k(Jk.ValidationError),J("The extension.json file in the output folder ".concat(t," is not a valid manifest: ").concat(c.error.issues.map((function(e){return"".concat(e.path,": ").concat(e.message)})))),[2]):e?[4,f({variables:{extensionId:e}})]:[3,12];case 7:if((d=w.sent()).error||!d.data)throw new Error("Encountered an unknown error. Please contact support.");return"NotFoundError"!==(null===(p=d.data.extension)||void 0===p?void 0:p.__typename)?[3,9]:[4,new Promise((function(n){he({message:"The extension referenced in .replit (".concat(e,") does not exist. Would you like to create a new extension?"),callback:function(e){he(null),n(e)}})}))];case 8:return w.sent()?(e=null,[3,12]):(r(),[2]);case 9:return"Extension"!==(null===p||void 0===p?void 0:p.__typename)||p.user.id===v?[3,11]:[4,new Promise((function(n){he({message:"The extension referenced in .replit (".concat(e,") belongs to another user. Would you like to create a new extension?"),callback:function(e){he(null),n(e)}})}))];case 10:return w.sent()?(e=null,[3,12]):(r(),[2]);case 11:if("Extension"!==(null===p||void 0===p?void 0:p.__typename)||p.user.id!==v)throw new Error("Encountered an unknown error. Please contact support.");w.label=12;case 12:return e?[3,14]:(k(Jk.CreatingExtension),[4,ve({description:c.manifest.description,name:c.manifest.name})]);case 13:if(null!==(m=w.sent()).error)return k(Jk.CreatingExtensionError),te(m.error),[2];e=m.result.id,M(e),w.label=14;case 14:if(!e)throw new Error("expected extension id to be set");return[4,(0,tC.r)(a,t)];case 15:w.sent(),k(Jk.Deploying),w.label=16;case 16:return w.trys.push([16,18,,19]),[4,ae({variables:{extensionId:e,replId:le,outputDirectory:t}})];case 17:return b=w.sent(),[3,19];case 18:return x=w.sent(),k(Jk.DeployError),x.message.includes("received message larger than max")?(oe("Your extension's size is too large. Please compress assets or remove files, and try again."),[2]):(oe(x.message),[2]);case 19:return b.errors?(k(Jk.DeployError),oe("Internal error. Please contact support: "+b.errors.map((function(e){return e.message})).join(", ")),[2]):b.data?"Extension"===(y=b.data.deployExtension).__typename?y.url?(h(),(0,g.j)(g.U3.EXTENSION_DEVELOPER_ONBOARDING_COMPLETED,{step:"publish"}),k(Jk.Success),H(y),[2]):(k(Jk.DeployError),oe("Encountered an unknown error. Please contact support."),[2]):"message"in y?(k(Jk.DeployError),oe(y.message),[2]):(k(Jk.DeployError),oe("Encountered an unknown error. Please contact support."),[2]):(k(Jk.DeployError),oe("Encountered an unknown error. Please contact support."),[2])}}))})),[ge,S,a,I,P,le,u,k,ae,v,f,Z,ve,M]),xe=function(e){switch(e){case Jk.Init:return sC.Init;case Jk.Building:case Jk.BuildError:return sC.Build;case Jk.Validating:case Jk.ValidationError:return sC.Validate;case Jk.CreatingExtension:case Jk.CreatingExtensionError:return sC.Create;case Jk.Deploying:case Jk.DeployError:return sC.Deploy;default:return sC.Init}}(y),ye=uC.indexOf(xe),we=(0,Rv.Mu)().find((function(e){return e.extensionId===Z})),ke=(0,w.Z)(d.useState(!1),2),Ce=ke[0],Se=ke[1],Re=(0,Rv.WF)(),Te=d.useMemo((function(){return Ce?(0,r.tZ)(Ze.Z,{}):we?(0,r.tZ)(Pn.Z,{}):(0,r.tZ)(po.Z,{})}),[Ce,we]),Ee=(0,Tp.F)().values.global,Ie=(0,Ft.$0)().fireBurst,Ge=(0,w.Z)(d.useState(!1),2),De=Ge[0],Be=Ge[1],Pe=d.useRef(null);return(0,d.useEffect)((function(){Pe.current&&!De&&y===Jk.Success&&(Ie({x:Pe.current.getBoundingClientRect().left,y:Pe.current.getBoundingClientRect().top,heading:-45,numParticles:160,lifetime:1,spread:80,velocity:function(){return(0,Ft.hd)(300,5e3)},size:function(){return{width:(0,Ft.hd)(8,16),height:(0,Ft.hd)(8,16)}},color:[Ee.tealStronger,Ee.blurpleStronger,Ee.yellowStronger]}),Ie({x:Pe.current.getBoundingClientRect().right,y:Pe.current.getBoundingClientRect().top,heading:225,numParticles:160,lifetime:1,velocity:function(){return(0,Ft.hd)(300,5e3)},size:function(){return{width:(0,Ft.hd)(8,16),height:(0,Ft.hd)(8,16)}},color:[Ee.blueStronger,Ee.greenStronger,Ee.pinkStronger]}),Be(!0))}),[Pe.current,y]),(0,r.BX)(c.G,{css:[l.l0.flex.column,l.l0.display.flex,l.l0.height("100%"),l.l0.justify.center,l.l0.align.center,l.l0.position.relative],children:[(0,r.tZ)(c.G,{css:[l.l0.position.absolute,l.l0.top(0),l.l0.left(0),l.l0.right(0)],className:"Confetti",innerRef:Pe}),(0,r.BX)(c.G,{css:[l.l0.p(12),l.l0.pt(16),l.l0.colWithGap(24),l.l0.flex.growAndShrink(1),l.l0.width("100%"),l.l0.maxWidth(800)],children:[y!==Jk.Success?(0,r.BX)(r.HY,{children:[(0,r.BX)(c.G,{css:[l.l0.colWithGap(16)],children:[(0,r.tZ)(s.xv,{variant:"subheadBig",children:"Publish a new release to the Extensions Store"}),(0,r.tZ)(c.G,{css:[l.l0.rowWithGap(4),l.l0.align.center],children:uC.map((function(e,n){return(0,r.BX)(d.Fragment,{children:[0!==n&&(0,r.tZ)(eC,{}),(0,r.tZ)(nC,{state:(t=n,t<ye?$k.Complete:t===ye?[Jk.BuildError,Jk.ValidationError,Jk.CreatingExtensionError,Jk.DeployError].includes(y)?$k.Error:$k.Active:$k.Pending),text:e,hideLoadingIcon:e===sC.Init})]},e);var t}))})]}),(0,r.BX)(c.G,{css:[l.l0.colWithGap(16)],children:[(0,r.BX)(c.G,{css:[l.l0.rowWithGap(8),l.l0.align.center],children:[(0,r.tZ)(Ob.Z,{}),(0,r.tZ)(s.xv,{variant:"subheadDefault",multiline:!1,children:"Build settings"}),(0,r.tZ)(c.G,{css:[l.l0.flex.grow(1),l.l0.border({color:l.TV.backgroundHighest,direction:"y"})]})]}),(0,r.BX)(c.G,{css:[l.l0.colWithGap(4)],children:[(0,r.BX)("label",{htmlFor:"buildCommand",css:[l.l0.display.flex,l.l0.rowWithGap(4),l.l0.align.center],children:[(0,r.tZ)(s.xv,{color:"dimmer",variant:"small",multiline:!1,children:"Build command (optional)"}),(0,r.tZ)(me.u,{tooltip:"This is the command that compiles your app at build time. Leave it blank if you don't need to build your app.",children:(0,r.tZ)(eZ.Z,{size:12})})]}),(0,r.tZ)(Pa.II,{value:null!==S&&void 0!==S?S:"",onChange:function(e){return F(e.target.value)},placeholder:"Example: npm run build",disabled:y!==Jk.Init&&cC.includes(y)})]}),(0,r.BX)(c.G,{css:[l.l0.colWithGap(4)],children:[(0,r.BX)("label",{htmlFor:"outputFolder",css:[l.l0.display.flex,l.l0.rowWithGap(4),l.l0.align.center],children:[(0,r.tZ)(s.xv,{color:"dimmer",variant:"small",multiline:!1,children:"Output folder"}),(0,r.tZ)(me.u,{tooltip:"This is where your build will live. There must be an extension.json file in this folder.",children:(0,r.tZ)(eZ.Z,{size:12})})]}),(0,r.tZ)(Pa.II,{id:"outputFolder",value:null!==I&&void 0!==I?I:"",disabled:y!==Jk.Init&&cC.includes(y),onChange:function(e){D(e.currentTarget.value),p.updateDotReplit([{op:"add",path:"extension/outputDirectory",value:JSON.stringify(e.currentTarget.value)},{op:"add",path:"extension/isExtension",value:JSON.stringify(!0)}])},placeholder:"./extension"}),B?(0,r.tZ)(s.xv,{css:[l.l0.color.accentNegativeStronger],multiline:!1,children:B.message}):null]}),(0,r.tZ)(ce.zx,{text:y===Jk.Init||y.endsWith("Error")?"Deploy and Release":"Deploying\u2026",iconLeft:y===Jk.Init||y.endsWith("Error")?(0,r.tZ)(uu.Z,{}):(0,r.tZ)(Ze.Z,{}),onClick:be,disabled:y!==Jk.Init&&cC.includes(y),colorway:"primary"}),(0,r.BX)(s.xv,{variant:"small",color:"dimmer",children:["By releasing an Extension, you agree to the"," ",(0,r.tZ)("a",{href:_v.Gu.EXTENSIONS_DEVELOPER_TERMS,children:"Developer Terms"})]})]}),A.length>0?(0,r.BX)(c.G,{css:[l.l0.colWithGap(8)],children:[(0,r.BX)(c.G,{css:[l.l0.rowWithGap(8),l.l0.align.center],children:[(0,r.tZ)(kb.Z,{}),(0,r.tZ)(s.xv,{variant:"subheadDefault",multiline:!1,children:"Build logs"}),(0,r.tZ)(c.G,{css:[l.l0.flex.grow(1),l.l0.border({color:l.TV.backgroundHighest,direction:"y"})]})]}),i()?(0,r.tZ)(Hn.E,{text:i(),colorway:"red",icon:(0,r.tZ)(lC.Z,{})}):null,(0,r.tZ)(c.G,{css:[l.l0.display.flex,l.l0.py(12),l.l0.pl(16),l.l0.borderRadius(8),l.l0.overflow("hidden"),{border:"1px solid var(--outline-dimmest)",backgroundColor:null===j||void 0===j?void 0:j.background}],children:(0,r.tZ)(c.K.div,{css:[l.l0.width("100%"),l.l0.maxWidth("100%")],ref:X})})]}):null,fe?(0,r.BX)(se.Tg,{elevated:!0,css:[l.l0.colWithGap(8),l.l0.p(8),l.l0.borderRadius(8)],children:[(0,r.tZ)(s.xv,{variant:"text",maxLines:3,children:fe.message}),(0,r.BX)(c.G,{css:[l.l0.rowWithGap(4),l.l0.align.center],children:[(0,r.tZ)(ce.zx,{text:"No",css:[l.l0.flex.grow(1)],onClick:function(){return fe.callback(!1)}}),(0,r.tZ)(ce.zx,{text:"Yes",colorway:"primary",css:[l.l0.flex.grow(1)],onClick:function(){return fe.callback(!0)}})]})]}):null]}):null,V?(0,r.BX)(c.G,{css:[l.l0.colWithGap(16)],children:[(0,r.BX)(c.G,{css:[l.l0.colWithGap(4)],children:[(0,r.tZ)(s.xv,{variant:"subheadBig",multiline:!1,children:"Congratulations!"}),(0,r.tZ)(s.xv,{color:"dimmer",multiline:!1,children:"You just published a new release to the Extensions Store."})]}),(0,r.tZ)(c.G,{css:[l.l0.py(8)],children:(0,r.tZ)(iC.m,{showMetadata:!1,extension:V,onClick:function(){t({operation:"open",pane:{type:"extensionStore",data:{page:"cover",coverPageExtensionId:(0,To.T8)(V.id)}}})}})}),(0,r.BX)(c.G,{css:[l.l0.rowWithGap(8),l.l0.align.center],children:[(0,r.tZ)(Uk.Z,{}),(0,r.tZ)(s.xv,{variant:"subheadDefault",multiline:!1,children:"Next steps"}),(0,r.tZ)(c.G,{css:[l.l0.flex.grow(1),l.l0.border({color:l.TV.backgroundHighest,direction:"y"})]})]}),(0,r.BX)(c.G,{css:[l.l0.colWithGap(8),l.l0.p(12),l.l0.border({color:l.TV.outlineDimmest}),l.l0.borderRadius(8)],children:[(0,r.tZ)(s.xv,{variant:"subheadDefault",children:"Install your Extension"}),(0,r.tZ)(s.xv,{color:"dimmer",children:"Once installed, you can use the extension in any of your Repls."}),(0,r.tZ)(ce.zx,{text:we?"Already installed":"Install Extension",colorway:we?"green":"primary",disabled:Ce||!!we,iconLeft:Te,loading:Ce,onClick:(0,tt.Z)((function(){return(0,rt.__generator)(this,(function(e){switch(e.label){case 0:return Se(!0),[4,Re({extensionId:(0,To.T8)(V.id),replId:null})];case 1:return e.sent(),Se(!1),[2]}}))}))})]})]}):null]})]})}var pC=t(40176),fC=t(20864),hC=(0,xe.X)({logViewerTopLevel:[l.l0.height("100%")],logsContainer:[l.l0.scrollbar.thin,l.l0.backgroundColor.backgroundDefault,l.l0.overflowY("scroll"),l.l0.flex.growAndShrink(1)],logViewerHeader:[l.l0.p(8),l.l0.border({direction:"bottom",width:l.TV.borderWidthDefault}),l.l0.display.flex,l.l0.flex.row,l.l0.rowWithGap(8),l.l0.align.center],logViewerHeaderControl:[l.l0.flex.row,l.l0.rowWithGap(4),l.l0.align.center],logLine:[l.l0.p(2),l.l0.font.code,de.gU.listItem,l.l0.rowWithGap(2),l.l0.align.center],logLineIcon:[l.l0.p(4),{alignSelf:"flex-start"}],logMessage:{flex:"1 1 0"}});function vC(e){var n=e.log,t=e.prevLevel,i=e.isLast,o=e.isFirst,a=function(){return n.logLevel===pC.i.warn?(0,r.tZ)(xx.Z,{size:16}):n.logLevel===pC.i.error?(0,r.tZ)(lC.Z,{size:16}):(0,r.tZ)(eZ.Z,{size:16,css:{opacity:0}})},u=(0,w.Z)(d.useState(!1),2),p=u[0],f=u[1],h=(0,Hw.Z)().ref;return(0,r.BX)(c.G,{css:[l.l0.flex.column,function(e){if(e===pC.i.warn)return{color:l.TV.yellowStronger,background:"rgba(150, 125, 0, 0.2)",borderTop:o?void 0:"1px solid rgba(150, 125, 0, 0.5)",borderBottom:i?"1px solid rgba(150, 125, 0, 0.5)":void 0,"& .cm-gutter":{backgroundColor:"rgba(150, 125, 0, 0.2)"}};if(e===pC.i.error)return{color:l.TV.accentNegativeStronger,backgroundColor:"rgba(229, 34, 34, 0.2)",borderTop:o?void 0:"1px solid rgba(229, 34, 34, 0.5)",borderBottom:i?"1px solid rgba(229, 34, 34, 0.5)":void 0,"& .cm-gutter":{backgroundColor:"rgba(229, 34, 34, 0.2)"}};var n=l.TV.backgroundHigher;return t===pC.i.warn?n="rgba(150, 125, 0, 0.5)":t===pC.i.error&&(n="rgba(229, 34, 34, 0.5)"),{color:l.TV.foregroundDefault,borderTop:o?void 0:"1px solid ".concat(n),borderBottom:i?"1px solid ".concat(n):void 0}}(n.logLevel)],children:[(0,r.BX)(c.G,{css:hC.logLine,onClick:function(){return f((function(e){return!e}))},children:[(0,r.tZ)(c.G,{css:hC.logLineIcon,children:(0,r.tZ)(a,{})}),(0,r.tZ)(s.xv,{maxLines:10,css:hC.logMessage,variant:"small",children:n.message}),p?(0,r.tZ)(ur.Z,{size:16}):(0,r.tZ)(Hi.Z,{size:16})]}),p?(0,r.tZ)(c.G,{children:(0,r.tZ)(Vw.Z,{ref:h,css:fC.Mp,noHistory:!0,readOnly:!0,lineWrapping:!0,language:"json",fontSize:12,initialDoc:JSON.stringify(n,null,2)})}):null]})}var mC=function(){var e=(0,jp.ZC)(yo.ep),n=(0,jp.E4)(yo.UB),t=(0,w.Z)((0,jp.OA)(yo.UT),2),i=t[0],o=t[1],a=d.useRef(null);return d.useEffect((function(){var e,n=a.current;n&&(null===(e=n.children[n.children.length-1])||void 0===e||e.scrollIntoView({behavior:"smooth"}))}),[e]),(0,r.BX)(c.G,{css:hC.logViewerTopLevel,children:[(0,r.BX)(c.G,{className:"log-viewer-header",css:hC.logViewerHeader,children:[(0,r.tZ)(c.G,{css:hC.logViewerHeaderControl,style:{flexGrow:1},children:(0,r.tZ)(Pa.II,{type:"search",placeholder:"Filter logs",value:null!==i&&void 0!==i?i:"",onChange:function(e){return o(e.target.value)}})}),(0,r.BX)(c.G,{css:hC.logViewerHeaderControl,children:[(0,r.tZ)(ue.h,{alt:"Clear logs",onClick:function(){return n()},children:(0,r.tZ)(la.Z,{id:"clear-logs"})}),(0,r.tZ)("label",{htmlFor:"clear-logs",children:"Clear logs"})]})]}),(0,r.tZ)(c.G,{css:hC.logsContainer,innerRef:a,children:e.map((function(n,t){var i;return(0,r.tZ)(vC,{log:n,prevLevel:null===(i=e[t-1])||void 0===i?void 0:i.logLevel,isFirst:0===t,isLast:t===e.length-1},n.index)}))})]})},gC=t(45851);function ZC(e){var n=e.performPaneOperation,t=(0,w.Z)(d.useState(0),2),i=t[0],o=t[1];return(0,r.tZ)(c.G,{css:[l.l0.flex.column,l.l0.height("100%"),l.l0.position.relative],children:(0,r.BX)(Xb.mQ,{css:[l.l0.flex.grow(1),l.l0.flex.column,l.l0.align.center,l.l0.display.flex,l.l0.overflow("hidden")],selectedIndex:i,onSelectionChange:function(e){return o(e)},children:[(0,r.tZ)(se.Tg,{css:[l.l0.align.center,l.l0.top(0),l.l0.width("100%"),l.l0.zIndex(1)],children:(0,r.BX)(Xb.td,{css:[l.l0.align.center,l.l0.width("100%"),l.l0.pb(0),l.l0.maxWidth(800)],children:[(0,r.tZ)(Xb.OK,{css:[l.l0.p(12),l.l0.height("100%"),l.l0.borderRadius(0)],iconLeft:(0,r.tZ)(gC.Z,{}),children:"Home"}),(0,r.tZ)(Xb.OK,{css:[l.l0.p(12),l.l0.height("100%"),l.l0.borderRadius(0)],iconLeft:(0,r.tZ)(gk.Z,{}),children:"Releases"}),(0,r.tZ)(Xb.OK,{css:[l.l0.p(12),l.l0.height("100%"),l.l0.borderRadius(0)],iconLeft:(0,r.tZ)(lo.Bug,{}),children:"Logs"}),(0,r.tZ)(c.G,{css:l.l0.flex.grow(1)}),(0,r.tZ)(se.Tg,{css:[l.l0.p(8),{boxShadow:"inset 0 -1px 0 var(--outline-dimmest)"}],children:(0,r.tZ)(ce.zx,{text:"Docs",onClick:function(){n({operation:"open",secondary:!0,pane:{type:"docs",data:{url:_v.TT.EXTENSIONS}}})},outlined:!0,small:!0,iconLeft:(0,r.tZ)(ar.Z,{}),css:[l.l0.display.inlineFlex]})})]})}),(0,r.BX)(Xb.nP,{css:[l.l0.flex.grow(1),l.l0.align.center,l.l0.justify.center,l.l0.width("100%"),l.l0.display.flex,l.l0.overflow("hidden")],children:[(0,r.tZ)(Xb.x4,{css:[l.l0.height("100%"),l.l0.p(12),l.l0.maxWidth(800),l.l0.display.flex,l.l0.width("100%"),l.l0.justify.center,l.l0.overflowY("scroll")],children:(0,r.tZ)(Mk,{performPaneOperation:n,setSelectedTab:o})}),(0,r.tZ)(Xb.x4,{css:[l.l0.height("100%"),l.l0.width("100%"),l.l0.overflowY("scroll")],children:(0,r.tZ)(dC,{performPaneOperation:n})}),(0,r.tZ)(Xb.x4,{css:[l.l0.height("100%"),l.l0.width("100%")],children:(0,r.tZ)(mC,{})})]})]})})}var bC={Content:function(e){var n=e.options.performPaneOperation;return(0,r.tZ)(ZC,{performPaneOperation:n})},Icon:function(e){var n=e.size;return(0,r.tZ)(lu.Z,{size:n})},getTitle:function(){return"Extensions Devtools"}};function xC(){var e=(0,Zg.U)();return(0,he.Z)((0,R.Z)({},e),{webview:Tg,commands:bg,debugger:Yg,docs:$b,chat:nx,threadInbox:yb,tutorial:Ib,videoPlayer:Jb,extension:_b,extensionStore:zb,replAuth:xZ,searchReplace:ky,modules:Kb,deployments:tx.R,education:rk,autograder:Ky,instructions:dk,config:hk,preferences:mk,multiplayer:Eg.Z,submitEduRepl:Eg.Z,kaboombar:Eg.Z,extensionDevtools:bC})}var yC=t(45344),wC=t(67121),kC=t(41677),CC=t(88340),SC=(0,xe.X)({root:[l.l0.position.absolute,l.l0.borderRadius(8),l.l0.pt(16),l.l0.align.center,{border:"1px solid",borderColor:l.TV.outlineDimmest}],content:[l.l0.width("100%"),l.l0.flex.growAndShrink(1),{"& > div > label + div":[l.l0.maxWidth(600),l.l0.width("100%"),{alignSelf:"center"}],'& [role="listbox"] > div':[l.l0.align.center],'& [role="listbox"] > div > div':[l.l0.maxWidth("calc(".concat(600,"px - ").concat(l.TV.space16,")")),l.l0.width("100%")],'& [role="option"] > div':[l.l0.borderRadius(8)]}]});function RC(){var e=(0,ut.x)(),n=(0,ut.BN)(),t=(0,ut.CA)(),i=function(){var e=(0,w.Z)((0,_u.L)({accept:[An.Tv.File,el.z.NewPane],collect:function(e){return{isOver:e.isOver()}},hover:function(e){r.drag()},drop:function(e){if("nodes"===e.type){var n=(0,it.ME)(e.nodes);n.length>0&&r.drop({panes:n})}if(e.type===el.z.NewPane){var t=e.pane;r.drop({panes:[t]})}}}),2),n=e[0].isOver,t=e[1],r=(0,ut.m$)({isOver:n});return t}(),o=Rt({openFile:t});return(0,r.tZ)(c.G,{style:{width:e.width,height:e.height,transform:"translate(".concat(e.x,"px, ").concat(e.y,"px)")},css:SC.root,innerRef:i,children:(0,r.tZ)(c.G,{css:SC.content,children:(0,r.tZ)(Jn.X,{autoFocus:!0,command:o,onSelect:function(e){if("openPane"===e.data.type)return(0,g.j)(g.U3.TOOL_OPENED,{source:"Empty Layout",tool:e.data.pane.type}),void n({pane:e.data.pane,edge:"left"})}})})})}var TC=".config/gh/hosts.yml";function EC(){var e=(0,Ae.Z)(),n=(0,pe.Z)().fs,r=(0,on.Z)(),i=(0,d.useRef)(0),o=(0,x.P5)({controlName:"flag-migrate-gh-creds",default:!1,logFlagToAnalytics:!1});return(0,d.useEffect)((function(){var e=n.watchFilePath(TC,{onChange:function(e){return(0,tt.Z)((function(){var a,l,s,c,u,d,p,f;return(0,rt.__generator)(this,(function(h){switch(h.label){case 0:return a=++i.current,mf.kg.info("Workspace: sensitive credentials identified",{type:"github",path:".config/gh/hosts.yml"}),o?[4,t.e(487).then(t.bind(t,80487))]:[2];case 1:if(l=h.sent(),a!==i.current)return[2];h.label=2;case 2:return h.trys.push([2,9,,10]),s=l.load(e.toString()),c=Object.keys(s)[0],u=s[c],[4,n.readFile(".env")];case 3:return d=h.sent(),a!==i.current?[2]:(p=d.error?{}:Ff.Z.parse(d.content.toString()),"github.com"===c?p.GH_TOKEN=u.oauth_token:(p.GH_HOST=c,p.GH_ENTERPRISE_TOKEN=u.oauth_token),f=Ff.Z.serialize(p),[4,n.writeFile(".env",f)]);case 4:if(h.sent(),a!==i.current)return[2];h.label=5;case 5:return h.trys.push([5,7,,8]),[4,n.deleteFile(TC)];case 6:return h.sent().error?r.showError("Failed to remove GitHub authentication token in: ".concat(TC)):r.showNotice("GitHub authentication token safely stored in Secrets"),[3,8];case 7:return h.sent(),r.showError("Failed to remove GitHub authentication token in: ".concat(TC)),[3,8];case 8:return[3,10];case 9:return h.sent(),r.showError("Failed to remove GitHub authentication token in: ".concat(TC)),[3,10];case 10:return[2]}}))}))()}});return function(){e()}}),[n,e,o]),null}function IC(e){var n=e.repl,t=e.currentUser;return(0,r.tZ)(ze.eA,{children:(0,r.tZ)(ut.gC,{initialLayoutState:n.layoutState,isHTML:n.language.startsWith("html"),isStacked:t.editorPreferences.isLayoutStacked,isExtension:Boolean(n.config.isExtension),children:(0,r.tZ)(GC,{repl:n,currentUser:t})})})}function GC(e){var n,t,i=e.repl,o=e.currentUser,a=(0,d.useState)((function(){return(0,it.fK)({config:xC()})}))[0],l=function(e){var n=e.repl,t=(0,ut.CA)(),r=(0,ut.Ge)(),i=(0,Rf.uV)(),o=(0,x.P5)({controlName:"flag-channel-request-priority",logFlagToAnalytics:!1})?void 0:Uv.h.High,a=(0,x.P5)({controlName:"flag-null-diagnostics",logFlagToAnalytics:!1}),l=n.flagOutputs?"outputs":"shellrunner",s="html"===n.language?"html":l,c=(0,d.useState)(!1),u=c[0],p=c[1],f=(0,d.useState)(!1),h=f[0],v=f[1],m=(0,is.e_)();return{services:(0,CC.H)({runnerMode:s,onPresenceCommand:m,onUnrecoverableError:(0,yC.Z)({origin:"replEnvironmentDesktop: services/unrecoverableError",tags:{environment:"desktop"},onNonBsodUnrecoverableError:function(e){e===wC.G.NotAllowed?v(!0):e===wC.G.FirewallDenied&&p(!0)},throwBsod:i}),openFile:t,openMultipleFiles:r,onFirewallDenied:function(){return p(!0)},enableUserEvents:a,channelRequestPriority:{fs:o,dotReplit:o}}),isFirewallDenied:u,isNotAllowed:h}}({repl:i}),s=l.services,c=l.isFirewallDenied,u=l.isNotAllowed,p=(0,at.Z)((function(){return(0,Np._)(null===o||void 0===o?void 0:o.keybindings.keybindings)}),[o]),f=(0,x.P5)({controlName:"flag-warn-gh-creds",default:!1,logFlagToAnalytics:!1});return(0,r.tZ)(so.du,{children:(0,r.BX)($p,{ui:a,services:s,replId:i.id,replSlug:i.slug,replLanguage:i.language,replConfigIsExtension:i.config.isExtension,userKeybindings:p,children:[(0,r.BX)(zu.Z,{origin:"ErrorBoundary: ReplEnvironmentDesktop Top level",bsod:!0,children:[(0,r.tZ)(Vd.h,{}),(0,r.tZ)(ou,{isAdmin:o.isAdmin,isServer:Boolean(i.config.isServer),hostedUrl:i.hostedUrl}),(0,r.tZ)(gg.Z,{replTitle:i.title}),(0,r.tZ)(Bu,{repl:i,currentUser:o}),(0,r.tZ)(Xt,{}),(0,r.tZ)(th,{}),(0,r.tZ)(Sv,{repl:i,currentUser:o}),(0,r.tZ)(ef,{}),(0,r.tZ)(AC,{}),(0,r.tZ)(Pf,{container:s.container}),(0,r.tZ)(cf,{}),f?(0,r.tZ)(EC,{}):null,(0,r.tZ)(Cf,{}),(0,r.tZ)(Mf,{}),(0,r.tZ)(BC,{isMultiplayerSession:i.multiplayers.length>0}),(0,r.tZ)(Jf,{repl:i}),(0,r.tZ)(_f.Z,{isOpen:c&&!u}),(0,r.tZ)(Af.Z,{isOpen:u}),(0,r.tZ)(rf.E,{}),(0,r.tZ)(mg,{hostedUrl:i.hostedUrl}),(0,r.tZ)(uf,{}),(0,r.tZ)(kC.Z,{isOwnRepl:(null===(n=i.user)||void 0===n?void 0:n.id)===o.id,userSubscriptionType:null!==(t=o.userSubscriptionType)&&void 0!==t?t:null}),(0,r.tZ)(Vf,{replId:i.id})]}),(0,r.tZ)(DC,{})]})})}function DC(){var e=(0,w.Z)((0,Rf.qg)(),1)[0],n=(0,ut.lY)();return(0,d.useEffect)((function(){e&&n()}),[e,n]),(0,r.tZ)(Sf.Z,{})}function BC(e){var n=function(e){var n=(0,w.Z)(d.useState(!1),2),t=n[0],r=n[1],i=(0,qf.X)(),o=i&&!i.isDone&&!i.isLoading;return d.useEffect((function(){o||e&&"default"===Yh()&&r(!0)}),[e,o]),{shouldShowModal:t,hideModal:d.useCallback((function(){ev(!0),r(!1)}),[]),confirm:d.useCallback((0,tt.Z)((function(){return(0,rt.__generator)(this,(function(e){switch(e.label){case 0:return[4,$h()];case 1:return e.sent(),r(!1),[2]}}))})),[])}}(e.isMultiplayerSession),t=n.shouldShowModal,i=n.hideModal,o=n.confirm;return t?(0,r.tZ)(Uf,{onCancel:i,onConfirm:o}):null}var PC=c.K.div,_C=(0,i.iv)([l.l0.height("calc(100% - ".concat(k.Mz,"px)")),l.l0.width("100%"),l.l0.top(k.Mz),l.l0.left(0),l.l0.position.absolute]);function AC(){var e=function(){var e=(0,ut.Z9)(),n=(0,Is.Z)(),t=(0,cu.NJ)()&&n?k.Mz:0,r=(0,d.useRef)(null),i=(0,ri.Z)((function(n){var i=n.width,o=n.height;if(i&&o&&r.current){var a=r.current.getBoundingClientRect(),l=a.top,s=a.left;e({width:i,height:o,x:s,y:l-t})}}));return(0,d.useCallback)((function(e){r.current=e,i(e)}),[i])}(),n=(0,ut.kr)(),t=(0,ut.N2)(),i=(0,ut.nG)(),o=(0,ut.rU)(),a=(0,qi.Z)().preferences;return(0,r.tZ)(PC,{ref:e,css:_C,children:n?(0,r.BX)(r.HY,{children:[(0,r.tZ)(Zs,{}),(0,r.BX)("main",{id:"main-content",children:[i.map((function(e){return(0,r.tZ)(ei,{handleId:e},e)})),o.map((function(e){return(0,r.tZ)(Lp,{headerId:e},e)})),t.map((function(e){return(0,r.tZ)(id,{paneId:e},e)})),0===t.length?(0,r.tZ)(RC,{}):null]}),(0,r.tZ)(ut.KB,{}),(0,r.tZ)(tf,{}),(0,r.tZ)(Rp,{}),(0,r.tZ)(so.xV,{fontSize:a.fontSize})]}):null})}var UC=t(9829),LC=t(72019),zC=t(90939);function OC(){var e=(0,T.Z)(["\n  query ReplEnvironmentDesktop(\n    $url: String!\n    $environment: KeybindingsEnvironmentEnum!\n    $platform: KeybindingsPlatformEnum!\n  ) {\n    repl(url: $url) {\n      ... on Repl {\n        id\n        ...ReplEnvironmentDesktopRepl\n        ...ReplEnvironmentTourRepl\n      }\n      ... on ReplRedirect {\n        replUrl\n      }\n      ... on SubscriptionExpiredError {\n        replId\n        isOwner\n      }\n    }\n    currentUser {\n      id\n      ...ReplEnvironmentDesktopCurrentUser\n      keybindings(environment: $environment, platform: $platform) {\n        keybindings\n      }\n    }\n  }\n  ","\n  ","\n  ","\n"]);return OC=function(){return e},e}var XC={},jC=(0,E.Ps)(OC(),K,V,q);var NC=t(53306),MC=t(47091),FC=(0,i.iv)([l.l0.position.fixed,l.l0.top(0),l.l0.left(0),l.l0.height("100%"),l.l0.width("100%")]),WC=(0,i.iv)([l.l0.center,l.l0.flex.growAndShrink(1),l.l0.dragRegion]),VC=function(){var e=null,n=(0,b.useRouter)().query;if(!n.replUrl)throw new Error("Expected replUrl to be set");var t,i=n.replUrl.toString(),u=function(e){var n=(0,R.Z)({},XC,e);return $.a(jC,n)}({variables:{url:i,environment:(0,MC.O)(),platform:(0,NC.X)()},ssr:Boolean(n.ssr)}),p=u.data,f=u.loading,m=u.error,g=p&&"Repl"===p.repl.__typename?p.repl:null,w=(null===p||void 0===p?void 0:p.currentUser)||void 0,k="https://replit.com".concat(i),C=null!==(t=null===g||void 0===g?void 0:g.description)&&void 0!==t?t:void 0,S=(0,d.useState)(!1),T=S[0],E=S[1];if((0,d.useEffect)((function(){return E(!0)}),[]),function(e,n){var t=(0,b.useRouter)(),r=(0,x.P5)({controlName:"migrate2nix-enabled",logFlagToAnalytics:!1}),i="Repl"===(null===e||void 0===e?void 0:e.__typename)?e.language:null,o=(0,x.P5)({controlName:"migrate-".concat(i,"-to-nix"),default:!1,logFlagToAnalytics:!1});(0,d.useEffect)((function(){if(r&&o&&"Repl"===(null===e||void 0===e?void 0:e.__typename)&&"nix"!==e.language&&"html"!==e.language){var n=new URL(window.location.href);t.query.skipMigration||n.searchParams.get("skipMigration")||"/migrateReplToNix"!==t.pathname&&(t.query.migrateNonNix||(n.searchParams.set("migrateNonNix","1"),window.location.replace(n)))}}),[e,t,o,r]),(0,d.useEffect)((function(){if("SubscriptionExpiredError"===(null===e||void 0===e?void 0:e.__typename)){var r=e.replId,i=e.isOwner,o=n.split("/")[1].slice(1);t.replace((0,y.H)({isOwner:i,ownerUsername:o,replId:r}),t.asPath)}}),[e,t,n])}((null===p||void 0===p?void 0:p.repl)||null,i),m)e=(0,r.tZ)(c.G,{css:[l.l0.center,l.l0.flex.growAndShrink(1)],children:(0,r.tZ)(s.xv,{multiline:!1,children:"Something went wrong loading the Repl. Please reload the page and try again."})});else if(f||!T)e=(0,r.tZ)(c.G,{css:WC,children:(0,r.tZ)(UC.Z,{height:100})});else if(g&&w){var I=function(e){var n=e.isLesson,t=e.hasSeenOldWorkspaceTour;return n?null:t?v:h}({isLesson:Boolean(g.lesson),hasSeenOldWorkspaceTour:w.hasSeenOldWorkspaceTour});e=I?(0,r.tZ)(Z,{tour:I,children:(0,r.tZ)(IC,{repl:g,currentUser:w},g.id)}):(0,r.tZ)(IC,{repl:g,currentUser:w},g.id)}else e=(0,r.tZ)(c.G,{css:WC,children:(0,r.tZ)(UC.Z,{height:100})});return(0,r.tZ)(o.Z,{children:(0,r.tZ)(a.Z,{dataCy:"workspace-page",title:"".concat((null===g||void 0===g?void 0:g.title)||""),oembedUrl:k,description:C,noHeader:!0,noFooter:!0,noMain:!0,noSidebar:!0,hideEmailVerify:!0,children:(0,r.BX)(se.Tg,{css:FC,children:[(0,r.tZ)(LC.g,{}),(0,r.tZ)(zC.G,{}),e]})})})}},7446:function(e,n,t){"use strict";t.d(n,{Pc:function(){return x},Pu:function(){return C}});var r=t(72006),i=t(43119),o=t(71440),a=t(94712);function l(){var e=(0,i.Z)(["\n  fragment TeamTemplateReplTemplateMember on TeamMembership {\n    id\n    user {\n      id\n      image\n      username\n      firstName\n      lastName\n    }\n    nickname\n    email\n    permissions\n  }\n"]);return l=function(){return e},e}var s=(0,o.Ps)(l()),c=t(3839),u=t(24635);function d(){var e=(0,i.Z)(["\n  fragment TeamTemplateUser on User {\n    id\n    username\n    displayName\n    fullName\n    image\n    url\n  }\n"]);return d=function(){return e},e}function p(){var e=(0,i.Z)(["\n  fragment TeamTemplateReplSubmission on ReplSubmission {\n    id\n    timeSubmitted\n    timeLastReviewed\n    author {\n      id\n      ...TeamTemplateUser\n    }\n    repl {\n      id\n      title\n      timeCreated\n      template {\n        id\n        dueDate\n      }\n      ...ReplLinkRepl\n    }\n  }\n  ","\n  ","\n"]);return p=function(){return e},e}function f(){var e=(0,i.Z)(["\n  fragment TeamTemplateSubmissionGroup on ReplSubmissionGroup {\n    submission {\n      id\n      timeSubmitted\n      timeLastReviewed\n      isGroupSubmission\n      repl {\n        id\n        url\n        nextPagePathname\n      }\n    }\n    users {\n      id\n      ...TeamTemplateUser\n    }\n  }\n  ","\n"]);return f=function(){return e},e}function h(){var e=(0,i.Z)(["\n  fragment TeamTemplateReplTemplate on ReplTemplate {\n    id\n    isGroupProject\n    isPublished\n    imageUrl\n    url\n    dueDate\n    repl {\n      id\n    }\n    team {\n      id\n      username\n      displayName\n      members {\n        id\n        ...TeamTemplateReplTemplateMember\n      }\n    }\n    author {\n      id\n      username\n      image\n      ...UserLinkUser\n    }\n    submissions {\n      id\n      ...TeamTemplateReplSubmission\n    }\n    submissionGroups {\n      ...TeamTemplateSubmissionGroup\n    }\n  }\n  ","\n  ","\n  ","\n  ","\n"]);return h=function(){return e},e}function v(){var e=(0,i.Z)(["\n  fragment TeamTemplateRepl on Repl {\n    id\n    title\n    slug\n    description\n    ...ReplLinkRepl\n    template {\n      id\n      ...TeamTemplateReplTemplate\n    }\n  }\n  ","\n  ","\n"]);return v=function(){return e},e}function m(){var e=(0,i.Z)(["\n  query TeamTemplate($replUrl: String!) {\n    repl(url: $replUrl) {\n      ... on Repl {\n        id\n        ...TeamTemplateRepl\n      }\n      ... on ReplRedirect {\n        replUrl\n        repl {\n          id\n        }\n      }\n      ... on SubscriptionExpiredError {\n        replId\n      }\n    }\n  }\n  ","\n"]);return m=function(){return e},e}var g={},Z=(0,o.Ps)(d()),b=(0,o.Ps)(p(),Z,a.Y),x=(0,o.Ps)(f(),Z),y=(0,o.Ps)(h(),s,c._,b,x),w=(0,o.Ps)(v(),a.Y,y),k=(0,o.Ps)(m(),w);function C(e){var n=(0,r.Z)({},g,e);return u.a(k,n)}},91813:function(e,n,t){"use strict";t.d(n,{D$:function(){return l},Dd:function(){return d},Ex:function(){return r},OH:function(){return a},Xs:function(){return c},dJ:function(){return u}});var r,i=t(57135),o=t(96583);!function(e){e.Initializing="initialize",e.Connecting="connect",e.GettingInitialConfig="get init config",e.ImportingMigrationTemplate="import migration template",e.MergeDotReplit="merge dot replit",e.ExecingPostMigration="exec post migration",e.UpdatingLanguage="set language",e.Finished="finished",e.Failed="error"}(r||(r={}));var a=".cache/replit/migrate2nix";function l(e){return s.apply(this,arguments)}function s(){return(s=(0,i.Z)((function(e){var n,t,r,i,l;return(0,o.__generator)(this,(function(o){switch(o.label){case 0:return n=e.fs,t=e.templateId,[4,n.stat(a)];case 1:return o.sent().exists?(r=[],t?(i="".concat(a,"/").concat(t),[4,n.stat(i)]):[3,3]):[2,[]];case 2:o.sent().exists&&r.push(i),o.label=3;case 3:return l="".concat(a,"/_"),[4,n.stat(l)];case 4:return o.sent().exists&&r.push(l),[2,r]}}))}))).apply(this,arguments)}var c="/nix/store/ynfs3zx3gxnh2nn1xdmx4dxjqj6l274v-curl-8.1.1-bin/bin/curl",u="/nix/store/g04kanq0g4a9vdlw9mqayvcqfy71r19r-gnutar-1.34/bin/tar",d=["react_native","enzyme","gatsbyjs","gatsbyjsv2","riddlejs","python3","nodejs","java10","cpp","c","javascript","java","bash","python","csharp","ruby","cpp11","pygame","swift","php7","lua","haskell","babel","qbasic","go","sqlite","php_cli","scheme","typescript","php","rust","rlang","dart","kotlin","reactjs","lolcode","kaboom","django","web_project","polygott","julia","express","brainfuck","pyxel","basic","love2d","rails","fsharp","jest","coffeescript","scala","erlang","emoticon","elixir","deno","forth","bloop","reactts","apl","roy","elisp","crystal","tcl","nextjs","nim","sinatra","raku","clojure","python_turtle","perl6","wasm","flow","tkinter","php_server","nodejs_static","java_swing","testj","java_maven","nodejs_prybar","python3_classroom","unlambda","ocaml"]}},function(e){var n=function(n){return e(e.s=n)};e.O(0,[5572,1492,3709,6948,4065,2072,2550,1727,2908,7512,668,8205,2926,4159,1284,747,5878,7243,1362,8814,8877,8314,7721,4001,9887,7225,2462,8822,8873,5971,5931,2605,8609,9020,898,9888,8525,5923,7900,593,4699,5997,7994,5658,358,7305,7249,8340,2963,1963,9774,2888,179],(function(){return n(54186),n(90017)}));var t=e.O();_N_E=t}]);
//# sourceMappingURL=replEnvironmentDesktop-64d34ec7ac4a1319.js.map